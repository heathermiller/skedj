window["Skedj"] =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/main.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@hapi/joi/dist/joi-browser.min.js":
/*!********************************************************!*\
  !*** ./node_modules/@hapi/joi/dist/joi-browser.min.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(e,t){ true?module.exports=t():undefined}(window,(function(){return function(e){var t={};function r(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=11)}([function(e,t,r){"use strict";const s=r(12);e.exports=function(e,...t){if(!e){if(1===t.length&&t[0]instanceof Error)throw t[0];throw new s(t)}}},function(e,t,r){"use strict";const s=r(0),n=r(12),o=r(29);let a,i;const l={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};t.version=o.version,t.defaults={abortEarly:!0,allowUnknown:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},t.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),literal:Symbol("literal"),override:Symbol("override"),prefs:Symbol("prefs"),ref:Symbol("ref"),values:Symbol("values"),template:Symbol("template")},t.assertOptions=function(e,t,r="Options"){s(e&&"object"==typeof e&&!Array.isArray(e),"Options must be of type object");const n=Object.keys(e).filter(e=>!t.includes(e));s(0===n.length,"".concat(r," contain unknown keys: ").concat(n))},t.checkPreferences=function(e){i=i||r(16);const t=i.preferences.validate(e);if(t.error)throw new n([t.error.details[0].message])},t.compare=function(e,t,r){switch(r){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}},t.default=function(e,t){return void 0===e?t:e},t.isIsoDate=function(e){return l.isoDate.test(e)},t.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},t.isResolvable=function(e){return!!e&&(e[t.symbols.ref]||e[t.symbols.template])},t.isSchema=function(e,r={}){const n=e&&e[t.symbols.any];return!!n&&(s(r.legacy||n.version===t.version,"Cannot mix different versions of joi schemas"),!0)},t.isValues=function(e){return e[t.symbols.values]},t.limit=function(e){return Number.isSafeInteger(e)&&e>=0},t.preferences=function(e,s){a=a||r(9),e=e||{},s=s||{};const n=Object.assign({},e,s);return s.errors&&e.errors&&(n.errors=Object.assign({},e.errors,s.errors),n.errors.wrap=Object.assign({},e.errors.wrap,s.errors.wrap)),s.messages&&(n.messages=a.compile(s.messages,e.messages)),delete n[t.symbols.prefs],n},t.tryWithPath=function(e,t,r={}){try{return e()}catch(e){throw void 0!==e.path?e.path=t+"."+e.path:e.path=t,r.append&&(e.message="".concat(e.message," (").concat(e.path,")")),e}},t.validateArg=function(e,r,{assert:s,message:n}){if(t.isSchema(s)){const t=s.validate(e);if(!t.error)return;return t.error.message}if(!s(e))return r?"".concat(r," ").concat(n):n},t.verifyFlat=function(e,t){for(const r of e)s(!Array.isArray(r),"Method no longer accepts array arguments:",t)}},function(e,t,r){"use strict";const s=r(6),n=r(13),o=r(14),a={needsProtoHack:new Set([n.set,n.map,n.weakSet,n.weakMap])};e.exports=a.clone=function(e,t={},r=null){if("object"!=typeof e||null===e)return e;let s=a.clone,i=r;if(t.shallow){if(!0!==t.shallow)return a.cloneWithShallow(e,t);s=e=>e}else if(i){const t=i.get(e);if(t)return t}else i=new Map;const l=n.getInternalProto(e);if(l===n.buffer)return!1;if(l===n.date)return new Date(e.getTime());if(l===n.regex)return new RegExp(e);const c=a.base(e,l,t);if(c===e)return e;if(i&&i.set(e,c),l===n.set)for(const r of e)c.add(s(r,t,i));else if(l===n.map)for(const[r,n]of e)c.set(r,s(n,t,i));const u=o.keys(e,t);for(const r of u){if("__proto__"===r)continue;if(l===n.array&&"length"===r){c.length=e.length;continue}const o=Object.getOwnPropertyDescriptor(e,r);o?o.get||o.set?Object.defineProperty(c,r,o):o.enumerable?c[r]=s(e[r],t,i):Object.defineProperty(c,r,{enumerable:!1,writable:!0,configurable:!0,value:s(e[r],t,i)}):Object.defineProperty(c,r,{enumerable:!0,writable:!0,configurable:!0,value:s(e[r],t,i)})}return c},a.cloneWithShallow=function(e,t){const r=t.shallow;(t=Object.assign({},t)).shallow=!1;const n=new Map;for(const t of r){const r=s(e,t);"object"!=typeof r&&"function"!=typeof r||n.set(r,r)}return a.clone(e,t,n)},a.base=function(e,t,r){if(!1===r.prototype)return a.needsProtoHack.has(t)?new t.constructor:t===n.array?[]:{};const s=Object.getPrototypeOf(e);if(s&&s.isImmutable)return e;if(t===n.array){const e=[];return s!==t&&Object.setPrototypeOf(e,s),e}if(a.needsProtoHack.has(t)){const e=new s.constructor;return s!==t&&Object.setPrototypeOf(e,s),e}return Object.create(s)}},function(e,t,r){"use strict";const s=r(0),n=r(34),o=r(1),a=r(9);e.exports=n.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(e,t){return s("function"==typeof e,"Method must be a function"),s(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:e,description:t}})},validate(e,t,{method:r}){try{return r(e,t)}catch(e){return t.error("any.custom",{error:e})}},args:["method","description"],multi:!0},messages:{method(e){return this.prefs({messages:e})}},shared:{method(e){s(o.isSchema(e)&&e._flags.id,"Schema must be a schema with an id");const t=this.clone();return t.$_terms.shared=t.$_terms.shared||[],t.$_terms.shared.push(e),t.$_mutateRegister(e),t}},warning:{method(e,t){return s(e&&"string"==typeof e,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:e,local:t},warn:!0})},validate:(e,t,{code:r,local:s})=>t.error(r,s),args:["code","local"],multi:!0}},modifiers:{keep(e,t=!0){e.keep=t},message(e,t){e.message=a.compile(t)},warn(e,t=!0){e.warn=t}},manifest:{build(e,t){for(const r in t){const s=t[r];if(["examples","externals","metas","notes","tags"].includes(r))for(const t of s)e=e[r.slice(0,-1)](t);else if("alterations"!==r)if("whens"!==r){if("shared"===r)for(const t of s)e=e.shared(t)}else for(const t of s){const{ref:r,is:s,not:n,then:o,otherwise:a,concat:i}=t;e=i?e.concat(i):r?e.when(r,{is:s,not:n,then:o,otherwise:a,switch:t.switch,break:t.break}):e.when(s,{then:o,otherwise:a,break:t.break})}else{const t={};for(const{target:e,adjuster:r}of s)t[e]=r;e=e.alter(t)}}return e}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":'{{#label}} {{#arg}} references "{{#ref}}" which {{#reason}}',"any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},function(e,t,r){"use strict";const s=r(32),n=r(1),o=r(7);t.Report=class{constructor(e,r,s,n,o,a,i){if(this.code=e,this.flags=n,this.messages=o,this.path=a.path,this.prefs=i,this.state=a,this.value=r,this.message=null,this.template=null,this.local=s||{},this.local.label=t.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const e=this.path[this.path.length-1];"object"!=typeof e&&(this.local.key=e)}}_setTemplate(e){if(this.template=e,!this.flags.label&&0===this.path.length){const e=this._template(this.template,"root");e&&(this.local.label=e)}}toString(){if(this.message)return this.message;const e=this.code;if(!this.prefs.errors.render)return this.code;const t=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return void 0===t?'Error code "'.concat(e,'" is not defined, your custom type is missing the correct messages definition'):(this.message=t.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(e,r){return t.template(this.value,e,r||this.code,this.state,this.prefs)}},t.path=function(e){let t="";for(const r of e)"object"!=typeof r&&("string"==typeof r?(t&&(t+="."),t+=r):t+="[".concat(r,"]"));return t},t.template=function(e,t,r,s,a){if(!t)return;if(o.isTemplate(t))return"root"!==r?t:null;let i=a.errors.language;return n.isResolvable(i)&&(i=i.resolve(e,s,a)),i&&t[i]&&void 0!==t[i][r]?t[i][r]:t[r]},t.label=function(e,r,s,n){if(e.label)return e.label;if(!s.errors.label)return"";let o=r.path;"key"===s.errors.label&&r.path.length>1&&(o=r.path.slice(-1));const a=t.path(o);return a||(t.template(null,s.messages,"root",r,s)||n&&t.template(null,n,"root",r,s)||"value")},t.process=function(e,r,s){if(!e)return null;const{override:n,message:o,details:a}=t.details(e);if(n)return n;if(s.errors.stack)return new t.ValidationError(o,a,r);const i=Error.stackTraceLimit;Error.stackTraceLimit=0;const l=new t.ValidationError(o,a,r);return Error.stackTraceLimit=i,l},t.details=function(e,t={}){let r=[];const s=[];for(const n of e){if(n instanceof Error){if(!1!==t.override)return{override:n};const e=n.toString();r.push(e),s.push({message:e,type:"override",context:{error:n}});continue}const e=n.toString();r.push(e),s.push({message:e,path:n.path.filter(e=>"object"!=typeof e),type:n.code,context:n.local})}return r.length>1&&(r=[...new Set(r)]),{message:r.join(". "),details:s}},t.ValidationError=class extends Error{constructor(e,t,r){super(e),this._original=r,this.details=t}static isError(e){return e instanceof t.ValidationError}},t.ValidationError.prototype.isJoi=!0,t.ValidationError.prototype.name="ValidationError",t.ValidationError.prototype.annotate=s.error},function(e,t,r){"use strict";const s=r(0),n=r(2),o=r(6),a=r(1);let i;const l={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};t.create=function(e,t={}){s("string"==typeof e,"Invalid reference key:",e),a.assertOptions(t,["adjust","ancestor","in","iterables","map","prefix","separator"]),s(!t.prefix||"object"==typeof t.prefix,"options.prefix must be of type object");const r=Object.assign({},l.defaults,t);delete r.prefix;const n=r.separator,o=l.context(e,n,t.prefix);if(r.type=o.type,e=o.key,"value"===r.type)if(o.root&&(s(!n||e[0]!==n,"Cannot specify relative path with root prefix"),r.ancestor="root",e||(e=null)),n&&n===e)e=null,r.ancestor=0;else if(void 0!==r.ancestor)s(!n||!e||e[0]!==n,"Cannot combine prefix with ancestor option");else{const[t,s]=l.ancestor(e,n);s&&""===(e=e.slice(s))&&(e=null),r.ancestor=t}return r.path=n?null===e?[]:e.split(n):[e],new l.Ref(r)},t.in=function(e,r={}){return t.create(e,Object.assign({},r,{in:!0}))},t.isRef=function(e){return!!e&&!!e[a.symbols.ref]},l.Ref=class{constructor(e){s("object"==typeof e,"Invalid reference construction"),a.assertOptions(e,["adjust","ancestor","in","iterables","map","path","separator","type","depth","key","root","display"]),s([!1,void 0].includes(e.separator)||"string"==typeof e.separator&&1===e.separator.length,"Invalid separator"),s(!e.adjust||"function"==typeof e.adjust,"options.adjust must be a function"),s(!e.map||Array.isArray(e.map),"options.map must be an array"),s(!e.map||!e.adjust,"Cannot set both map and adjust options"),Object.assign(this,l.defaults,e),s("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(e,t,r,n,o={}){return s(!this.in||o.in,"Invalid in() reference usage"),"global"===this.type?this._resolve(r.context,t,o):"local"===this.type?this._resolve(n,t,o):this.ancestor?"root"===this.ancestor?this._resolve(t.ancestors[t.ancestors.length-1],t,o):(s(this.ancestor<=t.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(t.ancestors[this.ancestor-1],t,o)):this._resolve(e,t,o)}_resolve(e,t,r){let s;if("value"===this.type&&t.mainstay.shadow&&!1!==r.shadow&&(s=t.mainstay.shadow.get(this.absolute(t))),void 0===s&&(s=o(e,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(s=this.adjust(s)),this.map){const e=this.map.get(s);void 0!==e&&(s=e)}return t.mainstay&&t.mainstay.tracer.resolve(t,this,s),s}toString(){return this.display}absolute(e){return[...e.path.slice(0,-this.ancestor),...this.path]}clone(){return new l.Ref(this)}describe(){const e={path:this.path};"value"!==this.type&&(e.type=this.type),"."!==this.separator&&(e.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(e.ancestor=this.ancestor),this.map&&(e.map=[...this.map]);for(const t of["adjust","iterables"])null!==this[t]&&(e[t]=this[t]);return!1!==this.in&&(e.in=!0),{ref:e}}updateDisplay(){const e=null!==this.key?this.key:"";if("value"!==this.type)return void(this.display="ref:".concat(this.type,":").concat(e));if(!this.separator)return void(this.display="ref:".concat(e));if(!this.ancestor)return void(this.display="ref:".concat(this.separator).concat(e));if("root"===this.ancestor)return void(this.display="ref:root:".concat(e));if(1===this.ancestor)return void(this.display="ref:".concat(e||".."));const t=new Array(this.ancestor+1).fill(this.separator).join("");this.display="ref:".concat(t).concat(e||"")}},l.Ref.prototype[a.symbols.ref]=!0,t.build=function(e){return"value"===(e=Object.assign({},l.defaults,e)).type&&void 0===e.ancestor&&(e.ancestor=1),new l.Ref(e)},l.context=function(e,t,r={}){if(e=e.trim(),r){const s=void 0===r.global?"$":r.global;if(s!==t&&e.startsWith(s))return{key:e.slice(s.length),type:"global"};const n=void 0===r.local?"#":r.local;if(n!==t&&e.startsWith(n))return{key:e.slice(n.length),type:"local"};const o=void 0===r.root?"/":r.root;if(o!==t&&e.startsWith(o))return{key:e.slice(o.length),type:"value",root:!0}}return{key:e,type:"value"}},l.ancestor=function(e,t){if(!t)return[1,0];if(e[0]!==t)return[1,0];if(e[1]!==t)return[0,1];let r=2;for(;e[r]===t;)++r;return[r-1,r]},t.toSibling=0,t.toParent=1,t.Manager=class{constructor(){this.refs=[]}register(e,s){if(e)if(s=void 0===s?t.toParent:s,Array.isArray(e))for(const t of e)this.register(t,s);else if(a.isSchema(e))for(const t of e._refs.refs)t.ancestor-s>=0&&this.refs.push({ancestor:t.ancestor-s,root:t.root});else t.isRef(e)&&"value"===e.type&&e.ancestor-s>=0&&this.refs.push({ancestor:e.ancestor-s,root:e.root}),i=i||r(7),i.isTemplate(e)&&this.register(e.refs(),s)}get length(){return this.refs.length}clone(){const e=new t.Manager;return e.refs=n(this.refs),e}reset(){this.refs=[]}roots(){return this.refs.filter(e=>!e.ancestor).map(e=>e.root)}}},function(e,t,r){"use strict";const s=r(0),n={};e.exports=function(e,t,r){if(!1===t||null==t)return e;"string"==typeof(r=r||{})&&(r={separator:r});const o=Array.isArray(t);s(!o||!r.separator,"Separator option no valid for array-based chain");const a=o?t:t.split(r.separator||".");let i=e;for(let e=0;e<a.length;++e){let o=a[e];const l=r.iterables&&n.iterables(i);if(Array.isArray(i)||"set"===l){const e=Number(o);Number.isInteger(e)&&(o=e<0?i.length+e:e)}if(!i||"function"==typeof i&&!1===r.functions||!l&&void 0===i[o]){s(!r.strict||e+1===a.length,"Missing segment",o,"in reach path ",t),s("object"==typeof i||!0===r.functions||"function"!=typeof i,"Invalid segment",o,"in reach path ",t),i=r.default;break}i=l?"set"===l?[...i][o]:i.get(o):i[o]}return i},n.iterables=function(e){return e instanceof Set?"set":e instanceof Map?"map":void 0}},function(e,t,r){"use strict";const s=r(0),n=r(2),o=r(30),a=r(31),i=r(1),l=r(4),c=r(5),u={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};e.exports=u.Template=class{constructor(e,t){s("string"==typeof e,"Template source must be a string"),s(!e.includes("\0")&&!e.includes(""),"Template source cannot contain reserved control characters"),this.source=e,this.rendered=e,this._template=null,this._settings=n(t),this._parse()}_parse(){if(!this.source.includes("{"))return;const e=u.encode(this.source),t=u.split(e);let r=!1;const s=[],n=t.shift();n&&s.push(n);for(const e of t){const t="{"!==e[0],n=t?"}":"}}",o=e.indexOf(n);if(-1===o||"{"===e[1]){s.push("{".concat(u.decode(e)));continue}const a=e.slice(t?0:1,o),i=this._ref(u.decode(a),t);s.push(i),"string"!=typeof i&&(r=!0);const l=e.slice(o+n.length);l&&s.push(u.decode(l))}r?this._template=s:this.rendered=s.join("")}static date(e,t){return u.dateFormat[t.dateFormat].call(e)}describe(e={}){if(!this._settings&&e.compact)return this.source;const t={template:this.source};return this._settings&&(t.options=this._settings),t}static build(e){return new u.Template(e.template,e.options)}isDynamic(){return!!this._template}static isTemplate(e){return!!e&&!!e[i.symbols.template]}refs(){if(!this._template)return;const e=[];for(const t of this._template)"string"!=typeof t&&e.push(...t.refs);return e}resolve(e,t,r,s){return this._template&&1===this._template.length?this._part(this._template[0],e,t,r,s,{}):this.render(e,t,r,s)}_part(e,...t){return e.ref?e.ref.resolve(...t):e.formula.evaluate(t)}render(e,t,r,s,n={}){if(!this.isDynamic())return this.rendered;const a=[];for(const i of this._template)if("string"==typeof i)a.push(i);else{const l=this._part(i,e,t,r,s,n),c=u.stringify(l,r,n.errors);if(void 0!==c){const e=i.raw||!1===(n.errors&&n.errors.escapeHtml)?c:o(c),t=i.ref&&"local"===i.ref.type&&"label"===i.ref.key&&r.errors.wrap.label;a.push(u.wrap(e,t))}}return a.join("")}_ref(e,t){const r=[],s=e=>{const t=c.create(e,this._settings);return r.push(t),e=>t.resolve(...e)};try{var n=new a.Parser(e,{reference:s,functions:u.functions,constants:u.constants})}catch(t){throw t.message='Invalid template variable "'.concat(e,'" fails due to: ').concat(t.message),t}return n.single?"reference"===n.single.type?{ref:r[0],raw:t,refs:r}:u.stringify(n.single.value):{formula:n,raw:t,refs:r}}toString(){return this.source}},u.Template.prototype[i.symbols.template]=!0,u.Template.prototype.isImmutable=!0,u.encode=function(e){return e.replace(/\\(\{+)/g,(e,t)=>u.opens.slice(0,t.length)).replace(/\\(\}+)/g,(e,t)=>u.closes.slice(0,t.length))},u.decode=function(e){return e.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},u.split=function(e){const t=[];let r="";for(let s=0;s<e.length;++s){const n=e[s];if("{"===n){let n="";for(;s+1<e.length&&"{"===e[s+1];)n+="{",++s;t.push(r),r=n}else r+=n}return t.push(r),t},u.wrap=function(e,t){return t?1===t.length?"".concat(t).concat(e).concat(t):"".concat(t[0]).concat(e).concat(t[1]):e},u.stringify=function(e,t,r){const s=typeof e;if(null===e)return"null";if("string"===s)return e;if("number"===s||"function"===s||"symbol"===s)return e.toString();if("object"!==s)return JSON.stringify(e);if(e instanceof Date)return u.Template.date(e,t);if(e instanceof Map){const t=[];for(const[r,s]of e.entries())t.push("".concat(r.toString()," -> ").concat(s.toString()));e=t}if(!Array.isArray(e))return e.toString();let n="";for(const s of e)n=n+(n.length?", ":"")+u.stringify(s,t,r);return u.wrap(n,t.errors.wrap.array)},u.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},u.functions={if:(e,t,r)=>e?t:r,msg(e){const[t,r,s,n,o]=this,a=o.messages;if(!a)return"";const i=l.template(t,a[0],e,r,s)||l.template(t,a[1],e,r,s);return i?i.render(t,r,s,n,o):""},number:e=>"number"==typeof e?e:"string"==typeof e?parseFloat(e):"boolean"==typeof e?e?1:0:e instanceof Date?e.getTime():null}},function(e,t,r){"use strict";const s=r(0),n=r(1),o=r(5),a={};t.schema=function(e,t,r={}){n.assertOptions(r,["appendPath","override"]);try{return a.schema(e,t,r)}catch(e){throw r.appendPath&&void 0!==e.path&&(e.message="".concat(e.message," (").concat(e.path,")")),e}},a.schema=function(e,t,r){s(void 0!==t,"Invalid undefined schema"),Array.isArray(t)&&(s(t.length,"Invalid empty array schema"),1===t.length&&(t=t[0]));const o=(t,...s)=>!1!==r.override?t.valid(e.override,...s):t.valid(...s);if(a.simple(t))return o(e,t);if("function"==typeof t)return e.custom(t);if(s("object"==typeof t,"Invalid schema content:",typeof t),n.isResolvable(t))return o(e,t);if(n.isSchema(t))return t;if(Array.isArray(t)){for(const r of t)if(!a.simple(r))return e.alternatives().try(...t);return o(e,...t)}return t instanceof RegExp?e.string().regex(t):t instanceof Date?o(e.date(),t):(s(Object.getPrototypeOf(t)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e.object().keys(t))},t.ref=function(e,t){return o.isRef(e)?e:o.create(e,t)},t.compile=function(e,r,o={}){n.assertOptions(o,["legacy"]);const i=r&&r[n.symbols.any];if(i)return s(o.legacy||i.version===n.version,"Cannot mix different versions of joi schemas:",i.version,n.version),r;if("object"!=typeof r||!o.legacy)return t.schema(e,r,{appendPath:!0});const l=a.walk(r);return l?l.compile(l.root,r):t.schema(e,r,{appendPath:!0})},a.walk=function(e){if("object"!=typeof e)return null;if(Array.isArray(e)){for(const t of e){const e=a.walk(t);if(e)return e}return null}const t=e[n.symbols.any];if(t)return{root:e[t.root],compile:t.compile};s(Object.getPrototypeOf(e)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const t in e){const r=a.walk(e[t]);if(r)return r}return null},a.simple=function(e){return null===e||["boolean","string","number"].includes(typeof e)},t.when=function(e,r,i){if(void 0===i&&(s(r&&"object"==typeof r,"Missing options"),i=r,r=o.create(".")),Array.isArray(i)&&(i={switch:i}),n.assertOptions(i,["is","not","then","otherwise","switch","break"]),n.isSchema(r))return s(void 0===i.is,'"is" can not be used with a schema condition'),s(void 0===i.not,'"not" can not be used with a schema condition'),s(void 0===i.switch,'"switch" can not be used with a schema condition'),a.condition(e,{is:r,then:i.then,otherwise:i.otherwise,break:i.break});if(s(o.isRef(r)||"string"==typeof r,"Invalid condition:",r),s(void 0===i.not||void 0===i.is,'Cannot combine "is" with "not"'),void 0===i.switch){let l=i;void 0!==i.not&&(l={is:i.not,then:i.otherwise,otherwise:i.then,break:i.break});let c=void 0!==l.is?e.$_compile(l.is):e.$_root.invalid(null,!1,0,"").required();return s(void 0!==l.then||void 0!==l.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),s(void 0===l.break||void 0===l.then||void 0===l.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===i.is||o.isRef(i.is)||n.isSchema(i.is)||(c=c.required()),a.condition(e,{ref:t.ref(r),is:c,then:l.then,otherwise:l.otherwise,break:l.break})}s(Array.isArray(i.switch),'"switch" must be an array'),s(void 0===i.is,'Cannot combine "switch" with "is"'),s(void 0===i.not,'Cannot combine "switch" with "not"'),s(void 0===i.then,'Cannot combine "switch" with "then"');const l={ref:t.ref(r),switch:[],break:i.break};for(let t=0;t<i.switch.length;++t){const r=i.switch[t],a=t===i.switch.length-1;n.assertOptions(r,a?["is","then","otherwise"]:["is","then"]),s(void 0!==r.is,'Switch statement missing "is"'),s(void 0!==r.then,'Switch statement missing "then"');const c={is:e.$_compile(r.is),then:e.$_compile(r.then)};if(o.isRef(r.is)||n.isSchema(r.is)||(c.is=c.is.required()),a){s(void 0===i.otherwise||void 0===r.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');const t=void 0!==i.otherwise?i.otherwise:r.otherwise;void 0!==t&&(s(void 0===l.break,"Cannot specify both otherwise and break"),c.otherwise=e.$_compile(t))}l.switch.push(c)}return l},a.condition=function(e,t){for(const r of["then","otherwise"])void 0===t[r]?delete t[r]:t[r]=e.$_compile(t[r]);return t}},function(e,t,r){"use strict";const s=r(0),n=r(2),o=r(7);t.compile=function(e,t){if("string"==typeof e)return s(!t,"Cannot set single message string"),new o(e);if(o.isTemplate(e))return s(!t,"Cannot set single message template"),e;s("object"==typeof e&&!Array.isArray(e),"Invalid message options"),t=t?n(t):{};for(let r in e){const n=e[r];if("root"===r||o.isTemplate(n)){t[r]=n;continue}if("string"==typeof n){t[r]=new o(n);continue}s("object"==typeof n&&!Array.isArray(n),"Invalid message for",r);const a=r;for(r in t[a]=t[a]||{},n){const e=n[r];"root"===r||o.isTemplate(e)?t[a][r]=e:(s("string"==typeof e,"Invalid message for",r,"in",a),t[a][r]=new o(e))}}return t},t.decompile=function(e){const t={};for(let r in e){const s=e[r];if("root"===r){t[r]=s;continue}if(o.isTemplate(s)){t[r]=s.describe({compact:!0});continue}const n=r;for(r in t[n]={},s){const e=s[r];"root"!==r?t[n][r]=e.describe({compact:!0}):t[n][r]=e}}return t},t.merge=function(e,r){if(!e)return t.compile(r);if(!r)return e;if("string"==typeof r)return new o(r);if(o.isTemplate(r))return r;const a=n(e);for(let e in r){const t=r[e];if("root"===e||o.isTemplate(t)){a[e]=t;continue}if("string"==typeof t){a[e]=new o(t);continue}s("object"==typeof t&&!Array.isArray(t),"Invalid message for",e);const n=e;for(e in a[n]=a[n]||{},t){const r=t[e];"root"===e||o.isTemplate(r)?a[n][e]=r:(s("string"==typeof r,"Invalid message for",e,"in",n),a[n][e]=new o(r))}}return a}},function(e,t,r){"use strict";const s=r(13),n={mismatched:null};e.exports=function(e,t,r){return r=Object.assign({prototype:!0},r),!!n.isDeepEqual(e,t,r,[])},n.isDeepEqual=function(e,t,r,o){if(e===t)return 0!==e||1/e==1/t;const a=typeof e;if(a!==typeof t)return!1;if(null===e||null===t)return!1;if("function"===a){if(!r.deepFunction||e.toString()!==t.toString())return!1}else if("object"!==a)return e!=e&&t!=t;const i=n.getSharedType(e,t,!!r.prototype);switch(i){case s.buffer:return!1;case s.promise:return e===t;case s.regex:return e.toString()===t.toString();case n.mismatched:return!1}for(let r=o.length-1;r>=0;--r)if(o[r].isSame(e,t))return!0;o.push(new n.SeenEntry(e,t));try{return!!n.isDeepEqualObj(i,e,t,r,o)}finally{o.pop()}},n.getSharedType=function(e,t,r){if(r)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?n.mismatched:s.getInternalProto(e);const o=s.getInternalProto(e);return o!==s.getInternalProto(t)?n.mismatched:o},n.valueOf=function(e){const t=e.valueOf;if(void 0===t)return e;try{return t.call(e)}catch(e){return e}},n.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)},n.isSetSimpleEqual=function(e,t){for(const r of e)if(!t.has(r))return!1;return!0},n.isDeepEqualObj=function(e,t,r,o,a){const{isDeepEqual:i,valueOf:l,hasOwnEnumerableProperty:c}=n,{keys:u,getOwnPropertySymbols:f}=Object;if(e===s.array){if(!o.part){if(t.length!==r.length)return!1;for(let e=0;e<t.length;++e)if(!i(t[e],r[e],o,a))return!1;return!0}for(const e of t)for(const t of r)if(i(e,t,o,a))return!0}else if(e===s.set){if(t.size!==r.size)return!1;if(!n.isSetSimpleEqual(t,r)){const e=new Set(r);for(const r of t){if(e.delete(r))continue;let t=!1;for(const s of e)if(i(r,s,o,a)){e.delete(s),t=!0;break}if(!t)return!1}}}else if(e===s.map){if(t.size!==r.size)return!1;for(const[e,s]of t){if(void 0===s&&!r.has(e))return!1;if(!i(s,r.get(e),o,a))return!1}}else if(e===s.error&&(t.name!==r.name||t.message!==r.message))return!1;const m=l(t),h=l(r);if((t!==m||r!==h)&&!i(m,h,o,a))return!1;const d=u(t);if(!o.part&&d.length!==u(r).length&&!o.skip)return!1;let p=0;for(const e of d)if(o.skip&&o.skip.includes(e))void 0===r[e]&&++p;else{if(!c(r,e))return!1;if(!i(t[e],r[e],o,a))return!1}if(!o.part&&d.length-p!==u(r).length)return!1;if(!1!==o.symbols){const e=f(t),s=new Set(f(r));for(const n of e){if(!o.skip||!o.skip.includes(n))if(c(t,n)){if(!c(r,n))return!1;if(!i(t[n],r[n],o,a))return!1}else if(c(r,n))return!1;s.delete(n)}for(const e of s)if(c(r,e))return!1}return!0},n.SeenEntry=class{constructor(e,t){this.obj=e,this.ref=t}isSame(e,t){return this.obj===e&&this.ref===t}}},function(e,t,r){"use strict";const s=r(0),n=r(2),o=r(15),a=r(1),i=r(8),l=r(4),c=r(17),u=r(18),f=r(5),m=r(7),h=r(19);let d;const p={types:{alternatives:r(33),any:r(3),array:r(39),boolean:r(40),date:r(41),function:r(42),link:r(45),number:r(46),object:r(47),string:r(48),symbol:r(52)},aliases:{alt:"alternatives",bool:"boolean",func:"function"}};p.root=function(){const e={_types:new Set(Object.keys(p.types))};for(const t of e._types)e[t]=function(...e){return s(!e.length||["alternatives","link","object"].includes(t),"The",t,"type does not allow arguments"),p.generate(this,p.types[t],e)};for(const t of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])e[t]=function(...e){return this.any()[t](...e)};Object.assign(e,p.methods);for(const t in p.aliases){const r=p.aliases[t];e[t]=e[r]}return e.x=e.expression,h.setup&&h.setup(e),e},p.methods={ValidationError:l.ValidationError,version:a.version,cache:o.provider,assert(e,t,...r){p.assert(e,t,!0,r)},attempt:(e,t,...r)=>p.assert(e,t,!1,r),build(e){return s("function"==typeof u.build,"Manifest functionality disabled"),u.build(this,e)},checkPreferences(e){a.checkPreferences(e)},compile(e,t){return i.compile(this,e,t)},defaults(e){s("function"==typeof e,"modifier must be a function");const t=Object.assign({},this);for(const r of t._types){const n=e(t[r]());s(a.isSchema(n),"modifier must return a valid schema object"),t[r]=function(...e){return p.generate(this,n,e)}}return t},expression:(...e)=>new m(...e),extend(...e){a.verifyFlat(e,"extend"),d=d||r(16),s(e.length,"You need to provide at least one extension"),this.assert(e,d.extensions);const t=Object.assign({},this);t._types=new Set(t._types);for(let r of e){"function"==typeof r&&(r=r(t)),this.assert(r,d.extension);const e=p.expandExtension(r,t);for(const r of e){s(void 0===t[r.type]||t._types.has(r.type),"Cannot override name",r.type);const e=r.base||this.any(),n=c.type(e,r);t._types.add(r.type),t[r.type]=function(...e){return p.generate(this,n,e)}}}return t},isError:l.ValidationError.isError,isExpression:m.isTemplate,isRef:f.isRef,isSchema:a.isSchema,in:(...e)=>f.in(...e),override:a.symbols.override,ref:(...e)=>f.create(...e),types(){const e={};for(const t of this._types)e[t]=this[t]();for(const t in p.aliases)e[t]=this[t]();return e}},p.assert=function(e,t,r,s){const o=s[0]instanceof Error||"string"==typeof s[0]?s[0]:null,i=o?s[1]:s[0],c=t.validate(e,a.preferences({errors:{stack:!0}},i||{}));let u=c.error;if(!u)return c.value;if(o instanceof Error)throw o;const f=r&&"function"==typeof u.annotate?u.annotate():u.message;throw u instanceof l.ValidationError==!1&&(u=n(u)),u.message=o?"".concat(o," ").concat(f):f,u},p.generate=function(e,t,r){return s(e,"Must be invoked on a Joi instance."),t.$_root=e,t._definition.args&&r.length?t._definition.args(t,...r):t},p.expandExtension=function(e,t){if("string"==typeof e.type)return[e];const r=[];for(const s of t._types)if(e.type.test(s)){const n=Object.assign({},e);n.type=s,n.base=t[s](),r.push(n)}return r},e.exports=p.root()},function(e,t,r){"use strict";const s=r(28);e.exports=class extends Error{constructor(e){super(e.filter(e=>""!==e).map(e=>"string"==typeof e?e:e instanceof Error?e.message:s(e)).join(" ")||"Unknown error"),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t.assert)}}},function(e,t,r){"use strict";const s={};t=e.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},s.typeMap=new Map([["[object Error]",t.error],["[object Map]",t.map],["[object Promise]",t.promise],["[object Set]",t.set],["[object WeakMap]",t.weakMap],["[object WeakSet]",t.weakSet]]),t.getInternalProto=function(e){if(Array.isArray(e))return t.array;if(e instanceof Date)return t.date;if(e instanceof RegExp)return t.regex;if(e instanceof Error)return t.error;const r=Object.prototype.toString.call(e);return s.typeMap.get(r)||t.generic}},function(e,t,r){"use strict";t.keys=function(e,t={}){return!1!==t.symbols?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)}},function(e,t,r){"use strict";const s=r(0),n=r(2),o=r(1),a={max:1e3,supported:new Set(["undefined","boolean","number","string"])};t.provider={provision:e=>new a.Cache(e)},a.Cache=class{constructor(e={}){o.assertOptions(e,["max"]),s(void 0===e.max||e.max&&e.max>0&&isFinite(e.max),"Invalid max cache size"),this._max=e.max||a.max,this._map=new Map,this._list=new a.List}get length(){return this._map.size}set(e,t){if(null!==e&&!a.supported.has(typeof e))return;let r=this._map.get(e);if(r)return r.value=t,void this._list.first(r);r=this._list.unshift({key:e,value:t}),this._map.set(e,r),this._compact()}get(e){const t=this._map.get(e);if(t)return this._list.first(t),n(t.value)}_compact(){if(this._map.size>this._max){const e=this._list.pop();this._map.delete(e.key)}}},a.List=class{constructor(){this.tail=null,this.head=null}unshift(e){return e.next=null,e.prev=this.head,this.head&&(this.head.next=e),this.head=e,this.tail||(this.tail=e),e}first(e){e!==this.head&&(this._remove(e),this.unshift(e))}pop(){return this._remove(this.tail)}_remove(e){const{next:t,prev:r}=e;return t.prev=r,r&&(r.next=t),e===this.tail&&(this.tail=t),e.prev=null,e.next=null,e}}},function(e,t,r){"use strict";const s=r(11),n={};n.wrap=s.string().min(1).max(2).allow(!1),t.preferences=s.object({allowUnknown:s.boolean(),abortEarly:s.boolean(),cache:s.boolean(),context:s.object(),convert:s.boolean(),dateFormat:s.valid("date","iso","string","time","utc"),debug:s.boolean(),errors:{escapeHtml:s.boolean(),label:s.valid("path","key",!1),language:[s.string(),s.object().ref()],render:s.boolean(),stack:s.boolean(),wrap:{label:n.wrap,array:n.wrap}},externals:s.boolean(),messages:s.object(),noDefaults:s.boolean(),nonEnumerables:s.boolean(),presence:s.valid("required","optional","forbidden"),skipFunctions:s.boolean(),stripUnknown:s.object({arrays:s.boolean(),objects:s.boolean()}).or("arrays","objects").allow(!0,!1),warnings:s.boolean()}).strict(),n.nameRx=/^[a-zA-Z0-9]\w*$/,n.rule=s.object({alias:s.array().items(s.string().pattern(n.nameRx)).single(),args:s.array().items(s.string(),s.object({name:s.string().pattern(n.nameRx).required(),ref:s.boolean(),assert:s.alternatives([s.function(),s.object().schema()]).conditional("ref",{is:!0,then:s.required()}),normalize:s.function(),message:s.string().when("assert",{is:s.function(),then:s.required()})})),convert:s.boolean(),manifest:s.boolean(),method:s.function().allow(!1),multi:s.boolean(),validate:s.function()}),t.extension=s.object({type:s.alternatives([s.string(),s.object().regex()]).required(),args:s.function(),base:s.object().schema().when("type",{is:s.object().regex(),then:s.forbidden()}),coerce:[s.function().maxArity(3),s.object({method:s.function().maxArity(3).required(),from:s.array().items(s.string()).single()})],flags:s.object().pattern(n.nameRx,s.object({setter:s.string(),default:s.any()})),manifest:{build:s.function().arity(2)},messages:[s.object(),s.string()],modifiers:s.object().pattern(n.nameRx,s.function().minArity(1).maxArity(2)),overrides:s.object().pattern(n.nameRx,s.function()),prepare:s.function().maxArity(3),rebuild:s.function().arity(1),rules:s.object().pattern(n.nameRx,n.rule),terms:s.object().pattern(n.nameRx,s.object({init:s.array().allow(null).required(),manifest:s.object().pattern(/.+/,[s.valid("schema","single"),s.object({mapped:s.object({from:s.string().required(),to:s.string().required()}).required()})])})),validate:s.function().maxArity(3)}).strict(),t.extensions=s.array().items(s.object(),s.function().arity(1)).strict(),n.desc={buffer:s.object({buffer:s.string()}),func:s.object({function:s.function().required(),options:{literal:!0}}),override:s.object({override:!0}),ref:s.object({ref:s.object({type:s.valid("value","global","local"),path:s.array().required(),separator:s.string().length(1).allow(!1),ancestor:s.number().min(0).integer().allow("root"),map:s.array().items(s.array().length(2)).min(1),adjust:s.function(),iterables:s.boolean(),in:s.boolean()}).required()}),regex:s.object({regex:s.string().min(3)}),special:s.object({special:s.valid("deep").required()}),template:s.object({template:s.string().required(),options:s.object()}),value:s.object({value:s.alternatives([s.object(),s.array()]).required()})},n.desc.entity=s.alternatives([s.array().items(s.link("...")),s.boolean(),s.function(),s.number(),s.string(),n.desc.buffer,n.desc.func,n.desc.ref,n.desc.regex,n.desc.special,n.desc.template,n.desc.value,s.link("/")]),n.desc.values=s.array().items(null,s.boolean(),s.function(),s.number().allow(1/0,-1/0),s.string().allow(""),s.symbol(),n.desc.buffer,n.desc.func,n.desc.override,n.desc.ref,n.desc.regex,n.desc.template,n.desc.value),n.desc.messages=s.object().pattern(/.+/,[s.string(),n.desc.template,s.object().pattern(/.+/,[s.string(),n.desc.template])]),t.description=s.object({type:s.string().required(),flags:s.object({cast:s.string(),default:s.any(),description:s.string(),empty:s.link("/"),failover:n.desc.entity,id:s.string(),label:s.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:s.boolean(),unit:s.string()}).unknown(),preferences:{allowUnknown:s.boolean(),abortEarly:s.boolean(),cache:s.boolean(),convert:s.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:s.boolean(),label:["path","key"],language:[s.string(),n.desc.ref],wrap:{label:n.wrap,array:n.wrap}},externals:s.boolean(),messages:n.desc.messages,noDefaults:s.boolean(),nonEnumerables:s.boolean(),presence:["required","optional","forbidden"],skipFunctions:s.boolean(),stripUnknown:s.object({arrays:s.boolean(),objects:s.boolean()}).or("arrays","objects").allow(!0,!1),warnings:s.boolean()},allow:n.desc.values,invalid:n.desc.values,rules:s.array().min(1).items({name:s.string().required(),args:s.object().min(1),keep:s.boolean(),message:[s.string(),n.desc.messages],warn:s.boolean()}),keys:s.object().pattern(/.*/,s.link("/")),link:n.desc.ref}).pattern(/^[a-z]\w*$/,s.any())},function(e,t,r){"use strict";const s=r(0),n=r(2),o=r(1),a=r(9),i={};t.type=function(e,t){const r=Object.getPrototypeOf(e),l=n(r),c=e._assign(Object.create(l)),u=Object.assign({},t);delete u.base,l._definition=u;const f=r._definition||{};u.messages=a.merge(f.messages,u.messages),u.properties=Object.assign({},f.properties,u.properties),c.type=u.type,u.flags=Object.assign({},f.flags,u.flags);const m=Object.assign({},f.terms);if(u.terms)for(const e in u.terms){const t=u.terms[e];s(void 0===c.$_terms[e],"Invalid term override for",u.type,e),c.$_terms[e]=t.init,m[e]=t}u.terms=m,u.args||(u.args=f.args),u.prepare=i.prepare(u.prepare,f.prepare),u.coerce&&("function"==typeof u.coerce&&(u.coerce={method:u.coerce}),u.coerce.from&&!Array.isArray(u.coerce.from)&&(u.coerce={method:u.coerce.method,from:[].concat(u.coerce.from)})),u.coerce=i.coerce(u.coerce,f.coerce),u.validate=i.validate(u.validate,f.validate);const h=Object.assign({},f.rules);if(u.rules)for(const e in u.rules){const t=u.rules[e];s("object"==typeof t,"Invalid rule definition for",u.type,e);let r=t.method;if(void 0===r&&(r=function(){return this.$_addRule(e)}),r&&(s(!l[e],"Rule conflict in",u.type,e),l[e]=r),s(!h[e],"Rule conflict in",u.type,e),h[e]=t,t.alias){const e=[].concat(t.alias);for(const r of e)l[r]=t.method}t.args&&(t.argsByName=new Map,t.args=t.args.map(e=>("string"==typeof e&&(e={name:e}),s(!t.argsByName.has(e.name),"Duplicated argument name",e.name),o.isSchema(e.assert)&&(e.assert=e.assert.strict().label(e.name)),t.argsByName.set(e.name,e),e)))}u.rules=h;const d=Object.assign({},f.modifiers);if(u.modifiers)for(const e in u.modifiers){s(!l[e],"Rule conflict in",u.type,e);const t=u.modifiers[e];s("function"==typeof t,"Invalid modifier definition for",u.type,e);const r=function(t){return this.rule({[e]:t})};l[e]=r,d[e]=t}if(u.modifiers=d,u.overrides){l._super=r,c.$_super={};for(const e in u.overrides)s(r[e],"Cannot override missing",e),c.$_super[e]=r[e].bind(c);Object.assign(l,u.overrides)}u.cast=Object.assign({},f.cast,u.cast);const p=Object.assign({},f.manifest,u.manifest);return p.build=i.build(u.manifest&&u.manifest.build,f.manifest&&f.manifest.build),u.manifest=p,u.rebuild=i.rebuild(u.rebuild,f.rebuild),c},i.build=function(e,t){return e&&t?function(r,s){return t(e(r,s),s)}:e||t},i.coerce=function(e,t){return e&&t?{from:e.from&&t.from?[...new Set([...e.from,...t.from])]:null,method(r,s){let n;if((!t.from||t.from.includes(typeof r))&&(n=t.method(r,s),n)){if(n.errors||void 0===n.value)return n;r=n.value}if(!e.from||e.from.includes(typeof r)){const t=e.method(r,s);if(t)return t}return n}}:e||t},i.prepare=function(e,t){return e&&t?function(r,s){const n=e(r,s);if(n){if(n.errors||void 0===n.value)return n;r=n.value}return t(r,s)||n}:e||t},i.rebuild=function(e,t){return e&&t?function(r){t(r),e(r)}:e||t},i.validate=function(e,t){return e&&t?function(r,s){const n=t(r,s);if(n){if(n.errors&&(!Array.isArray(n.errors)||n.errors.length))return n;r=n.value}return e(r,s)||n}:e||t}},function(e,t){},function(e,t){},function(e,t,r){"use strict";const s=r(0),n=r(2),o=r(14),a={};e.exports=a.merge=function(e,t,r){if(s(e&&"object"==typeof e,"Invalid target value: must be an object"),s(null==t||"object"==typeof t,"Invalid source value: must be null, undefined, or an object"),!t)return e;if(r=Object.assign({nullOverride:!0,mergeArrays:!0},r),Array.isArray(t)){s(Array.isArray(e),"Cannot merge array onto an object"),r.mergeArrays||(e.length=0);for(let s=0;s<t.length;++s)e.push(n(t[s],{symbols:r.symbols}));return e}const i=o.keys(t,r);for(let s=0;s<i.length;++s){const o=i[s];if("__proto__"===o||!Object.prototype.propertyIsEnumerable.call(t,o))continue;const l=t[o];if(l&&"object"==typeof l){if(e[o]===l)continue;!e[o]||"object"!=typeof e[o]||Array.isArray(e[o])!==Array.isArray(l)||l instanceof Date||l instanceof RegExp?e[o]=n(l,{symbols:r.symbols}):a.merge(e[o],l,r)}else null!=l?e[o]=l:r.nullOverride&&(e[o]=l)}return e}},function(e,t,r){"use strict";const s=r(0),n=r(10),o=r(1),a={};e.exports=a.Values=class{constructor(e,t){this._values=new Set(e),this._refs=new Set(t),this._lowercase=a.lowercases(e),this._override=!1}get length(){return this._values.size+this._refs.size}add(e,t){o.isResolvable(e)?this._refs.has(e)||(this._refs.add(e),t&&t.register(e)):this.has(e,null,null,!1)||(this._values.add(e),"string"==typeof e&&this._lowercase.set(e.toLowerCase(),e))}static merge(e,t,r){if(e=e||new a.Values,t){if(t._override)return t.clone();for(const r of[...t._values,...t._refs])e.add(r)}if(r)for(const t of[...r._values,...r._refs])e.remove(t);return e.length?e:null}remove(e){o.isResolvable(e)?this._refs.delete(e):(this._values.delete(e),"string"==typeof e&&this._lowercase.delete(e.toLowerCase()))}has(e,t,r,s){return!!this.get(e,t,r,s)}get(e,t,r,s){if(!this.length)return!1;if(this._values.has(e))return{value:e};if("string"==typeof e&&e&&s){const t=this._lowercase.get(e.toLowerCase());if(t)return{value:t}}if(!this._refs.size&&"object"!=typeof e)return!1;if("object"==typeof e)for(const t of this._values)if(n(t,e))return{value:t};if(t)for(const o of this._refs){const a=o.resolve(e,t,r,null,{in:!0});if(void 0===a)continue;const i=o.in&&"object"==typeof a?Array.isArray(a)?a:Object.keys(a):[a];for(const t of i)if(typeof t==typeof e)if(s&&e&&"string"==typeof e){if(t.toLowerCase()===e.toLowerCase())return{value:t,ref:o}}else if(n(t,e))return{value:t,ref:o}}return!1}override(){this._override=!0}values(e){if(e&&e.display){const e=[];for(const t of[...this._values,...this._refs])void 0!==t&&e.push(t);return e}return Array.from([...this._values,...this._refs])}clone(){const e=new a.Values(this._values,this._refs);return e._override=this._override,e}concat(e){s(!e._override,"Cannot concat override set of values");const t=new a.Values([...this._values,...e._values],[...this._refs,...e._refs]);return t._override=this._override,t}describe(){const e=[];this._override&&e.push({override:!0});for(const t of this._values.values())e.push(t&&"object"==typeof t?{value:t}:t);for(const t of this._refs.values())e.push(t.describe());return e}},a.Values.prototype[o.symbols.values]=!0,a.Values.prototype.slice=a.Values.prototype.clone,a.lowercases=function(e){const t=new Map;if(e)for(const r of e)"string"==typeof r&&t.set(r.toLowerCase(),r);return t}},function(e,t,r){"use strict";const s=r(43),n=r(0),o=r(2),a=r(44),i=r(3),l=r(1),c=r(8),u=r(4),f=r(5),m=r(7),h={renameDefaults:{alias:!1,multiple:!1,override:!1}};e.exports=i.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(e,t)=>e.keys(t),validate(e,{schema:t,error:r,state:s,prefs:n}){if(!e||typeof e!==t.$_property("typeof")||Array.isArray(e))return{value:e,errors:r("object.base",{type:t.$_property("typeof")})};if(!(t.$_terms.renames||t.$_terms.dependencies||t.$_terms.keys||t.$_terms.patterns||t.$_terms.externals))return;e=h.clone(e,n);const o=[];if(t.$_terms.renames&&!h.rename(t,e,s,n,o))return{value:e,errors:o};if(!t.$_terms.keys&&!t.$_terms.patterns&&!t.$_terms.dependencies)return{value:e,errors:o};const a=new Set(Object.keys(e));if(t.$_terms.keys){const r=[e,...s.ancestors];for(const i of t.$_terms.keys){const t=i.key,l=e[t];a.delete(t);const c=s.localize([...s.path,t],r,i),u=i.schema.$_validate(l,c,n);if(u.errors){if(n.abortEarly)return{value:e,errors:u.errors};o.push(...u.errors)}else"strip"===i.schema._flags.result||void 0===u.value&&void 0!==l?delete e[t]:void 0!==u.value&&(e[t]=u.value)}}if(a.size||t._flags._hasPatternMatch){const r=h.unknown(t,e,a,o,s,n);if(r)return r}if(t.$_terms.dependencies)for(const r of t.$_terms.dependencies){if(r.key&&void 0===r.key.resolve(e,s,n,null,{shadow:!1}))continue;const a=h.dependencies[r.rel](t,r,e,s,n);if(a){const r=t.$_createError(a.code,e,a.context,s,n);if(n.abortEarly)return{value:e,errors:r};o.push(r)}}return{value:e,errors:o}},rules:{and:{method(...e){return l.verifyFlat(e,"and"),h.dependency(this,"and",null,e)}},append:{method(e){return null==e||0===Object.keys(e).length?this:this.keys(e)}},assert:{method(e,t,r){m.isTemplate(e)||(e=c.ref(e)),n(void 0===r||"string"==typeof r,"Message must be a string"),t=this.$_compile(t,{appendPath:!0});const s=this.$_addRule({name:"assert",args:{subject:e,schema:t,message:r}});return s.$_mutateRegister(e),s.$_mutateRegister(t),s},validate(e,{error:t,prefs:r,state:s},{subject:n,schema:o,message:a}){const i=n.resolve(e,s,r),l=f.isRef(n)?n.absolute(s):[];return o.$_match(i,s.localize(l,[e,...s.ancestors],o),r)?e:t("object.assert",{subject:n,message:a})},args:["subject","schema","message"],multi:!0},instance:{method(e,t){return n("function"==typeof e,"constructor must be a function"),t=t||e.name,this.$_addRule({name:"instance",args:{constructor:e,name:t}})},validate:(e,t,{constructor:r,name:s})=>e instanceof r?e:t.error("object.instance",{type:s,value:e}),args:["constructor","name"]},keys:{method(e){n(void 0===e||"object"==typeof e,"Object schema must be a valid object"),n(!l.isSchema(e),"Object schema cannot be a joi schema");const t=this.clone();if(e)if(Object.keys(e).length){t.$_terms.keys=t.$_terms.keys?t.$_terms.keys.filter(t=>!e.hasOwnProperty(t.key)):new h.Keys;for(const r in e)l.tryWithPath(()=>t.$_terms.keys.push({key:r,schema:this.$_compile(e[r])}),r)}else t.$_terms.keys=new h.Keys;else t.$_terms.keys=null;return t.$_mutateRebuild()}},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:(e,t,{limit:r},{name:s,operator:n,args:o})=>l.compare(Object.keys(e).length,r,n)?e:t.error("object."+s,{limit:o.limit,value:e}),args:[{name:"limit",ref:!0,assert:l.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},nand:{method(...e){return l.verifyFlat(e,"nand"),h.dependency(this,"nand",null,e)}},or:{method(...e){return l.verifyFlat(e,"or"),h.dependency(this,"or",null,e)}},oxor:{method(...e){return h.dependency(this,"oxor",null,e)}},pattern:{method(e,t,r={}){const s=e instanceof RegExp;s||(e=this.$_compile(e,{appendPath:!0})),n(void 0!==t,"Invalid rule"),l.assertOptions(r,["fallthrough","matches"]),s&&n(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode"),t=this.$_compile(t,{appendPath:!0});const o=this.clone();o.$_terms.patterns=o.$_terms.patterns||[];const a={[s?"regex":"schema"]:e,rule:t};return r.matches&&(a.matches=this.$_compile(r.matches),"array"!==a.matches.type&&(a.matches=a.matches.$_root.array().items(a.matches)),o.$_mutateRegister(a.matches),o.$_setFlag("_hasPatternMatch",!0,{clone:!1})),r.fallthrough&&(a.fallthrough=!0),o.$_terms.patterns.push(a),o.$_mutateRegister(t),o}},ref:{method(){return this.$_addRule("ref")},validate:(e,t)=>f.isRef(e)?e:t.error("object.refType",{value:e})},regex:{method(){return this.$_addRule("regex")},validate:(e,t)=>e instanceof RegExp?e:t.error("object.regex",{value:e})},rename:{method(e,t,r={}){n("string"==typeof e||e instanceof RegExp,"Rename missing the from argument"),n("string"==typeof t||t instanceof m,"Invalid rename to argument"),n(t!==e,"Cannot rename key to same name:",e),l.assertOptions(r,["alias","ignoreUndefined","override","multiple"]);const o=this.clone();o.$_terms.renames=o.$_terms.renames||[];for(const t of o.$_terms.renames)n(t.from!==e,"Cannot rename the same key multiple times");return t instanceof m&&o.$_mutateRegister(t),o.$_terms.renames.push({from:e,to:t,options:s(h.renameDefaults,r)}),o}},schema:{method(e="any"){return this.$_addRule({name:"schema",args:{type:e}})},validate:(e,t,{type:r})=>!l.isSchema(e)||"any"!==r&&e.type!==r?t.error("object.schema",{type:r}):e},unknown:{method(e){return this.$_setFlag("unknown",!1!==e)}},with:{method(e,t,r={}){return h.dependency(this,"with",e,t,r)}},without:{method(e,t,r={}){return h.dependency(this,"without",e,t,r)}},xor:{method(...e){return l.verifyFlat(e,"xor"),h.dependency(this,"xor",null,e)}}},overrides:{default(e,t){return void 0===e&&(e=l.symbols.deepDefault),this.$_super.default(e,t)}},rebuild(e){if(e.$_terms.keys){const t=new a.Sorter;for(const r of e.$_terms.keys)l.tryWithPath(()=>t.add(r,{after:r.schema.$_rootReferences(),group:r.key}),r.key);e.$_terms.keys=new h.Keys(...t.nodes)}},manifest:{build(e,t){if(t.keys&&(e=e.keys(t.keys)),t.dependencies)for(const{rel:r,key:s=null,peers:n,options:o}of t.dependencies)e=h.dependency(e,r,s,n,o);if(t.patterns)for(const{regex:r,schema:s,rule:n,fallthrough:o,matches:a}of t.patterns)e=e.pattern(r||s,n,{fallthrough:o,matches:a});if(t.renames)for(const{from:r,to:s,options:n}of t.renames)e=e.rename(r,s,n);return e}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":'{{#label}} must be an instance of "{{#type}}"',"object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":'"{{#mainWithLabel}}" must not exist simultaneously with {{#peersWithLabels}}',"object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":'{{#label}} cannot rename "{{#from}}" because multiple renames are disabled and another key was already renamed to "{{#to}}"',"object.rename.override":'{{#label}} cannot rename "{{#from}}" because override is disabled and target "{{#to}}" exists',"object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":'"{{#mainWithLabel}}" missing required peer "{{#peerWithLabel}}"',"object.without":'"{{#mainWithLabel}}" conflict with forbidden peer "{{#peerWithLabel}}"',"object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),h.clone=function(e,t){if("object"==typeof e){if(t.nonEnumerables)return o(e,{shallow:!0});const r=Object.create(Object.getPrototypeOf(e));return Object.assign(r,e),r}const r=function(...t){return e.apply(this,t)};return r.prototype=o(e.prototype),Object.defineProperty(r,"name",{value:e.name,writable:!1}),Object.defineProperty(r,"length",{value:e.length,writable:!1}),Object.assign(r,e),r},h.dependency=function(e,t,r,s,o){n(null===r||"string"==typeof r,t,"key must be a strings"),o||(o=s.length>1&&"object"==typeof s[s.length-1]?s.pop():{}),l.assertOptions(o,["separator"]),s=[].concat(s);const a=l.default(o.separator,"."),i=[];for(const e of s)n("string"==typeof e,t,"peers must be a string or a reference"),i.push(c.ref(e,{separator:a,ancestor:0,prefix:!1}));null!==r&&(r=c.ref(r,{separator:a,ancestor:0,prefix:!1}));const u=e.clone();return u.$_terms.dependencies=u.$_terms.dependencies||[],u.$_terms.dependencies.push(new h.Dependency(t,r,i,s)),u},h.dependencies={and(e,t,r,s,n){const o=[],a=[],i=t.peers.length;for(const e of t.peers)void 0===e.resolve(r,s,n,null,{shadow:!1})?o.push(e.key):a.push(e.key);if(o.length!==i&&a.length!==i)return{code:"object.and",context:{present:a,presentWithLabels:h.keysToLabels(e,a),missing:o,missingWithLabels:h.keysToLabels(e,o)}}},nand(e,t,r,s,n){const o=[];for(const e of t.peers)void 0!==e.resolve(r,s,n,null,{shadow:!1})&&o.push(e.key);if(o.length!==t.peers.length)return;const a=t.paths[0],i=t.paths.slice(1);return{code:"object.nand",context:{main:a,mainWithLabel:h.keysToLabels(e,a),peers:i,peersWithLabels:h.keysToLabels(e,i)}}},or(e,t,r,s,n){for(const e of t.peers)if(void 0!==e.resolve(r,s,n,null,{shadow:!1}))return;return{code:"object.missing",context:{peers:t.paths,peersWithLabels:h.keysToLabels(e,t.paths)}}},oxor(e,t,r,s,n){const o=[];for(const e of t.peers)void 0!==e.resolve(r,s,n,null,{shadow:!1})&&o.push(e.key);if(!o.length||1===o.length)return;const a={peers:t.paths,peersWithLabels:h.keysToLabels(e,t.paths)};return a.present=o,a.presentWithLabels=h.keysToLabels(e,o),{code:"object.oxor",context:a}},with(e,t,r,s,n){for(const o of t.peers)if(void 0===o.resolve(r,s,n,null,{shadow:!1}))return{code:"object.with",context:{main:t.key.key,mainWithLabel:h.keysToLabels(e,t.key.key),peer:o.key,peerWithLabel:h.keysToLabels(e,o.key)}}},without(e,t,r,s,n){for(const o of t.peers)if(void 0!==o.resolve(r,s,n,null,{shadow:!1}))return{code:"object.without",context:{main:t.key.key,mainWithLabel:h.keysToLabels(e,t.key.key),peer:o.key,peerWithLabel:h.keysToLabels(e,o.key)}}},xor(e,t,r,s,n){const o=[];for(const e of t.peers)void 0!==e.resolve(r,s,n,null,{shadow:!1})&&o.push(e.key);if(1===o.length)return;const a={peers:t.paths,peersWithLabels:h.keysToLabels(e,t.paths)};return 0===o.length?{code:"object.missing",context:a}:(a.present=o,a.presentWithLabels=h.keysToLabels(e,o),{code:"object.xor",context:a})}},h.keysToLabels=function(e,t){return Array.isArray(t)?t.map(t=>e.$_mapLabels(t)):e.$_mapLabels(t)},h.rename=function(e,t,r,s,n){const o={};for(const a of e.$_terms.renames){const i=[],l="string"!=typeof a.from;if(l)for(const e in t){if(void 0===t[e]&&a.options.ignoreUndefined)continue;if(e===a.to)continue;const r=a.from.exec(e);r&&i.push({from:e,to:a.to,match:r})}else!Object.prototype.hasOwnProperty.call(t,a.from)||void 0===t[a.from]&&a.options.ignoreUndefined||i.push(a);for(const c of i){const i=c.from;let u=c.to;if(u instanceof m&&(u=u.render(t,r,s,c.match)),i!==u){if(!a.options.multiple&&o[u]&&(n.push(e.$_createError("object.rename.multiple",t,{from:i,to:u,pattern:l},r,s)),s.abortEarly))return!1;if(Object.prototype.hasOwnProperty.call(t,u)&&!a.options.override&&!o[u]&&(n.push(e.$_createError("object.rename.override",t,{from:i,to:u,pattern:l},r,s)),s.abortEarly))return!1;void 0===t[i]?delete t[u]:t[u]=t[i],o[u]=!0,a.options.alias||delete t[i]}}}return!0},h.unknown=function(e,t,r,s,n,o){if(e.$_terms.patterns){let a=!1;const i=e.$_terms.patterns.map(e=>{if(e.matches)return a=!0,[]}),l=[t,...n.ancestors];for(const a of r){const c=t[a],u=[...n.path,a];for(let f=0;f<e.$_terms.patterns.length;++f){const m=e.$_terms.patterns[f];if(m.regex){const e=m.regex.test(a);if(n.mainstay.tracer.debug(n,"rule","pattern.".concat(f),e?"pass":"error"),!e)continue}else if(!m.schema.$_match(a,n.nest(m.schema,"pattern.".concat(f)),o))continue;r.delete(a);const h=n.localize(u,l,{schema:m.rule,key:a}),d=m.rule.$_validate(c,h,o);if(d.errors){if(o.abortEarly)return{value:t,errors:d.errors};s.push(...d.errors)}if(m.matches&&i[f].push(a),t[a]=d.value,!m.fallthrough)break}}if(a)for(let r=0;r<i.length;++r){const a=i[r];if(!a)continue;const c=e.$_terms.patterns[r].matches,f=n.localize(n.path,l,c),m=c.$_validate(a,f,o);if(m.errors){const r=u.details(m.errors,{override:!1});r.matches=a;const i=e.$_createError("object.pattern.match",t,r,n,o);if(o.abortEarly)return{value:t,errors:i};s.push(i)}}}if(!r.size||!e.$_terms.keys&&!e.$_terms.patterns)return;if(o.stripUnknown&&!e._flags.unknown||o.skipFunctions){const e=!!o.stripUnknown&&(!0===o.stripUnknown||!!o.stripUnknown.objects);for(const s of r)e?(delete t[s],r.delete(s)):"function"==typeof t[s]&&r.delete(s)}if(!l.default(e._flags.unknown,o.allowUnknown))for(const a of r){const r=n.localize([...n.path,a],[]),i=e.$_createError("object.unknown",t[a],{child:a},r,o,{flags:!1});if(o.abortEarly)return{value:t,errors:i};s.push(i)}},h.Dependency=class{constructor(e,t,r,s){this.rel=e,this.key=t,this.peers=r,this.paths=s}describe(){const e={rel:this.rel,peers:this.paths};return null!==this.key&&(e.key=this.key.key),"."!==this.peers[0].separator&&(e.options={separator:this.peers[0].separator}),e}},h.Keys=class extends Array{concat(e){const t=this.slice(),r=new Map;for(let e=0;e<t.length;++e)r.set(t[e].key,e);for(const s of e){const e=s.key,n=r.get(e);void 0!==n?t[n]={key:e,schema:t[n].schema.concat(s.schema)}:t.push(s)}return t}}},function(e,t,r){"use strict";const s=r(24),n=r(25),o={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:s.URL||URL};t.analyze=function(e,t={}){if("string"!=typeof e)throw new Error("Invalid input: domain must be a string");if(!e)return n.code("DOMAIN_NON_EMPTY_STRING");if(e.length>256)return n.code("DOMAIN_TOO_LONG");if(!!o.nonAsciiRx.test(e)){if(!1===t.allowUnicode)return n.code("DOMAIN_INVALID_UNICODE_CHARS");e=e.normalize("NFC")}if(o.domainControlRx.test(e))return n.code("DOMAIN_INVALID_CHARS");e=o.punycode(e);const r=t.minDomainSegments||o.minDomainSegments,s=e.split(".");if(s.length<r)return n.code("DOMAIN_SEGMENTS_COUNT");const a=t.tlds;if(a){const e=s[s.length-1].toLowerCase();if(a.deny&&a.deny.has(e)||a.allow&&!a.allow.has(e))return n.code("DOMAIN_FORBIDDEN_TLDS")}for(let e=0;e<s.length;++e){const t=s[e];if(!t.length)return n.code("DOMAIN_EMPTY_SEGMENT");if(t.length>63)return n.code("DOMAIN_LONG_SEGMENT");if(e<s.length-1){if(!o.domainSegmentRx.test(t))return n.code("DOMAIN_INVALID_CHARS")}else if(!o.tldSegmentRx.test(t))return n.code("DOMAIN_INVALID_TLDS_CHARS")}return null},t.isValid=function(e,r){return!t.analyze(e,r)},o.punycode=function(e){try{return new o.URL("http://".concat(e)).host}catch(t){return e}}},function(e,t){},function(e,t,r){"use strict";t.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},t.code=function(e){return{code:e,error:t.codes[e]}}},function(e,t,r){"use strict";const s=r(0),n=r(27),o={generate:function(){const e={},t="!\\$&'\\(\\)\\*\\+,;=",r="\\w-\\.~%\\dA-Fa-f"+t+":@",s="["+r+"]",n="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";e.ipv4address="(?:"+n+"\\.){3}"+n;const o="[\\dA-Fa-f]{1,4}",a="(?:"+o+":"+o+"|"+e.ipv4address+")",i="(?:"+o+":){6}"+a,l="::(?:"+o+":){5}"+a,c="(?:"+o+")?::(?:"+o+":){4}"+a,u="(?:(?:"+o+":){0,1}"+o+")?::(?:"+o+":){3}"+a,f="(?:(?:"+o+":){0,2}"+o+")?::(?:"+o+":){2}"+a,m="(?:(?:"+o+":){0,3}"+o+")?::"+o+":"+a,h="(?:(?:"+o+":){0,4}"+o+")?::"+a;e.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",e.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",e.ipv6address="(?:"+i+"|"+l+"|"+c+"|"+u+"|"+f+"|"+m+"|"+h+"|(?:(?:[\\dA-Fa-f]{1,4}:){0,5}[\\dA-Fa-f]{1,4})?::[\\dA-Fa-f]{1,4}|(?:(?:[\\dA-Fa-f]{1,4}:){0,6}[\\dA-Fa-f]{1,4})?::)",e.ipvFuture="v[\\dA-Fa-f]+\\.[\\w-\\.~"+t+":]+",e.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",e.schemeRegex=new RegExp(e.scheme);const d="[\\w-\\.~%\\dA-Fa-f"+t+":]*",p="(?:"+("\\[(?:"+e.ipv6address+"|"+e.ipvFuture+")\\]")+"|"+e.ipv4address+"|[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=]{1,255})",g="(?:"+d+"@)?"+p+"(?::\\d*)?",y="(?:"+d+"@)?("+p+")(?::\\d*)?",b=s+"*",v=s+"+",_="(?:\\/"+b+")*",w="\\/(?:"+v+_+")?",$=v+_,x="[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+"+_;return e.hierPart="(?:(?:\\/\\/"+g+_+")|"+w+"|"+$+"|(?:\\/\\/\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*(?:\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*))",e.hierPartCapture="(?:(?:\\/\\/"+y+_+")|"+w+"|"+$+")",e.relativeRef="(?:(?:\\/\\/"+g+_+")|"+w+"|"+x+"|)",e.relativeRefCapture="(?:(?:\\/\\/"+y+_+")|"+w+"|"+x+"|)",e.query="["+r+"\\/\\?]*(?=#|$)",e.queryWithSquareBrackets="["+r+"\\[\\]\\/\\?]*(?=#|$)",e.fragment="["+r+"\\/\\?]*",e}};o.rfc3986=o.generate(),t.ip={v4Cidr:o.rfc3986.ipv4Cidr,v6Cidr:o.rfc3986.ipv6Cidr,ipv4:o.rfc3986.ipv4address,ipv6:o.rfc3986.ipv6address,ipvfuture:o.rfc3986.ipvFuture},o.createRegex=function(e){const t=o.rfc3986,r="(?:\\?"+(e.allowQuerySquareBrackets?t.queryWithSquareBrackets:t.query)+")?(?:#"+t.fragment+")?",a=e.domain?t.relativeRefCapture:t.relativeRef;if(e.relativeOnly)return o.wrap(a+r);let i="";if(e.scheme){s(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array");const r=[].concat(e.scheme);s(r.length>=1,"scheme must have at least 1 scheme specified");const o=[];for(let e=0;e<r.length;++e){const a=r[e];s(a instanceof RegExp||"string"==typeof a,"scheme at position "+e+" must be a RegExp or String"),a instanceof RegExp?o.push(a.source.toString()):(s(t.schemeRegex.test(a),"scheme at position "+e+" must be a valid scheme"),o.push(n(a)))}i=o.join("|")}const l="(?:"+(i?"(?:"+i+")":t.scheme)+":"+(e.domain?t.hierPartCapture:t.hierPart)+")",c=e.allowRelative?"(?:"+l+"|"+a+")":l;return o.wrap(c+r,i)},o.wrap=function(e,t){return{raw:e="(?=.)(?!https?:/$)".concat(e),regex:new RegExp("^".concat(e,"$")),scheme:t}},o.uriRegex=o.createRegex({}),t.regex=function(e={}){return e.scheme||e.allowRelative||e.relativeOnly||e.allowQuerySquareBrackets||e.domain?o.createRegex(e):o.uriRegex}},function(e,t,r){"use strict";e.exports=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},function(e,t,r){"use strict";e.exports=function(...e){try{return JSON.stringify.apply(null,e)}catch(e){return"[Cannot display object: "+e.message+"]"}}},function(e){e.exports=JSON.parse('{"version":"17.1.1"}')},function(e,t,r){"use strict";const s={};e.exports=function(e){if(!e)return"";let t="";for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);s.isSafe(n)?t+=e[r]:t+=s.escapeHtmlChar(n)}return t},s.escapeHtmlChar=function(e){const t=s.namedHtml[e];if(void 0!==t)return t;if(e>=256)return"&#"+e+";";const r=e.toString(16).padStart(2,"0");return"&#x".concat(r,";")},s.isSafe=function(e){return void 0!==s.safeCharCodes[e]},s.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},s.safeCharCodes=function(){const e={};for(let t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&(e[t]=null);return e}()},function(e,t,r){"use strict";const s={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*\.?[0-9]*){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};t.Parser=class{constructor(e,t={}){if(!t[s.settings]&&t.constants)for(const e in t.constants){const r=t.constants[e];if(null!==r&&!["boolean","number","string"].includes(typeof r))throw new Error("Formula constant ".concat(e," contains invalid ").concat(typeof r," value type"))}this.settings=t[s.settings]?t:Object.assign({[s.settings]:!0,constants:{},functions:{}},t),this.single=null,this._parts=null,this._parse(e)}_parse(e){let r=[],n="",o=0,a=!1;const i=e=>{if(o)throw new Error("Formula missing closing parenthesis");const i=r.length?r[r.length-1]:null;if(a||n||e){if(i&&"reference"===i.type&&")"===e)return i.type="function",i.value=this._subFormula(n,i.value),void(n="");if(")"===e){const e=new t.Parser(n,this.settings);r.push({type:"segment",value:e})}else if(a){if("]"===a)return r.push({type:"reference",value:n}),void(n="");r.push({type:"literal",value:n})}else if(s.operatorCharacters.includes(n))i&&"operator"===i.type&&s.operators.includes(i.value+n)?i.value+=n:r.push({type:"operator",value:n});else if(n.match(s.numberRx))r.push({type:"constant",value:parseFloat(n)});else if(void 0!==this.settings.constants[n])r.push({type:"constant",value:this.settings.constants[n]});else{if(!n.match(s.tokenRx))throw new Error("Formula contains invalid token: ".concat(n));r.push({type:"reference",value:n})}n=""}};for(const t of e)a?t===a?(i(),a=!1):n+=t:o?"("===t?(n+=t,++o):")"===t?(--o,o?n+=t:i(t)):n+=t:t in s.literals?a=s.literals[t]:"("===t?(i(),++o):s.operatorCharacters.includes(t)?(i(),n=t,i()):" "!==t?n+=t:i();i(),r=r.map((e,t)=>"operator"!==e.type||"-"!==e.value||t&&"operator"!==r[t-1].type?e:{type:"operator",value:"n"});let l=!1;for(const e of r){if("operator"===e.type){if(s.operatorsPrefix.includes(e.value))continue;if(!l)throw new Error("Formula contains an operator in invalid position");if(!s.operators.includes(e.value))throw new Error("Formula contains an unknown operator ".concat(e.value))}else if(l)throw new Error("Formula missing expected operator");l=!l}if(!l)throw new Error("Formula contains invalid trailing operator");1===r.length&&["reference","literal","constant"].includes(r[0].type)&&(this.single={type:"reference"===r[0].type?"reference":"value",value:r[0].value}),this._parts=r.map(e=>{if("operator"===e.type)return s.operatorsPrefix.includes(e.value)?e:e.value;if("reference"!==e.type)return e.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(e.value))throw new Error("Formula contains invalid reference ".concat(e.value));return this.settings.reference?this.settings.reference(e.value):s.reference(e.value)})}_subFormula(e,r){const n=this.settings.functions[r];if("function"!=typeof n)throw new Error("Formula contains unknown function ".concat(r));let o=[];if(e){let t="",n=0,a=!1;const i=()=>{if(!t)throw new Error("Formula contains function ".concat(r," with invalid arguments ").concat(e));o.push(t),t=""};for(let r=0;r<e.length;++r){const o=e[r];a?(t+=o,o===a&&(a=!1)):o in s.literals&&!n?(t+=o,a=s.literals[o]):","!==o||n?(t+=o,"("===o?++n:")"===o&&--n):i()}i()}return o=o.map(e=>new t.Parser(e,this.settings)),function(e){const t=[];for(const r of o)t.push(r.evaluate(e));return n.call(e,...t)}}evaluate(e){const t=this._parts.slice();for(let r=t.length-2;r>=0;--r){const n=t[r];if(n&&"operator"===n.type){const o=t[r+1];t.splice(r+1,1);const a=s.evaluate(o,e);t[r]=s.single(n.value,a)}}return s.operatorsOrder.forEach(r=>{for(let n=1;n<t.length-1;)if(r.includes(t[n])){const r=t[n],o=s.evaluate(t[n-1],e),a=s.evaluate(t[n+1],e);t.splice(n,2);const i=s.calculate(r,o,a);t[n-1]=0===i?0:i}else n+=2}),s.evaluate(t[0],e)}},t.Parser.prototype[s.symbol]=!0,s.reference=function(e){return function(t){return t&&void 0!==t[e]?t[e]:null}},s.evaluate=function(e,t){return null===e?null:"function"==typeof e?e(t):e[s.symbol]?e.evaluate(t):e},s.single=function(e,t){if("!"===e)return!t;const r=-t;return 0===r?0:r},s.calculate=function(e,t,r){if("??"===e)return s.exists(t)?t:r;if("string"==typeof t||"string"==typeof r){if("+"===e)return(t=s.exists(t)?t:"")+(r=s.exists(r)?r:"")}else switch(e){case"^":return Math.pow(t,r);case"*":return t*r;case"/":return t/r;case"%":return t%r;case"+":return t+r;case"-":return t-r}switch(e){case"<":return t<r;case"<=":return t<=r;case">":return t>r;case">=":return t>=r;case"==":return t===r;case"!=":return t!==r;case"&&":return t&&r;case"||":return t||r}return null},s.exists=function(e){return null!=e}},function(e,t){},function(e,t,r){"use strict";const s=r(0),n=r(3),o=r(1),a=r(8),i=r(4),l=r(5),c={};e.exports=n.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:l.toSibling}},args:(e,...t)=>1===t.length&&Array.isArray(t[0])?e.try(...t[0]):e.try(...t),validate(e,t){const{schema:r,error:s,state:n,prefs:o}=t;if(r._flags.match){let t,a=0;for(let s=0;s<r.$_terms.matches.length;++s){const i=r.$_terms.matches[s],l=n.nest(i.schema,"match.".concat(s));l.snapshot();const c=i.schema.$_validate(e,l,o);c.errors?l.restore():(++a,t=c.value)}return a?"one"===r._flags.match?1===a?{value:t}:{errors:s("alternatives.one")}:a===r.$_terms.matches.length?{value:e}:{errors:s("alternatives.all")}:{errors:s("alternatives.any")}}const a=[];for(let t=0;t<r.$_terms.matches.length;++t){const s=r.$_terms.matches[t];if(s.schema){const r=n.nest(s.schema,"match.".concat(t));r.snapshot();const i=s.schema.$_validate(e,r,o);if(!i.errors)return i;r.restore(),a.push({schema:s.schema,reports:i.errors});continue}const i=s.ref?s.ref.resolve(e,n,o):e,l=s.is?[s]:s.switch;for(let r=0;r<l.length;++r){const a=l[r],{is:c,then:u,otherwise:f}=a,m="match.".concat(t).concat(s.switch?"."+r:"");if(c.$_match(i,n.nest(c,"".concat(m,".is")),o)){if(u)return u.$_validate(e,n.nest(u,"".concat(m,".then")),o)}else if(f)return f.$_validate(e,n.nest(f,"".concat(m,".otherwise")),o)}}return c.errors(a,t)},rules:{conditional:{method(e,t){s(!this._flags._endedSwitch,"Unreachable condition"),s(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),s(void 0===t.break,"Cannot use break option with alternatives conditional");const r=this.clone(),n=a.when(r,e,t),o=n.is?[n]:n.switch;for(const e of o)if(e.then&&e.otherwise){r.$_setFlag("_endedSwitch",!0,{clone:!1});break}return r.$_terms.matches.push(n),r.$_mutateRebuild()}},match:{method(e){if(s(["any","one","all"].includes(e),"Invalid alternatives match mode",e),"any"!==e)for(const t of this.$_terms.matches)s(t.schema,"Cannot combine match mode",e,"with conditional rules");return this.$_setFlag("match",e)}},try:{method(...e){s(e.length,"Missing alternative schemas"),o.verifyFlat(e,"try"),s(!this._flags._endedSwitch,"Unreachable condition");const t=this.clone();for(const r of e)t.$_terms.matches.push({schema:t.$_compile(r)});return t.$_mutateRebuild()}}},overrides:{label(e){return this.$_super.label(e).$_modify({each:(t,r)=>"is"!==r.path[0]?t.label(e):void 0,ref:!1})}},rebuild(e){e.$_modify({each:t=>{o.isSchema(t)&&"array"===t.type&&e.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(e,t){if(t.matches)for(const r of t.matches){const{schema:t,ref:s,is:n,not:o,then:a,otherwise:i}=r;e=t?e.try(t):s?e.conditional(s,{is:n,then:a,not:o,otherwise:i,switch:r.switch}):e.conditional(n,{then:a,otherwise:i})}return e}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),c.errors=function(e,{error:t,state:r}){if(!e.length)return{errors:t("alternatives.any")};if(1===e.length)return{errors:e[0].reports};const s=new Set,n=[];for(const{reports:o,schema:a}of e){if(o.length>1)return c.unmatched(e,t);const l=o[0];if(l instanceof i.Report==!1)return c.unmatched(e,t);if(l.state.path.length!==r.path.length){n.push({type:a.type,report:l});continue}if("any.only"===l.code){for(const e of l.local.valids)s.add(e);continue}const[u,f]=l.code.split(".");"base"===f?s.add(u):n.push({type:a.type,report:l})}return n.length?1===n.length?{errors:n[0].report}:c.unmatched(e,t):{errors:t("alternatives.types",{types:[...s]})}},c.unmatched=function(e,t){const r=[];for(const t of e)r.push(...t.reports);return{errors:t("alternatives.match",i.details(r,{override:!1}))}}},function(e,t,r){"use strict";const s=r(0),n=r(2),o=r(10),a=r(20),i=r(15),l=r(1),c=r(8),u=r(4),f=r(17),m=r(18),h=r(9),d=r(35),p=r(5),g=r(19),y=r(36),b=r(21),v={Base:class{constructor(e){this.type=e,this.$_root=null,this._definition={},this._ids=new d.Ids,this._preferences=null,this._refs=new p.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return s("function"==typeof m.describe,"Manifest functionality disabled"),m.describe(this)}allow(...e){return l.verifyFlat(e,"allow"),this._values(e,"_valids")}alter(e){s(e&&"object"==typeof e&&!Array.isArray(e),"Invalid targets argument"),s(!this._inRuleset(),"Cannot set alterations inside a ruleset");const t=this.clone();t.$_terms.alterations=t.$_terms.alterations||[];for(const r in e){const n=e[r];s("function"==typeof n,"Alteration adjuster for",r,"must be a function"),t.$_terms.alterations.push({target:r,adjuster:n})}return t.$_temp.ruleset=!1,t}cast(e){return s(!1===e||"string"==typeof e,"Invalid to value"),s(!1===e||this._definition.cast[e],"Type",this.type,"does not support casting to",e),this.$_setFlag("cast",!1===e?void 0:e)}default(e,t){return this._default("default",e,t)}description(e){return s(e&&"string"==typeof e,"Description must be a non-empty string"),this.$_setFlag("description",e)}empty(e){const t=this.clone();return void 0!==e&&(e=t.$_compile(e,{override:!1})),t.$_setFlag("empty",e,{clone:!1})}error(e){return s(e,"Missing error"),s(e instanceof Error||"function"==typeof e,"Must provide a valid Error object or a function"),this.$_setFlag("error",e)}example(e,t={}){return s(void 0!==e,"Missing example"),l.assertOptions(t,["override"]),this._inner("examples",e,{single:!0,override:t.override})}external(e,t){return"object"==typeof e&&(s(!t,"Cannot combine options with description"),t=e.description,e=e.method),s("function"==typeof e,"Method must be a function"),s(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this._inner("externals",{method:e,description:t},{single:!0})}failover(e,t){return this._default("failover",e,t)}forbidden(){return this.presence("forbidden")}id(e){return e?(s("string"==typeof e,"id must be a non-empty string"),s(/^[^\.]+$/.test(e),"id cannot contain period character"),this.$_setFlag("id",e)):this.$_setFlag("id",void 0)}invalid(...e){return this._values(e,"_invalids")}label(e){return s(e&&"string"==typeof e,"Label name must be a non-empty string"),this.$_setFlag("label",e)}meta(e){return s(void 0!==e,"Meta cannot be undefined"),this._inner("metas",e,{single:!0})}note(...e){s(e.length,"Missing notes");for(const t of e)s(t&&"string"==typeof t,"Notes must be non-empty strings");return this._inner("notes",e)}only(e=!0){return s("boolean"==typeof e,"Invalid mode:",e),this.$_setFlag("only",e)}optional(){return this.presence("optional")}prefs(e){s(e,"Missing preferences"),s(void 0===e.context,"Cannot override context"),s(void 0===e.externals,"Cannot override externals"),s(void 0===e.warnings,"Cannot override warnings"),s(void 0===e.debug,"Cannot override debug"),l.checkPreferences(e);const t=this.clone();return t._preferences=l.preferences(t._preferences,e),t}presence(e){return s(["optional","required","forbidden"].includes(e),"Unknown presence mode",e),this.$_setFlag("presence",e)}raw(e=!0){return this.$_setFlag("result",e?"raw":void 0)}result(e){return s(["raw","strip"].includes(e),"Unknown result mode",e),this.$_setFlag("result",e)}required(){return this.presence("required")}strict(e){const t=this.clone(),r=void 0!==e&&!e;return t._preferences=l.preferences(t._preferences,{convert:r}),t}strip(e=!0){return this.$_setFlag("result",e?"strip":void 0)}tag(...e){s(e.length,"Missing tags");for(const t of e)s(t&&"string"==typeof t,"Tags must be non-empty strings");return this._inner("tags",e)}unit(e){return s(e&&"string"==typeof e,"Unit name must be a non-empty string"),this.$_setFlag("unit",e)}valid(...e){l.verifyFlat(e,"valid");const t=this.allow(...e);return t.$_setFlag("only",!!t._valids,{clone:!1}),t}when(e,t){const r=this.clone();r.$_terms.whens||(r.$_terms.whens=[]);const n=c.when(r,e,t);if(!["any","link"].includes(r.type)){const e=n.is?[n]:n.switch;for(const t of e)s(!t.then||"any"===t.then.type||t.then.type===r.type,"Cannot combine",r.type,"with",t.then&&t.then.type),s(!t.otherwise||"any"===t.otherwise.type||t.otherwise.type===r.type,"Cannot combine",r.type,"with",t.otherwise&&t.otherwise.type)}return r.$_terms.whens.push(n),r.$_mutateRebuild()}cache(e){s(!this._inRuleset(),"Cannot set caching inside a ruleset"),s(!this._cache,"Cannot override schema cache");const t=this.clone();return t._cache=e||i.provider.provision(),t.$_temp.ruleset=!1,t}clone(){const e=Object.create(Object.getPrototypeOf(this));return this._assign(e)}concat(e){s(l.isSchema(e),"Invalid schema object"),s("any"===this.type||"any"===e.type||e.type===this.type,"Cannot merge type",this.type,"with another type:",e.type),s(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),s(!e._inRuleset(),"Cannot concatenate a schema with open ruleset");let t=this.clone();if("any"===this.type&&"any"!==e.type){const r=e.clone();for(const e of Object.keys(t))"type"!==e&&(r[e]=t[e]);t=r}t._ids.concat(e._ids),t._refs.register(e,p.toSibling),t._preferences=t._preferences?l.preferences(t._preferences,e._preferences):e._preferences,t._valids=b.merge(t._valids,e._valids,e._invalids),t._invalids=b.merge(t._invalids,e._invalids,e._valids);for(const r of e._singleRules.keys())t._singleRules.has(r)&&(t._rules=t._rules.filter(e=>e.keep||e.name!==r),t._singleRules.delete(r));for(const r of e._rules)e._definition.rules[r.method].multi||t._singleRules.set(r.name,r),t._rules.push(r);if(t._flags.empty&&e._flags.empty){t._flags.empty=t._flags.empty.concat(e._flags.empty);const r=Object.assign({},e._flags);delete r.empty,a(t._flags,r)}else if(e._flags.empty){t._flags.empty=e._flags.empty;const r=Object.assign({},e._flags);delete r.empty,a(t._flags,r)}else a(t._flags,e._flags);for(const r in e.$_terms){const s=e.$_terms[r];s?t.$_terms[r]?t.$_terms[r]=t.$_terms[r].concat(s):t.$_terms[r]=s.slice():t.$_terms[r]||(t.$_terms[r]=s)}return this.$_root._tracer&&this.$_root._tracer._combine(t,[this,e]),t.$_mutateRebuild()}extend(e){return s(!e.base,"Cannot extend type with another base"),f.type(this,e)}extract(e){return e=Array.isArray(e)?e:e.split("."),this._ids.reach(e)}fork(e,t){s(!this._inRuleset(),"Cannot fork inside a ruleset");let r=this;for(let s of[].concat(e))s=Array.isArray(s)?s:s.split("."),r=r._ids.fork(s,t,r);return r.$_temp.ruleset=!1,r}rule(e){const t=this._definition;l.assertOptions(e,Object.keys(t.modifiers)),s(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const r=null===this.$_temp.ruleset?this._rules.length-1:this.$_temp.ruleset;s(r>=0&&r<this._rules.length,"Cannot apply rules to empty ruleset");const o=this.clone();for(let a=r;a<o._rules.length;++a){const r=o._rules[a],i=n(r);for(const n in e)t.modifiers[n](i,e[n]),s(i.name===r.name,"Cannot change rule name");o._rules[a]=i,o._singleRules.get(i.name)===r&&o._singleRules.set(i.name,i)}return o.$_temp.ruleset=!1,o.$_mutateRebuild()}get ruleset(){s(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const e=this.clone();return e.$_temp.ruleset=e._rules.length,e}get $(){return this.ruleset}tailor(e){e=[].concat(e),s(!this._inRuleset(),"Cannot tailor inside a ruleset");let t=this;if(this.$_terms.alterations)for(const{target:r,adjuster:n}of this.$_terms.alterations)e.includes(r)&&(t=n(t),s(l.isSchema(t),"Alteration adjuster for",r,"failed to return a schema object"));return t=t.$_modify({each:t=>t.tailor(e),ref:!1}),t.$_temp.ruleset=!1,t.$_mutateRebuild()}tracer(){return g.location?g.location(this):this}validate(e,t){return y.entry(e,this,t)}validateAsync(e,t){return y.entryAsync(e,this,t)}$_addRule(e){"string"==typeof e&&(e={name:e}),s(e&&"object"==typeof e,"Invalid options"),s(e.name&&"string"==typeof e.name,"Invalid rule name");for(const t in e)s("_"!==t[0],"Cannot set private rule properties");const t=Object.assign({},e);t._resolve=[],t.method=t.method||t.name;const r=this._definition.rules[t.method],n=t.args;s(r,"Unknown rule",t.method);const o=this.clone();if(n){s(1===Object.keys(n).length||Object.keys(n).length===this._definition.rules[t.name].args.length,"Invalid rule definition for",this.type,t.name);for(const e in n){let a=n[e];if(void 0!==a){if(r.argsByName){const i=r.argsByName.get(e);if(i.ref&&l.isResolvable(a))t._resolve.push(e),o.$_mutateRegister(a);else if(i.normalize&&(a=i.normalize(a),n[e]=a),i.assert){const t=l.validateArg(a,e,i);s(!t,t,"or reference")}}n[e]=a}else delete n[e]}}return r.multi||(o._ruleRemove(t.name,{clone:!1}),o._singleRules.set(t.name,t)),!1===o.$_temp.ruleset&&(o.$_temp.ruleset=null),r.priority?o._rules.unshift(t):o._rules.push(t),o}$_compile(e,t){return c.schema(this.$_root,e,t)}$_createError(e,t,r,s,n,o={}){const a=!1!==o.flags?this._flags:{},i=o.messages?h.merge(this._definition.messages,o.messages):this._definition.messages;return new u.Report(e,t,r,a,i,s,n)}$_getFlag(e){return this._flags[e]}$_getRule(e){return this._singleRules.get(e)}$_mapLabels(e){return e=Array.isArray(e)?e:e.split("."),this._ids.labels(e)}$_match(e,t,r,s){(r=Object.assign({},r)).abortEarly=!0,r._externals=!1,t.snapshot();const n=!y.validate(e,this,t,r,s).errors;return t.restore(),n}$_modify(e){return l.assertOptions(e,["each","once","ref","schema"]),d.schema(this,e)||this}$_mutateRebuild(){s(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset();return this.$_modify({each:(e,{source:t,name:r,path:s,key:n})=>{const o=this._definition[t][r]&&this._definition[t][r].register;!1!==o&&this.$_mutateRegister(e,{family:o,key:n})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(e,{family:t,key:r}={}){this._refs.register(e,t),this._ids.register(e,{key:r})}$_property(e){return this._definition.properties[e]}$_reach(e){return this._ids.reach(e)}$_rootReferences(){return this._refs.roots()}$_setFlag(e,t,r={}){s("_"===e[0]||!this._inRuleset(),"Cannot set flag inside a ruleset");const n=this._definition.flags[e]||{};if(o(t,n.default)&&(t=void 0),o(t,this._flags[e]))return this;const a=!1!==r.clone?this.clone():this;return void 0!==t?(a._flags[e]=t,a.$_mutateRegister(t)):delete a._flags[e],"_"!==e[0]&&(a.$_temp.ruleset=!1),a}$_validate(e,t,r){return y.validate(e,this,t,r)}_assign(e){e.type=this.type,e.$_root=this.$_root,e.$_temp=Object.assign({},this.$_temp),e.$_temp.whens={},e._ids=this._ids.clone(),e._preferences=this._preferences,e._valids=this._valids&&this._valids.clone(),e._invalids=this._invalids&&this._invalids.clone(),e._rules=this._rules.slice(),e._singleRules=n(this._singleRules,{shallow:!0}),e._refs=this._refs.clone(),e._flags=Object.assign({},this._flags),e._cache=null,e.$_terms={};for(const t in this.$_terms)e.$_terms[t]=this.$_terms[t]?this.$_terms[t].slice():null;e.$_super={};for(const t in this.$_super)e.$_super[t]=this._super[t].bind(e);return e}_default(e,t,r={}){return l.assertOptions(r,"literal"),s(void 0!==t,"Missing",e,"value"),s("function"==typeof t||!r.literal,"Only function value supports literal option"),"function"==typeof t&&r.literal&&(t={[l.symbols.literal]:!0,literal:t}),this.$_setFlag(e,t)}_generate(e,t,r){if(!this.$_terms.whens)return{schema:this};const s=[],n=[];for(let o=0;o<this.$_terms.whens.length;++o){const a=this.$_terms.whens[o];if(a.concat){s.push(a.concat),n.push("".concat(o,".concat"));continue}const i=a.ref?a.ref.resolve(e,t,r):e,l=a.is?[a]:a.switch,c=n.length;for(let c=0;c<l.length;++c){const{is:u,then:f,otherwise:m}=l[c],h="".concat(o).concat(a.switch?"."+c:"");if(u.$_match(i,t.nest(u,"".concat(h,".is")),r)){if(f){const o=t.localize([...t.path,"".concat(h,".then")],t.ancestors,t.schemas),{schema:a,id:i}=f._generate(e,o,r);s.push(a),n.push("".concat(h,".then").concat(i?"(".concat(i,")"):""));break}}else if(m){const o=t.localize([...t.path,"".concat(h,".otherwise")],t.ancestors,t.schemas),{schema:a,id:i}=m._generate(e,o,r);s.push(a),n.push("".concat(h,".otherwise").concat(i?"(".concat(i,")"):""));break}}if(a.break&&n.length>c)break}const o=n.join(", ");if(t.mainstay.tracer.debug(t,"rule","when",o),!o)return{schema:this};if(!t.mainstay.tracer.active&&this.$_temp.whens[o])return{schema:this.$_temp.whens[o],id:o};let a=this;this._definition.generate&&(a=this._definition.generate(this,e,t,r));for(const e of s)a=a.concat(e);return this.$_root._tracer&&this.$_root._tracer._combine(a,[this,...s]),this.$_temp.whens[o]=a,{schema:a,id:o}}_inner(e,t,r={}){s(!this._inRuleset(),"Cannot set ".concat(e," inside a ruleset"));const n=this.clone();return n.$_terms[e]&&!r.override||(n.$_terms[e]=[]),r.single?n.$_terms[e].push(t):n.$_terms[e].push(...t),n.$_temp.ruleset=!1,n}_inRuleset(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset}_ruleRemove(e,t={}){if(!this._singleRules.has(e))return this;const r=!1!==t.clone?this.clone():this;r._singleRules.delete(e);const s=[];for(let t=0;t<r._rules.length;++t){const n=r._rules[t];n.name!==e||n.keep?s.push(n):r._inRuleset()&&t<r.$_temp.ruleset&&--r.$_temp.ruleset}return r._rules=s,r}_values(e,t){l.verifyFlat(e,t.slice(1,-1));const r=this.clone(),n=e[0]===l.symbols.override;if(n&&(e=e.slice(1)),!r[t]&&e.length?r[t]=new b:n&&(r[t]=e.length?new b:null,r.$_mutateRebuild()),!r[t])return r;n&&r[t].override();for(const n of e){s(void 0!==n,"Cannot call allow/valid/invalid with undefined"),s(n!==l.symbols.override,"Override must be the first value");const e="_invalids"===t?"_valids":"_invalids";r[e]&&(r[e].remove(n),r[e].length||(s("_valids"===t||!r._flags.only,"Setting invalid value",n,"leaves schema rejecting all values due to previous valid rule"),r[e]=null)),r[t].add(n,r._refs)}return r}}};v.Base.prototype[l.symbols.any]={version:l.version,compile:c.compile,root:"$_root"},v.Base.prototype.isImmutable=!0,v.Base.prototype.deny=v.Base.prototype.invalid,v.Base.prototype.disallow=v.Base.prototype.invalid,v.Base.prototype.equal=v.Base.prototype.valid,v.Base.prototype.exist=v.Base.prototype.required,v.Base.prototype.not=v.Base.prototype.invalid,v.Base.prototype.options=v.Base.prototype.prefs,v.Base.prototype.preferences=v.Base.prototype.prefs,e.exports=new v.Base},function(e,t,r){"use strict";function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const o=r(0),a=r(1),i=r(5),l={};t.Ids=l.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const e=new l.Ids;return e._byId=new Map(this._byId),e._byKey=new Map(this._byKey),e._schemaChain=this._schemaChain,e}concat(e){e._schemaChain&&(this._schemaChain=!0);for(const[t,r]of e._byId.entries())o(!this._byKey.has(t),"Schema id conflicts with existing key:",t),this._byId.set(t,r);for(const[t,r]of e._byKey.entries())o(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,r)}fork(e,t,r){const s=this._collect(e);s.push({schema:r});const n=s.shift();let i={id:n.id,schema:t(n.schema)};o(a.isSchema(i.schema),"adjuster function failed to return a joi schema type");for(const e of s)i={id:e.id,schema:l.fork(e.schema,i.id,i.schema)};return i.schema}labels(e,t=[]){const r=e[0],s=this._get(r);if(!s)return[...t,...e].join(".");const n=e.slice(1);return t=[...t,s.schema._flags.label||r],n.length?s.schema._ids.labels(n,t):t.join(".")}reach(e,t=[]){const r=e[0],s=this._get(r);o(s,"Schema does not contain path",[...t,...e].join("."));const n=e.slice(1);return n.length?s.schema._ids.reach(n,[...t,r]):s.schema}register(e,{key:t}={}){if(!e||!a.isSchema(e))return;(e.$_property("schemaChain")||e._ids._schemaChain)&&(this._schemaChain=!0);const r=e._flags.id;if(r){const t=this._byId.get(r);o(!t||t.schema===e,"Cannot add different schemas with the same id:",r),o(!this._byKey.has(r),"Schema id conflicts with existing key:",r),this._byId.set(r,{schema:e,id:r})}t&&(o(!this._byKey.has(t),"Schema already contains key:",t),o(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,{schema:e,id:t}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(e,t=[],r=[]){const s=e[0],n=this._get(s);o(n,"Schema does not contain path",[...t,...e].join(".")),r=[n,...r];const a=e.slice(1);return a.length?n.schema._ids._collect(a,[...t,s],r):r}_get(e){return this._byId.get(e)||this._byKey.get(e)}},l.fork=function(e,r,s){const n=t.schema(e,{each:(e,{key:t})=>{if(r===(e._flags.id||t))return s},ref:!1});return n?n.$_mutateRebuild():e},t.schema=function(e,t){let r;for(const s in e._flags){if("_"===s[0])continue;const n=l.scan(e._flags[s],{source:"flags",name:s},t);void 0!==n&&(r=r||e.clone(),r._flags[s]=n)}for(let s=0;s<e._rules.length;++s){const n=e._rules[s],o=l.scan(n.args,{source:"rules",name:n.name},t);if(void 0!==o){r=r||e.clone();const t=Object.assign({},n);t.args=o,r._rules[s]=t,r._singleRules.get(n.name)===n&&r._singleRules.set(n.name,t)}}for(const s in e.$_terms){if("_"===s[0])continue;const n=l.scan(e.$_terms[s],{source:"terms",name:s},t);void 0!==n&&(r=r||e.clone(),r.$_terms[s]=n)}return r},l.scan=function(e,t,r,o,c){const u=o||[];if(null===e||"object"!=typeof e)return;let f;if(Array.isArray(e)){for(let s=0;s<e.length;++s){const n="terms"===t.source&&"keys"===t.name&&e[s].key,o=l.scan(e[s],t,r,[s,...u],n);void 0!==o&&(f=f||e.slice(),f[s]=o)}return f}if(!1!==r.schema&&a.isSchema(e)||!1!==r.ref&&i.isRef(e)){const o=r.each(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{path:u,key:c}));if(o===e)return;return o}for(const s in e){if("_"===s[0])continue;const n=l.scan(e[s],t,r,[s,...u],c);void 0!==n&&(f=f||Object.assign({},e),f[s]=n)}return f}},function(e,t,r){"use strict";const s=r(0),n=r(2),o=r(37),a=r(6),i=r(1),l=r(4),c=r(38),u={result:Symbol("result")};t.entry=function(e,t,r){let n=i.defaults;r&&(s(void 0===r.warnings,"Cannot override warnings preference in synchronous validation"),n=i.preferences(i.defaults,r));const o=u.entry(e,t,n);s(!o.mainstay.externals.length,"Schema with external rules must use validateAsync()");const a={value:o.value};return o.error&&(a.error=o.error),o.mainstay.warnings.length&&(a.warning=l.details(o.mainstay.warnings)),o.mainstay.debug&&(a.debug=o.mainstay.debug),a},t.entryAsync=async function(e,t,r){let s=i.defaults;r&&(s=i.preferences(i.defaults,r));const n=u.entry(e,t,s),o=n.mainstay;if(n.error)throw o.debug&&(n.error.debug=o.debug),n.error;if(o.externals.length){let e=n.value;for(const{method:t,path:r,label:s}of o.externals){let n,o,i=e;r.length&&(n=r[r.length-1],o=a(e,r.slice(0,-1)),i=o[n]);try{const r=await t(i);if(void 0===r||r===i)continue;o?o[n]=r:e=r}catch(e){throw e.message+=" (".concat(s,")"),e}}n.value=e}if(!s.warnings&&!s.debug)return n.value;const c={value:n.value};return o.warnings.length&&(c.warning=l.details(o.warnings)),o.debug&&(c.debug=o.debug),c},u.entry=function(e,r,s){const{tracer:n,cleanup:o}=u.tracer(r,s),a={externals:[],warnings:[],tracer:n,debug:s.debug?[]:null,links:r._ids._schemaChain?new Map:null},i=r._ids._schemaChain?[{schema:r}]:null,f=new c([],[],{mainstay:a,schemas:i}),m=t.validate(e,r,f,s);o&&r.$_root.untrace();const h=l.process(m.errors,e,s);return{value:m.value,error:h,mainstay:a}},u.tracer=function(e,t){return e.$_root._tracer?{tracer:e.$_root._tracer._register(e)}:t.debug?(s(e.$_root.trace,"Debug mode not supported"),{tracer:e.$_root.trace()._register(e),cleanup:!0}):{tracer:u.ignore}},t.validate=function(e,t,r,s,n={}){if(t.$_terms.whens&&(t=t._generate(e,r,s).schema),t._preferences&&(s=u.prefs(t,s)),t._cache&&s.cache){const s=t._cache.get(e);if(r.mainstay.tracer.debug(r,"validate","cached",!!s),s)return s}const o=(n,o,a)=>t.$_createError(n,e,o,a||r,s),a={original:e,prefs:s,schema:t,state:r,error:o,warn:(e,t,s)=>r.mainstay.warnings.push(o(e,t,s)),message:(n,o)=>t.$_createError("custom",e,o,r,s,{messages:n})};r.mainstay.tracer.entry(t,r);const l=t._definition;if(l.prepare&&void 0!==e&&s.convert){const t=l.prepare(e,a);if(t){if(r.mainstay.tracer.value(r,"prepare",e,t.value),t.errors)return u.finalize(t.value,[].concat(t.errors),a);e=t.value}}if(l.coerce&&void 0!==e&&s.convert&&(!l.coerce.from||l.coerce.from.includes(typeof e))){const t=l.coerce.method(e,a);if(t){if(r.mainstay.tracer.value(r,"coerced",e,t.value),t.errors)return u.finalize(t.value,[].concat(t.errors),a);e=t.value}}const c=t._flags.empty;c&&c.$_match(u.trim(e,t),r.nest(c),i.defaults)&&(r.mainstay.tracer.value(r,"empty",e,void 0),e=void 0);const f=n.presence||t._flags.presence||(t._flags._endedSwitch?"ignore":s.presence);if(void 0===e){if("forbidden"===f)return u.finalize(e,null,a);if("required"===f)return u.finalize(e,[t.$_createError("any.required",e,null,r,s)],a);if("optional"===f){if(t._flags.default!==i.symbols.deepDefault)return u.finalize(e,null,a);r.mainstay.tracer.value(r,"default",e,{}),e={}}}else if("forbidden"===f)return u.finalize(e,[t.$_createError("any.unknown",e,null,r,s)],a);const m=[];if(t._valids){const n=t._valids.get(e,r,s,t._flags.insensitive);if(n)return s.convert&&(r.mainstay.tracer.value(r,"valids",e,n.value),e=n.value),r.mainstay.tracer.filter(t,r,"valid",n),u.finalize(e,null,a);if(t._flags.only){const n=t.$_createError("any.only",e,{valids:t._valids.values({display:!0})},r,s);if(s.abortEarly)return u.finalize(e,[n],a);m.push(n)}}if(t._invalids){const n=t._invalids.get(e,r,s,t._flags.insensitive);if(n){r.mainstay.tracer.filter(t,r,"invalid",n);const o=t.$_createError("any.invalid",e,{invalids:t._invalids.values({display:!0})},r,s);if(s.abortEarly)return u.finalize(e,[o],a);m.push(o)}}if(l.validate){const t=l.validate(e,a);if(t&&(r.mainstay.tracer.value(r,"base",e,t.value),e=t.value,t.errors)){if(!Array.isArray(t.errors))return m.push(t.errors),u.finalize(e,m,a);if(t.errors.length)return m.push(...t.errors),u.finalize(e,m,a)}}return t._rules.length?u.rules(e,m,a):u.finalize(e,m,a)},u.rules=function(e,t,r){const{schema:s,state:n,prefs:o}=r;for(const a of s._rules){const l=s._definition.rules[a.method];if(l.convert&&o.convert){n.mainstay.tracer.log(s,n,"rule",a.name,"full");continue}let c,f=a.args;if(a._resolve.length){f=Object.assign({},f);for(const t of a._resolve){const r=l.argsByName.get(t),a=f[t].resolve(e,n,o),u=r.normalize?r.normalize(a):a,m=i.validateArg(u,null,r);if(m){c=s.$_createError("any.ref",a,{arg:t,ref:f[t],reason:m},n,o);break}f[t]=u}}c=c||l.validate(e,r,f,a);const m=u.rule(c,a);if(m.errors){if(n.mainstay.tracer.log(s,n,"rule",a.name,"error"),a.warn){n.mainstay.warnings.push(...m.errors);continue}if(o.abortEarly)return u.finalize(e,m.errors,r);t.push(...m.errors)}else n.mainstay.tracer.log(s,n,"rule",a.name,"pass"),n.mainstay.tracer.value(n,"rule",e,m.value,a.name),e=m.value}return u.finalize(e,t,r)},u.rule=function(e,t){return e instanceof l.Report?(u.error(e,t),{errors:[e],value:null}):Array.isArray(e)&&(e[0]instanceof l.Report||e[0]instanceof Error)?(e.forEach(e=>u.error(e,t)),{errors:e,value:null}):{errors:null,value:e}},u.error=function(e,t){return t.message&&e._setTemplate(t.message),e},u.finalize=function(e,t,r){t=t||[];const{schema:n,state:o,prefs:a}=r;if(t.length){const s=u.default("failover",void 0,t,r);void 0!==s&&(o.mainstay.tracer.value(o,"failover",e,s),e=s,t=[])}if(t.length&&n._flags.error)if("function"==typeof n._flags.error){t=n._flags.error(t),Array.isArray(t)||(t=[t]);for(const e of t)s(e instanceof Error||e instanceof l.Report,"error() must return an Error object")}else t=[n._flags.error];if(void 0===e){const s=u.default("default",e,t,r);o.mainstay.tracer.value(o,"default",e,s),e=s}if(n._flags.cast&&void 0!==e){const t=n._definition.cast[n._flags.cast];if(t.from(e)){const s=t.to(e,r);o.mainstay.tracer.value(o,"cast",e,s,n._flags.cast),e=s}}if(n.$_terms.externals&&a.externals&&!1!==a._externals)for(const{method:e}of n.$_terms.externals)o.mainstay.externals.push({method:e,path:o.path,label:l.label(n._flags,o,a)});const i={value:e,errors:t.length?t:null};return n._flags.result&&(i.value="strip"===n._flags.result?void 0:r.original,o.mainstay.tracer.value(o,n._flags.result,e,i.value),o.shadow(e,n._flags.result)),n._cache&&!1!==a.cache&&!n._refs.length&&n._cache.set(r.original,i),i},u.prefs=function(e,t){const r=t===i.defaults;return r&&e._preferences[i.symbols.prefs]?e._preferences[i.symbols.prefs]:(t=i.preferences(t,e._preferences),r&&(e._preferences[i.symbols.prefs]=t),t)},u.default=function(e,t,r,s){const{schema:o,state:a,prefs:l}=s,c=o._flags[e];if(l.noDefaults||void 0===c)return t;if(a.mainstay.tracer.log(o,a,"rule",e,"full"),!c)return c;if("function"==typeof c){const t=c.length?[n(a.ancestors[0]),s]:[];try{return c(...t)}catch(t){return void r.push(o.$_createError("any.".concat(e),null,{error:t},a,l))}}return"object"!=typeof c?c:c[i.symbols.literal]?c.literal:i.isResolvable(c)?c.resolve(t,a,l):n(c)},u.trim=function(e,t){if("string"!=typeof e)return e;const r=t.$_getRule("trim");return r&&r.args.enabled?e.trim():e},u.ignore={active:!1,debug:o,entry:o,filter:o,log:o,resolve:o,value:o}},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){"use strict";const s=r(2),n=r(6),o=r(1),a={value:Symbol("value")};e.exports=a.State=class{constructor(e,t,r){this.path=e,this.ancestors=t,this.mainstay=r.mainstay,this.schemas=r.schemas,this.debug=null}localize(e,t=null,r=null){const s=new a.State(e,t,this);return r&&s.schemas&&(s.schemas=[a.schemas(r),...s.schemas]),s}nest(e,t){const r=new a.State(this.path,this.ancestors,this);return r.schemas=r.schemas&&[a.schemas(e),...r.schemas],r.debug=t,r}shadow(e,t){this.mainstay.shadow=this.mainstay.shadow||new a.Shadow,this.mainstay.shadow.set(this.path,e,t)}snapshot(){this.mainstay.shadow&&(this._snapshot=s(this.mainstay.shadow.node(this.path)))}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0)}},a.schemas=function(e){return o.isSchema(e)?{schema:e}:e},a.Shadow=class{constructor(){this._values=null}set(e,t,r){if(!e.length)return;if("strip"===r&&"number"==typeof e[e.length-1])return;this._values=this._values||new Map;let s=this._values;for(let t=0;t<e.length;++t){const r=e[t];let n=s.get(r);n||(n=new Map,s.set(r,n)),s=n}s[a.value]=t}get(e){const t=this.node(e);if(t)return t[a.value]}node(e){if(this._values)return n(this._values,e,{iterables:!0})}override(e,t){if(!this._values)return;const r=e.slice(0,-1),s=e[e.length-1],o=n(this._values,r,{iterables:!0});t?o.set(s,t):o&&o.delete(s)}}},function(e,t,r){"use strict";const s=r(0),n=r(10),o=r(6),a=r(3),i=r(1),l=r(8),c={};e.exports=a.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(e,{schema:t,state:r,prefs:s}){if(!Array.isArray(e))return;const n=t.$_getRule("sort");return n?c.sort(t,e,n.args.options,r,s):void 0}},validate(e,{schema:t,error:r}){if(!Array.isArray(e)){if(t._flags.single){const t=[e];return t[i.symbols.arraySingle]=!0,{value:t}}return{errors:r("array.base")}}if(t.$_getRule("items")||t.$_terms.externals)return{value:e.slice()}},rules:{has:{method(e){e=this.$_compile(e,{appendPath:!0});const t=this.$_addRule({name:"has",args:{schema:e}});return t.$_mutateRegister(e),t},validate(e,{state:t,prefs:r,error:s},{schema:n}){const o=[e,...t.ancestors];for(let s=0;s<e.length;++s){const a=t.localize([...t.path,s],o,n);if(n.$_match(e[s],a,r))return e}const a=n._flags.label;return a?s("array.hasKnown",{patternLabel:a}):s("array.hasUnknown",null)},multi:!0},items:{method(...e){i.verifyFlat(e,"items");const t=this.$_addRule("items");for(let r=0;r<e.length;++r){const s=i.tryWithPath(()=>this.$_compile(e[r]),r,{append:!0});t.$_terms.items.push(s)}return t.$_mutateRebuild()},validate(e,{schema:t,error:r,state:s,prefs:n}){const o=t.$_terms._requireds.slice(),a=t.$_terms.ordered.slice(),l=[...t.$_terms._inclusions,...o],u=!e[i.symbols.arraySingle];delete e[i.symbols.arraySingle];const f=[];let m=e.length;for(let i=0;i<m;++i){const h=e[i];let d=!1,p=!1;const g=u?i:new Number(i),y=[...s.path,g];if(!t._flags.sparse&&void 0===h){if(f.push(r("array.sparse",{key:g,path:y,pos:i,value:void 0},s.localize(y))),n.abortEarly)return f;a.shift();continue}const b=[e,...s.ancestors];for(const e of t.$_terms._exclusions)if(e.$_match(h,s.localize(y,b,e),n,{presence:"ignore"})){if(f.push(r("array.excludes",{pos:i,value:h},s.localize(y))),n.abortEarly)return f;d=!0,a.shift();break}if(d)continue;if(t.$_terms.ordered.length){if(a.length){const o=a.shift(),l=o.$_validate(h,s.localize(y,b,o),n);if(l.errors){if(f.push(...l.errors),n.abortEarly)return f}else if("strip"===o._flags.result)c.fastSplice(e,i),--i,--m;else{if(!t._flags.sparse&&void 0===l.value){if(f.push(r("array.sparse",{key:g,path:y,pos:i,value:void 0},s.localize(y))),n.abortEarly)return f;continue}e[i]=l.value}continue}if(!t.$_terms.items.length){if(f.push(r("array.orderedLength",{pos:i,limit:t.$_terms.ordered.length})),n.abortEarly)return f;break}}const v=[];let _=o.length;for(let a=0;a<_;++a){const l=s.localize(y,b,o[a]);l.snapshot();const u=o[a].$_validate(h,l,n);if(v[a]=u,!u.errors){if(e[i]=u.value,p=!0,c.fastSplice(o,a),--a,--_,!t._flags.sparse&&void 0===u.value&&(f.push(r("array.sparse",{key:g,path:y,pos:i,value:void 0},s.localize(y))),n.abortEarly))return f;break}l.restore()}if(p)continue;const w=n.stripUnknown&&!!n.stripUnknown.arrays||!1;_=l.length;for(const a of l){let l;const u=o.indexOf(a);if(-1!==u)l=v[u];else{const o=s.localize(y,b,a);if(o.snapshot(),l=a.$_validate(h,o,n),!l.errors){"strip"===a._flags.result?(c.fastSplice(e,i),--i,--m):t._flags.sparse||void 0!==l.value?e[i]=l.value:(f.push(r("array.sparse",{key:g,path:y,pos:i,value:void 0},s.localize(y))),d=!0),p=!0;break}o.restore()}if(1===_){if(w){c.fastSplice(e,i),--i,--m,p=!0;break}if(f.push(...l.errors),n.abortEarly)return f;d=!0;break}}if(!d&&(t.$_terms._inclusions.length&&!p)){if(w){c.fastSplice(e,i),--i,--m;continue}if(f.push(r("array.includes",{pos:i,value:h},s.localize(y))),n.abortEarly)return f}}return o.length&&c.fillMissedErrors(t,f,o,e,s,n),a.length&&c.fillOrderedErrors(t,f,a,e,s,n),f.length?f:e},priority:!0,manifest:!1},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:(e,t,{limit:r},{name:s,operator:n,args:o})=>i.compare(e.length,r,n)?e:t.error("array."+s,{limit:o.limit,value:e}),args:[{name:"limit",ref:!0,assert:i.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},ordered:{method(...e){i.verifyFlat(e,"ordered");const t=this.$_addRule("items");for(let r=0;r<e.length;++r){const s=i.tryWithPath(()=>this.$_compile(e[r]),r,{append:!0});c.validateSingle(s,t),t.$_mutateRegister(s),t.$_terms.ordered.push(s)}return t.$_mutateRebuild()}},single:{method(e){const t=void 0===e||!!e;return s(!t||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",t)}},sort:{method(e={}){i.assertOptions(e,["by","order"]);const t={order:e.order||"ascending"};return e.by&&(t.by=l.ref(e.by,{ancestor:0}),s(!t.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:t}})},validate(e,{error:t,state:r,prefs:s,schema:n},{options:o}){const{value:a,errors:i}=c.sort(n,e,o,r,s);if(i)return i;for(let r=0;r<e.length;++r)if(e[r]!==a[r])return t("array.sort",{order:o.order,by:o.by?o.by.key:"value"});return e},convert:!0},sparse:{method(e){const t=void 0===e||!!e;return this._flags.sparse===t?this:(t?this.clone():this.$_addRule("items")).$_setFlag("sparse",t,{clone:!1})}},unique:{method(e,t={}){s(!e||"function"==typeof e||"string"==typeof e,"comparator must be a function or a string"),i.assertOptions(t,["ignoreUndefined","separator"]);const r={name:"unique",args:{options:t,comparator:e}};if(e)if("string"==typeof e){const s=i.default(t.separator,".");r.path=s?e.split(s):[e]}else r.comparator=e;return this.$_addRule(r)},validate(e,{state:t,error:r,schema:a},{comparator:i,options:l},{comparator:c,path:u}){const f={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},m=c||n,h=l.ignoreUndefined;for(let n=0;n<e.length;++n){const a=u?o(e[n],u):e[n],l=c?f.custom:f[typeof a];if(s(l,"Failed to find unique map container for type",typeof a),l instanceof Map){const s=l.entries();let o;for(;!(o=s.next()).done;)if(m(o.value[0],a)){const s=t.localize([...t.path,n],[e,...t.ancestors]),a={pos:n,value:e[n],dupePos:o.value[1],dupeValue:e[o.value[1]]};return u&&(a.path=i),r("array.unique",a,s)}l.set(a,n)}else{if((!h||void 0!==a)&&void 0!==l[a]){const s={pos:n,value:e[n],dupePos:l[a],dupeValue:e[l[a]]};return u&&(s.path=i),r("array.unique",s,t.localize([...t.path,n],[e,...t.ancestors]))}l[a]=n}}return e},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(e,t)=>new Set(e)}},rebuild(e){e.$_terms._inclusions=[],e.$_terms._exclusions=[],e.$_terms._requireds=[];for(const t of e.$_terms.items)c.validateSingle(t,e),"required"===t._flags.presence?e.$_terms._requireds.push(t):"forbidden"===t._flags.presence?e.$_terms._exclusions.push(t):e.$_terms._inclusions.push(t);for(const t of e.$_terms.ordered)c.validateSingle(t,e)},manifest:{build:(e,t)=>(t.items&&(e=e.items(...t.items)),t.ordered&&(e=e.ordered(...t.ordered)),e)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":'{{#label}} does not contain at least one required match for type "{#patternLabel}"',"array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),c.fillMissedErrors=function(e,t,r,s,n,o){const a=[];let i=0;for(const e of r){const t=e._flags.label;t?a.push(t):++i}a.length?i?t.push(e.$_createError("array.includesRequiredBoth",s,{knownMisses:a,unknownMisses:i},n,o)):t.push(e.$_createError("array.includesRequiredKnowns",s,{knownMisses:a},n,o)):t.push(e.$_createError("array.includesRequiredUnknowns",s,{unknownMisses:i},n,o))},c.fillOrderedErrors=function(e,t,r,s,n,o){const a=[];for(const e of r)"required"===e._flags.presence&&a.push(e);a.length&&c.fillMissedErrors(e,t,a,s,n,o)},c.fastSplice=function(e,t){let r=t;for(;r<e.length;)e[r++]=e[r];--e.length},c.validateSingle=function(e,t){("array"===e.type||e._flags._arrayItems)&&(s(!t._flags.single,"Cannot specify array item with single rule enabled"),t.$_setFlag("_arrayItems",!0,{clone:!1}))},c.sort=function(e,t,r,s,n){const o="ascending"===r.order?1:-1,a=-1*o,i=o,l=(l,u)=>{let f=c.compare(l,u,a,i);if(null!==f)return f;if(r.by&&(l=r.by.resolve(l,s,n),u=r.by.resolve(u,s,n)),f=c.compare(l,u,a,i),null!==f)return f;const m=typeof l;if(m!==typeof u)throw e.$_createError("array.sort.mismatching",t,null,s,n);if("number"!==m&&"string"!==m)throw e.$_createError("array.sort.unsupported",t,{type:m},s,n);return"number"===m?(l-u)*o:l<u?a:i};try{return{value:t.slice().sort(l)}}catch(e){return{errors:e}}},c.compare=function(e,t,r,s){return e===t?0:void 0===e?1:void 0===t?-1:null===e?s:null===t?r:null}},function(e,t,r){"use strict";const s=r(0),n=r(3),o=r(1),a=r(21),i={isBool:function(e){return"boolean"==typeof e}};e.exports=n.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(e,{schema:t}){if("boolean"!=typeof e){if("string"==typeof e){const r=t._flags.sensitive?e:e.toLowerCase();e="true"===r||"false"!==r&&e}return"boolean"!=typeof e&&(e=t.$_terms.truthy&&t.$_terms.truthy.has(e,null,null,!t._flags.sensitive)||(!t.$_terms.falsy||!t.$_terms.falsy.has(e,null,null,!t._flags.sensitive))&&e),{value:e}}},validate(e,{error:t}){if("boolean"!=typeof e)return{value:e,errors:t("boolean.base")}},rules:{truthy:{method(...e){o.verifyFlat(e,"truthy");const t=this.clone();t.$_terms.truthy=t.$_terms.truthy||new a;for(let r=0;r<e.length;++r){const n=e[r];s(void 0!==n,"Cannot call truthy with undefined"),t.$_terms.truthy.add(n)}return t}},falsy:{method(...e){o.verifyFlat(e,"falsy");const t=this.clone();t.$_terms.falsy=t.$_terms.falsy||new a;for(let r=0;r<e.length;++r){const n=e[r];s(void 0!==n,"Cannot call falsy with undefined"),t.$_terms.falsy.add(n)}return t}},sensitive:{method(e=!0){return this.$_setFlag("sensitive",e)}}},cast:{number:{from:i.isBool,to:(e,t)=>e?1:0},string:{from:i.isBool,to:(e,t)=>e?"true":"false"}},manifest:{build:(e,t)=>(t.truthy&&(e=e.truthy(...t.truthy)),t.falsy&&(e=e.falsy(...t.falsy)),e)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},function(e,t,r){"use strict";const s=r(0),n=r(3),o=r(1),a=r(7),i={isDate:function(e){return e instanceof Date}};e.exports=n.extend({type:"date",coerce:{from:["number","string"],method:(e,{schema:t})=>({value:i.parse(e,t._flags.format)||e})},validate(e,{schema:t,error:r,prefs:s}){if(e instanceof Date&&!isNaN(e.getTime()))return;const n=t._flags.format;return s.convert&&n&&"string"==typeof e?{value:e,errors:r("date.format",{format:n})}:{value:e,errors:r("date.base")}},rules:{compare:{method:!1,validate(e,t,{date:r},{name:s,operator:n,args:a}){const i="now"===r?Date.now():r.getTime();return o.compare(e.getTime(),i,n)?e:t.error("date."+s,{limit:a.date,value:e})},args:[{name:"date",ref:!0,normalize:e=>"now"===e?e:i.parse(e),assert:e=>null!==e,message:"must have a valid date format"}]},format:{method(e){return s(["iso","javascript","unix"].includes(e),"Unknown date format",e),this.$_setFlag("format",e)}},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{date:e},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{date:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{date:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{date:e},operator:">="})}},timestamp:{method(e="javascript"){return s(["javascript","unix"].includes(e),'"type" must be one of "javascript, unix"'),this.format(e)}}},cast:{number:{from:i.isDate,to:(e,t)=>e.getTime()},string:{from:i.isDate,to:(e,{prefs:t})=>a.date(e,t)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":'{{#label}} must be greater than "{{#limit}}"',"date.less":'{{#label}} must be less than "{{#limit}}"',"date.max":'{{#label}} must be less than or equal to "{{#limit}}"',"date.min":'{{#label}} must be larger than or equal to "{{#limit}}"',"date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),i.parse=function(e,t){if(e instanceof Date)return e;if("string"!=typeof e&&(isNaN(e)||!isFinite(e)))return null;if(/^\s*$/.test(e))return null;if("iso"===t)return o.isIsoDate(e)?i.date(e.toString()):null;const r=e;if("string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),t){if("javascript"===t)return i.date(1*e);if("unix"===t)return i.date(1e3*e);if("string"==typeof r)return null}return i.date(e)},i.date=function(e){const t=new Date(e);return isNaN(t.getTime())?null:t}},function(e,t,r){"use strict";const s=r(0),n=r(22);e.exports=n.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(e){return s(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:e}})},validate:(e,t,{n:r})=>e.length===r?e:t.error("function.arity",{n:r})},class:{method(){return this.$_addRule("class")},validate:(e,t)=>/^\s*class\s/.test(e.toString())?e:t.error("function.class",{value:e})},minArity:{method(e){return s(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:e}})},validate:(e,t,{n:r})=>e.length>=r?e:t.error("function.minArity",{n:r})},maxArity:{method(e){return s(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:e}})},validate:(e,t,{n:r})=>e.length<=r?e:t.error("function.maxArity",{n:r})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},function(e,t,r){"use strict";const s=r(0),n=r(2),o=r(20),a=r(6),i={};e.exports=function(e,t,r={}){if(s(e&&"object"==typeof e,"Invalid defaults value: must be an object"),s(!t||!0===t||"object"==typeof t,"Invalid source value: must be true, falsy or an object"),s("object"==typeof r,"Invalid options: must be an object"),!t)return null;if(r.shallow)return i.applyToDefaultsWithShallow(e,t,r);const a=n(e);if(!0===t)return a;const l=void 0!==r.nullOverride&&r.nullOverride;return o(a,t,{nullOverride:l,mergeArrays:!1})},i.applyToDefaultsWithShallow=function(e,t,r){const l=r.shallow;s(Array.isArray(l),"Invalid keys");const c=new Map,u=!0===t?null:new Set;for(let r of l){r=Array.isArray(r)?r:r.split(".");const s=a(e,r);s&&"object"==typeof s?c.set(s,u&&a(t,r)||s):u&&u.add(r)}const f=n(e,{},c);if(!u)return f;for(const e of u)i.reachCopy(f,t,e);return o(f,t,{mergeArrays:!1,nullOverride:!1})},i.reachCopy=function(e,t,r){for(const e of r){if(!(e in t))return;t=t[e]}const s=t;let n=e;for(let e=0;e<r.length-1;++e){const t=r[e];"object"!=typeof n[t]&&(n[t]={}),n=n[t]}n[r[r.length-1]]=s}},function(e,t,r){"use strict";const s=r(0),n={};t.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(e,t){const r=[].concat((t=t||{}).before||[]),n=[].concat(t.after||[]),o=t.group||"?",a=t.sort||0;s(!r.includes(o),"Item cannot come before itself: ".concat(o)),s(!r.includes("?"),"Item cannot come before unassociated items"),s(!n.includes(o),"Item cannot come after itself: ".concat(o)),s(!n.includes("?"),"Item cannot come after unassociated items"),Array.isArray(e)||(e=[e]);for(const t of e){const e={seq:this._items.length,sort:a,before:r,after:n,group:o,node:t};this._items.push(e)}const i=this._sort();return s(i,"item","?"!==o?"added into group ".concat(o):"","created a dependencies error"),this.nodes}merge(e){Array.isArray(e)||(e=[e]);for(const t of e)if(t)for(const e of t._items)this._items.push(Object.assign({},e));this._items.sort(n.mergeSort);for(let e=0;e<this._items.length;++e)this._items[e].seq=e;const t=this._sort();return s(t,"merge created a dependencies error"),this.nodes}_sort(){const e={},t=Object.create(null),r=Object.create(null);for(const s of this._items){const n=s.seq,o=s.group;r[o]=r[o]||[],r[o].push(n),e[n]=s.before;for(const e of s.after)t[e]=t[e]||[],t[e].push(n)}for(const t in e){const s=[];for(const n in e[t]){const o=e[t][n];r[o]=r[o]||[],s.push(...r[o])}e[t]=s}for(const s in t)if(r[s])for(const n of r[s])e[n].push(...t[s]);const s={};for(const t in e){const r=e[t];for(const e of r)s[e]=s[e]||[],s[e].push(t)}const n={},o=[];for(let e=0;e<this._items.length;++e){let t=e;if(s[e]){t=null;for(let e=0;e<this._items.length;++e){if(!0===n[e])continue;s[e]||(s[e]=[]);const r=s[e].length;let o=0;for(let t=0;t<r;++t)n[s[e][t]]&&++o;if(o===r){t=e;break}}}null!==t&&(n[t]=!0,o.push(t))}if(o.length!==this._items.length)return!1;const a={};for(const e of this._items)a[e.seq]=e;this._items=[],this.nodes=[];for(const e of o){const t=a[e];this.nodes.push(t.node),this._items.push(t)}return!0}},n.mergeSort=(e,t)=>e.sort===t.sort?0:e.sort<t.sort?-1:1},function(e,t,r){"use strict";const s=r(0),n=r(3),o=r(1),a=r(8),i=r(4),l={};e.exports=n.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(e,t)=>e.ref(t),validate(e,{schema:t,state:r,prefs:n}){s(t.$_terms.link,"Uninitialized link schema");const o=l.generate(t,e,r,n),a=t.$_terms.link[0].ref;return o.$_validate(e,r.nest(o,"link:".concat(a.display,":").concat(o.type)),n)},generate:(e,t,r,s)=>l.generate(e,t,r,s),rules:{ref:{method(e){s(!this.$_terms.link,"Cannot reinitialize schema"),e=a.ref(e),s("value"===e.type||"local"===e.type,"Invalid reference type:",e.type),s("local"===e.type||"root"===e.ancestor||e.ancestor>0,"Link cannot reference itself");const t=this.clone();return t.$_terms.link=[{ref:e}],t}},relative:{method(e=!0){return this.$_setFlag("relative",e)}}},overrides:{concat(e){s(this.$_terms.link,"Uninitialized link schema"),s(o.isSchema(e),"Invalid schema object"),s("link"!==e.type,"Cannot merge type link with another link");const t=this.clone();return t.$_terms.whens||(t.$_terms.whens=[]),t.$_terms.whens.push({concat:e}),t.$_mutateRebuild()}},manifest:{build:(e,t)=>(s(t.link,"Invalid link description missing link"),e.ref(t.link))}}),l.generate=function(e,t,r,s){let n=r.mainstay.links.get(e);if(n)return n._generate(t,r,s).schema;const o=e.$_terms.link[0].ref,{perspective:a,path:i}=l.perspective(o,r);l.assert(a,"which is outside of schema boundaries",o,e,r,s);try{n=i.length?a.$_reach(i):a}catch(t){l.assert(!1,"to non-existing schema",o,e,r,s)}return l.assert("link"!==n.type,"which is another link",o,e,r,s),e._flags.relative||r.mainstay.links.set(e,n),n._generate(t,r,s).schema},l.perspective=function(e,t){if("local"===e.type){for(const{schema:r,key:s}of t.schemas){if((r._flags.id||s)===e.path[0])return{perspective:r,path:e.path.slice(1)};if(r.$_terms.shared)for(const t of r.$_terms.shared)if(t._flags.id===e.path[0])return{perspective:t,path:e.path.slice(1)}}return{perspective:null,path:null}}return"root"===e.ancestor?{perspective:t.schemas[t.schemas.length-1].schema,path:e.path}:{perspective:t.schemas[e.ancestor]&&t.schemas[e.ancestor].schema,path:e.path}},l.assert=function(e,t,r,n,o,a){e||s(!1,'"'.concat(i.label(n._flags,o,a),'" contains link reference "').concat(r.display,'" ').concat(t))}},function(e,t,r){"use strict";const s=r(0),n=r(3),o=r(1),a={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/};e.exports=n.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(e,{schema:t,error:r}){const s=e.match(a.numberRx);if(!s)return;e=e.trim();const n={value:parseFloat(e)};if(0===n.value&&(n.value=0),!t._flags.unsafe)if(e.match(/e/i)){if(a.normalizeExponent("".concat(n.value/Math.pow(10,s[1]),"e").concat(s[1]))!==a.normalizeExponent(e))return n.errors=r("number.unsafe"),n}else{const t=n.value.toString();if(t.match(/e/i))return n;if(t!==a.normalizeDecimal(e))return n.errors=r("number.unsafe"),n}return n}},validate(e,{schema:t,error:r,prefs:s}){if(e===1/0||e===-1/0)return{value:e,errors:r("number.infinity")};if(!o.isNumber(e))return{value:e,errors:r("number.base")};const n={value:e};if(s.convert){const e=t.$_getRule("precision");if(e){const t=Math.pow(10,e.args.limit);n.value=Math.round(n.value*t)/t}}return 0===n.value&&(n.value=0),!t._flags.unsafe&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(n.errors=r("number.unsafe")),n},rules:{compare:{method:!1,validate:(e,t,{limit:r},{name:s,operator:n,args:a})=>o.compare(e,r,n)?e:t.error("number."+s,{limit:a.limit,value:e}),args:[{name:"limit",ref:!0,assert:o.isNumber,message:"must be a number"}]},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{limit:e},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(e,t)=>Math.trunc(e)-e==0?e:t.error("number.integer")},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{limit:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{limit:e},operator:">="})}},multiple:{method(e){return this.$_addRule({name:"multiple",args:{base:e}})},validate:(e,t,{base:r},s)=>e%r==0?e:t.error("number.multiple",{multiple:s.args.base,value:e}),args:[{name:"base",ref:!0,assert:e=>"number"==typeof e&&isFinite(e)&&e>0,message:"must be a positive number"}],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(e,t)=>Number.isSafeInteger(e)&&e>=0&&e<=65535?e:t.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(e){return s(Number.isSafeInteger(e),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:e}})},validate(e,t,{limit:r}){const s=e.toString().match(a.precisionRx);return Math.max((s[1]?s[1].length:0)-(s[2]?parseInt(s[2],10):0),0)<=r?e:t.error("number.precision",{limit:r,value:e})},convert:!0},sign:{method(e){return s(["negative","positive"].includes(e),"Invalid sign",e),this.$_addRule({name:"sign",args:{sign:e}})},validate:(e,t,{sign:r})=>"negative"===r&&e<0||"positive"===r&&e>0?e:t.error("number.".concat(r))},unsafe:{method(e=!0){return s("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("unsafe",e)}}},cast:{string:{from:e=>"number"==typeof e,to:(e,t)=>e.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be larger than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),a.normalizeExponent=function(e){return e.replace(/E/,"e").replace(/\.(\d*[1-9])?0+e/,".$1e").replace(/\.e/,"e").replace(/e\+/,"e").replace(/^\+/,"").replace(/^(-?)0+([1-9])/,"$1$2")},a.normalizeDecimal=function(e){return(e=e.replace(/^\+/,"").replace(/\.0+$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([1-9])/,"$1$2")).includes(".")&&e.endsWith("0")&&(e=e.replace(/0+$/,"")),"-0"===e?"0":e}},function(e,t,r){"use strict";const s=r(22);e.exports=s.extend({type:"object",cast:{map:{from:e=>e&&"object"==typeof e,to:(e,t)=>new Map(Object.entries(e))}}})},function(e,t,r){"use strict";function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const a=r(0),i=r(23),l=r(49),c=r(50),u=r(27),f=r(51),m=r(26),h=r(3),d=r(1),p={tlds:f instanceof Set&&{tlds:{allow:f,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:/^[a-f0-9]+$/i,ipRegex:c.regex().regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},cidrPresences:["required","optional","forbidden"],normalizationForms:["NFC","NFD","NFKC","NFKD"]};e.exports=h.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(e,{schema:t,state:r,prefs:s}){const n=t.$_getRule("normalize");n&&(e=e.normalize(n.args.form));const o=t.$_getRule("case");o&&(e="upper"===o.args.direction?e.toLocaleUpperCase():e.toLocaleLowerCase());const a=t.$_getRule("trim");if(a&&a.args.enabled&&(e=e.trim()),t.$_terms.replacements)for(const r of t.$_terms.replacements)e=e.replace(r.pattern,r.replacement);const i=t.$_getRule("hex");if(i&&i.args.options.byteAligned&&e.length%2!=0&&(e="0".concat(e)),t.$_getRule("isoDate")){const t=p.isoDate(e);t&&(e=t)}if(t._flags.truncate){const n=t.$_getRule("max");if(n){let o=n.args.limit;if(d.isResolvable(o)&&(o=o.resolve(e,r,s),!d.limit(o)))return{value:e,errors:t.$_createError("any.ref",o,{ref:n.args.limit,arg:"limit",reason:"must be a positive integer"},r,s)};e=e.slice(0,o)}}return{value:e}}},validate:(e,{error:t})=>"string"!=typeof e?{value:e,errors:t("string.base")}:""===e?{value:e,errors:t("string.empty")}:void 0,rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(e,t)=>/^[a-zA-Z0-9]+$/.test(e)?e:t.error("string.alphanum")},base64:{method(e={}){return d.assertOptions(e,["paddingRequired","urlSafe"]),e=n({urlSafe:!1,paddingRequired:!0},e),a("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),a("boolean"==typeof e.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:e}})},validate:(e,t,{options:r})=>p.base64Regex[r.paddingRequired][r.urlSafe].test(e)?e:t.error("string.base64")},case:{method(e){return a(["lower","upper"].includes(e),"Invalid case:",e),this.$_addRule({name:"case",args:{direction:e}})},validate:(e,t,{direction:r})=>"lower"===r&&e===e.toLocaleLowerCase()||"upper"===r&&e===e.toLocaleUpperCase()?e:t.error("string.".concat(r,"case")),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(e,t){let r=e.length,s=0,n=1;for(;r--;){const t=e.charAt(r)*n;s+=t-9*(t>9),n^=3}return s>0&&s%10==0?e:t.error("string.creditCard")}},dataUri:{method(e={}){return d.assertOptions(e,["paddingRequired"]),e=n({paddingRequired:!0},e),a("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:e}})},validate(e,t,{options:r}){const s=e.match(p.dataUriRegex);if(s){if(!s[2])return e;if("base64"!==s[2])return e;if(p.base64Regex[r.paddingRequired].false.test(s[3]))return e}return t.error("string.dataUri")}},domain:{method(e){e&&d.assertOptions(e,["allowUnicode","minDomainSegments","tlds"]);const t=p.addressOptions(e);return this.$_addRule({name:"domain",args:{options:e},address:t})},validate:(e,t,r,{address:s})=>i.isValid(e,s)?e:t.error("string.domain")},email:{method(e={}){d.assertOptions(e,["allowUnicode","ignoreLength","minDomainSegments","multiple","separator","tlds"]),a(void 0===e.multiple||"boolean"==typeof e.multiple,"multiple option must be an boolean");const t=p.addressOptions(e),r=new RegExp("\\s*[".concat(e.separator?u(e.separator):",","]\\s*"));return this.$_addRule({name:"email",args:{options:e},regex:r,address:t})},validate(e,t,{options:r},{regex:s,address:n}){const o=r.multiple?e.split(s):[e],a=[];for(const e of o)l.isValid(e,n)||a.push(e);return a.length?t.error("string.email",{value:e,invalids:a}):e}},guid:{alias:"uuid",method(e={}){d.assertOptions(e,["version"]);let t="";if(e.version){const r=[].concat(e.version);a(r.length>=1,"version must have at least 1 valid version specified");const s=new Set;for(let e=0;e<r.length;++e){const n=r[e];a("string"==typeof n,"version at position "+e+" must be a string");const o=p.guidVersions[n.toLowerCase()];a(o,"version at position "+e+" must be one of "+Object.keys(p.guidVersions).join(", ")),a(!s.has(o),"version at position "+e+" must not be a duplicate"),t+=o,s.add(o)}}const r=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\2?[".concat(t||"0-9A-F","][0-9A-F]{3}\\2?[").concat(t?"89AB":"0-9A-F","][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$"),"i");return this.$_addRule({name:"guid",args:{options:e},regex:r})},validate(e,t,r,{regex:s}){const n=s.exec(e);return n?p.guidBrackets[n[1]]!==n[n.length-1]?t.error("string.guid"):e:t.error("string.guid")}},hex:{method(e={}){return d.assertOptions(e,["byteAligned"]),e=n({byteAligned:!1},e),a("boolean"==typeof e.byteAligned,"byteAligned must be boolean"),this.$_addRule({name:"hex",args:{options:e}})},validate:(e,t,{options:r})=>p.hexRegex.test(e)?r.byteAligned&&e.length%2!=0?t.error("string.hexAlign"):e:t.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(e,t)=>i.isValid(e,{minDomainSegments:1})||p.ipRegex.test(e)?e:t.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(e={}){d.assertOptions(e,["cidr","version"]);const{cidr:t,versions:r,regex:s}=c.regex(e),n=e.version?r:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:t,version:n}},regex:s})},validate:(e,t,{options:r},{regex:s})=>s.test(e)?e:r.version?t.error("string.ipVersion",{value:e,cidr:r.cidr,version:r.version}):t.error("string.ip",{value:e,cidr:r.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(e,{error:t})=>p.isoDate(e)?e:t("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(e,t)=>p.isoDurationRegex.test(e)?e:t.error("string.isoDuration")},length:{method(e,t){return p.length(this,"length",e,"=",t)},validate(e,t,{limit:r,encoding:s},{name:n,operator:o,args:a}){const i=!s&&e.length;return d.compare(i,r,o)?e:t.error("string."+n,{limit:a.limit,value:e,encoding:s})},args:[{name:"limit",ref:!0,assert:d.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(e,t){return p.length(this,"max",e,"<=",t)},args:["limit","encoding"]},min:{method(e,t){return p.length(this,"min",e,">=",t)},args:["limit","encoding"]},normalize:{method(e="NFC"){return a(p.normalizationForms.includes(e),"normalization form must be one of "+p.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:e}})},validate:(e,{error:t},{form:r})=>e===e.normalize(r)?e:t("string.normalize",{value:e,form:r}),convert:!0},pattern:{alias:"regex",method(e,t={}){a(e instanceof RegExp,"regex must be a RegExp"),a(!e.flags.includes("g")&&!e.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof t&&(t={name:t}),d.assertOptions(t,["invert","name"]);const r=["string.pattern",t.invert?".invert":"",t.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:e,options:t},errorCode:r})},validate:(e,t,{regex:r,options:s},{errorCode:n})=>r.test(e)^s.invert?e:t.error(n,{name:s.name,regex:r,value:e}),args:["regex","options"],multi:!0},replace:{method(e,t){"string"==typeof e&&(e=new RegExp(u(e),"g")),a(e instanceof RegExp,"pattern must be a RegExp"),a("string"==typeof t,"replacement must be a String");const r=this.clone();return r.$_terms.replacements||(r.$_terms.replacements=[]),r.$_terms.replacements.push({pattern:e,replacement:t}),r}},token:{method(){return this.$_addRule("token")},validate:(e,t)=>/^\w+$/.test(e)?e:t.error("string.token")},trim:{method(e=!0){return a("boolean"==typeof e,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:e}})},validate:(e,t,{enabled:r})=>r&&e!==e.trim()?t.error("string.trim"):e,convert:!0},truncate:{method(e=!0){return a("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("truncate",e)}},uppercase:{method(){return this.case("upper")}},uri:{method(e={}){d.assertOptions(e,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme"]),e.domain&&d.assertOptions(e.domain,["allowUnicode","minDomainSegments","tlds"]);const{regex:t,scheme:r}=m.regex(e),s=e.domain?p.addressOptions(e.domain):null;return this.$_addRule({name:"uri",args:{options:e},regex:t,domain:s,scheme:r})},validate(e,t,{options:r},{regex:s,domain:n,scheme:o}){if(["http:/","https:/"].includes(e))return t.error("string.uri");const a=s.exec(e);if(a){if(n){const e=a[1]||a[2];if(!i.isValid(e,n))return t.error("string.domain",{value:e})}return e}return r.relativeOnly?t.error("string.uriRelativeOnly"):r.scheme?t.error("string.uriCustomScheme",{scheme:o,value:e}):t.error("string.uri")}}},manifest:{build(e,t){if(t.replacements)for(const{pattern:r,replacement:s}of t.replacements)e=e.replace(r,s);return e}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":'{{#label}} with value "{[.]}" fails to match the required pattern: {{#regex}}',"string.pattern.name":'{{#label}} with value "{[.]}" fails to match the {{#name}} pattern',"string.pattern.invert.base":'{{#label}} with value "{[.]}" matches the inverted pattern: {{#regex}}',"string.pattern.invert.name":'{{#label}} with value "{[.]}" matches the inverted {{#name}} pattern',"string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),p.addressOptions=function(e){if(!e)return e;if(a(void 0===e.minDomainSegments||Number.isSafeInteger(e.minDomainSegments)&&e.minDomainSegments>0,"minDomainSegments must be a positive integer"),!1===e.tlds)return e;if(!0===e.tlds||void 0===e.tlds)return a(p.tlds,"Built-in TLD list disabled"),Object.assign({},e,p.tlds);a("object"==typeof e.tlds,"tlds must be true, false, or an object");const t=e.tlds.deny;if(t)return Array.isArray(t)&&(e=Object.assign({},e,{tlds:{deny:new Set(t)}})),a(e.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),a(!e.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),e;const r=e.tlds.allow;return r?!0===r?(a(p.tlds,"Built-in TLD list disabled"),Object.assign({},e,p.tlds)):(Array.isArray(r)&&(e=Object.assign({},e,{tlds:{allow:new Set(r)}})),a(e.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),e):e},p.isoDate=function(e){if(!d.isIsoDate(e))return null;const t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()},p.length=function(e,t,r,s,n){return a(!n||!1,"Invalid encoding:",n),e.$_addRule({name:t,method:"length",args:{limit:r,encoding:n},operator:s})}},function(e,t,r){"use strict";const s=r(24),n=r(23),o=r(25),a={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(s.TextEncoder||TextEncoder)};t.analyze=function(e,t){return a.email(e,t)},t.isValid=function(e,t){return!a.email(e,t)},a.email=function(e,t={}){if("string"!=typeof e)throw new Error("Invalid input: email must be a string");if(!e)return o.code("EMPTY_STRING");const r=!a.nonAsciiRx.test(e);if(!r){if(!1===t.allowUnicode)return o.code("FORBIDDEN_UNICODE");e=e.normalize("NFC")}const s=e.split("@");if(2!==s.length)return s.length>2?o.code("MULTIPLE_AT_CHAR"):o.code("MISSING_AT_CHAR");const[i,l]=s;if(!i)return o.code("EMPTY_LOCAL");if(!t.ignoreLength){if(e.length>254)return o.code("ADDRESS_TOO_LONG");if(a.encoder.encode(i).length>64)return o.code("LOCAL_TOO_LONG")}return a.local(i,r)||n.analyze(l,t)},a.local=function(e,t){const r=e.split(".");for(const e of r){if(!e.length)return o.code("EMPTY_LOCAL_SEGMENT");if(t){if(!a.atextRx.test(e))return o.code("INVALID_LOCAL_CHARS")}else for(const t of e){if(a.atextRx.test(t))continue;const e=a.binary(t);if(!a.atomRx.test(e))return o.code("INVALID_LOCAL_CHARS")}}},a.binary=function(e){return Array.from(a.encoder.encode(e)).map(e=>String.fromCharCode(e)).join("")},a.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,a.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},function(e,t,r){"use strict";const s=r(0),n=r(26);t.regex=function(e={}){s(void 0===e.cidr||"string"==typeof e.cidr,"options.cidr must be a string");const t=e.cidr?e.cidr.toLowerCase():"optional";s(["required","optional","forbidden"].includes(t),"options.cidr must be one of required, optional, forbidden"),s(void 0===e.version||"string"==typeof e.version||Array.isArray(e.version),"options.version must be a string or an array of string");let r=e.version||["ipv4","ipv6","ipvfuture"];Array.isArray(r)||(r=[r]),s(r.length>=1,"options.version must have at least 1 version specified");for(let e=0;e<r.length;++e)s("string"==typeof r[e],"options.version must only contain strings"),r[e]=r[e].toLowerCase(),s(["ipv4","ipv6","ipvfuture"].includes(r[e]),"options.version contains unknown version "+r[e]+" - must be one of ipv4, ipv6, ipvfuture");r=Array.from(new Set(r));const o=r.map(e=>{if("forbidden"===t)return n.ip[e];const r="\\/".concat("ipv4"===e?n.ip.v4Cidr:n.ip.v6Cidr);return"required"===t?"".concat(n.ip[e]).concat(r):"".concat(n.ip[e],"(?:").concat(r,")?")}),a="(?:".concat(o.join("|"),")"),i=new RegExp("^".concat(a,"$"));return{cidr:t,versions:r,regex:i,raw:a}}},function(e,t){},function(e,t,r){"use strict";const s=r(0),n=r(3),o={};o.Map=class extends Map{slice(){return new o.Map(this)}},e.exports=n.extend({type:"symbol",terms:{map:{init:new o.Map}},coerce:{method(e,{schema:t,error:r}){const s=t.$_terms.map.get(e);return s&&(e=s),t._flags.only&&"symbol"!=typeof e?{value:e,errors:r("symbol.map",{map:t.$_terms.map})}:{value:e}}},validate(e,{error:t}){if("symbol"!=typeof e)return{value:e,errors:t("symbol.base")}},rules:{map:{method(e){e&&!e[Symbol.iterator]&&"object"==typeof e&&(e=Object.entries(e)),s(e&&e[Symbol.iterator],"Iterable must be an iterable or object");const t=this.clone(),r=[];for(const n of e){s(n&&n[Symbol.iterator],"Entry must be an iterable");const[e,o]=n;s("object"!=typeof e&&"function"!=typeof e&&"symbol"!=typeof e,"Key must not be of type object, function, or Symbol"),s("symbol"==typeof o,"Value must be a Symbol"),t.$_terms.map.set(e,o),r.push(o)}return t.valid(...r)}}},manifest:{build:(e,t)=>(t.map&&(e=e.map(t.map)),e)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})}])}));

/***/ }),

/***/ "./node_modules/marked/lib/marked.js":
/*!*******************************************!*\
  !*** ./node_modules/marked/lib/marked.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
 * marked - a markdown parser
 * Copyright (c) 2011-2020, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/markedjs/marked
 */

/**
 * DO NOT EDIT THIS FILE
 * The code in this file is generated from files in ./src/
 */

(function (global, factory) {
   true ? module.exports = factory() :
  undefined;
}(this, (function () { 'use strict';

  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    return Constructor;
  }

  function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
  }

  function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;

    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];

    return arr2;
  }

  function _createForOfIteratorHelperLoose(o) {
    var i = 0;

    if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) {
      if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) return function () {
        if (i >= o.length) return {
          done: true
        };
        return {
          done: false,
          value: o[i++]
        };
      };
      throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }

    i = o[Symbol.iterator]();
    return i.next.bind(i);
  }

  function createCommonjsModule(fn, module) {
  	return module = { exports: {} }, fn(module, module.exports), module.exports;
  }

  var defaults = createCommonjsModule(function (module) {
    function getDefaults() {
      return {
        baseUrl: null,
        breaks: false,
        gfm: true,
        headerIds: true,
        headerPrefix: '',
        highlight: null,
        langPrefix: 'language-',
        mangle: true,
        pedantic: false,
        renderer: null,
        sanitize: false,
        sanitizer: null,
        silent: false,
        smartLists: false,
        smartypants: false,
        tokenizer: null,
        walkTokens: null,
        xhtml: false
      };
    }

    function changeDefaults(newDefaults) {
      module.exports.defaults = newDefaults;
    }

    module.exports = {
      defaults: getDefaults(),
      getDefaults: getDefaults,
      changeDefaults: changeDefaults
    };
  });
  var defaults_1 = defaults.defaults;
  var defaults_2 = defaults.getDefaults;
  var defaults_3 = defaults.changeDefaults;

  /**
   * Helpers
   */
  var escapeTest = /[&<>"']/;
  var escapeReplace = /[&<>"']/g;
  var escapeTestNoEncode = /[<>"']|&(?!#?\w+;)/;
  var escapeReplaceNoEncode = /[<>"']|&(?!#?\w+;)/g;
  var escapeReplacements = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    "'": '&#39;'
  };

  var getEscapeReplacement = function getEscapeReplacement(ch) {
    return escapeReplacements[ch];
  };

  function escape(html, encode) {
    if (encode) {
      if (escapeTest.test(html)) {
        return html.replace(escapeReplace, getEscapeReplacement);
      }
    } else {
      if (escapeTestNoEncode.test(html)) {
        return html.replace(escapeReplaceNoEncode, getEscapeReplacement);
      }
    }

    return html;
  }

  var unescapeTest = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;

  function unescape(html) {
    // explicitly match decimal, hex, and named HTML entities
    return html.replace(unescapeTest, function (_, n) {
      n = n.toLowerCase();
      if (n === 'colon') return ':';

      if (n.charAt(0) === '#') {
        return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));
      }

      return '';
    });
  }

  var caret = /(^|[^\[])\^/g;

  function edit(regex, opt) {
    regex = regex.source || regex;
    opt = opt || '';
    var obj = {
      replace: function replace(name, val) {
        val = val.source || val;
        val = val.replace(caret, '$1');
        regex = regex.replace(name, val);
        return obj;
      },
      getRegex: function getRegex() {
        return new RegExp(regex, opt);
      }
    };
    return obj;
  }

  var nonWordAndColonTest = /[^\w:]/g;
  var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;

  function cleanUrl(sanitize, base, href) {
    if (sanitize) {
      var prot;

      try {
        prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();
      } catch (e) {
        return null;
      }

      if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {
        return null;
      }
    }

    if (base && !originIndependentUrl.test(href)) {
      href = resolveUrl(base, href);
    }

    try {
      href = encodeURI(href).replace(/%25/g, '%');
    } catch (e) {
      return null;
    }

    return href;
  }

  var baseUrls = {};
  var justDomain = /^[^:]+:\/*[^/]*$/;
  var protocol = /^([^:]+:)[\s\S]*$/;
  var domain = /^([^:]+:\/*[^/]*)[\s\S]*$/;

  function resolveUrl(base, href) {
    if (!baseUrls[' ' + base]) {
      // we can ignore everything in base after the last slash of its path component,
      // but we might need to add _that_
      // https://tools.ietf.org/html/rfc3986#section-3
      if (justDomain.test(base)) {
        baseUrls[' ' + base] = base + '/';
      } else {
        baseUrls[' ' + base] = rtrim(base, '/', true);
      }
    }

    base = baseUrls[' ' + base];
    var relativeBase = base.indexOf(':') === -1;

    if (href.substring(0, 2) === '//') {
      if (relativeBase) {
        return href;
      }

      return base.replace(protocol, '$1') + href;
    } else if (href.charAt(0) === '/') {
      if (relativeBase) {
        return href;
      }

      return base.replace(domain, '$1') + href;
    } else {
      return base + href;
    }
  }

  var noopTest = {
    exec: function noopTest() {}
  };

  function merge(obj) {
    var i = 1,
        target,
        key;

    for (; i < arguments.length; i++) {
      target = arguments[i];

      for (key in target) {
        if (Object.prototype.hasOwnProperty.call(target, key)) {
          obj[key] = target[key];
        }
      }
    }

    return obj;
  }

  function splitCells(tableRow, count) {
    // ensure that every cell-delimiting pipe has a space
    // before it to distinguish it from an escaped pipe
    var row = tableRow.replace(/\|/g, function (match, offset, str) {
      var escaped = false,
          curr = offset;

      while (--curr >= 0 && str[curr] === '\\') {
        escaped = !escaped;
      }

      if (escaped) {
        // odd number of slashes means | is escaped
        // so we leave it alone
        return '|';
      } else {
        // add space before unescaped |
        return ' |';
      }
    }),
        cells = row.split(/ \|/);
    var i = 0;

    if (cells.length > count) {
      cells.splice(count);
    } else {
      while (cells.length < count) {
        cells.push('');
      }
    }

    for (; i < cells.length; i++) {
      // leading or trailing whitespace is ignored per the gfm spec
      cells[i] = cells[i].trim().replace(/\\\|/g, '|');
    }

    return cells;
  } // Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').
  // /c*$/ is vulnerable to REDOS.
  // invert: Remove suffix of non-c chars instead. Default falsey.


  function rtrim(str, c, invert) {
    var l = str.length;

    if (l === 0) {
      return '';
    } // Length of suffix matching the invert condition.


    var suffLen = 0; // Step left until we fail to match the invert condition.

    while (suffLen < l) {
      var currChar = str.charAt(l - suffLen - 1);

      if (currChar === c && !invert) {
        suffLen++;
      } else if (currChar !== c && invert) {
        suffLen++;
      } else {
        break;
      }
    }

    return str.substr(0, l - suffLen);
  }

  function findClosingBracket(str, b) {
    if (str.indexOf(b[1]) === -1) {
      return -1;
    }

    var l = str.length;
    var level = 0,
        i = 0;

    for (; i < l; i++) {
      if (str[i] === '\\') {
        i++;
      } else if (str[i] === b[0]) {
        level++;
      } else if (str[i] === b[1]) {
        level--;

        if (level < 0) {
          return i;
        }
      }
    }

    return -1;
  }

  function checkSanitizeDeprecation(opt) {
    if (opt && opt.sanitize && !opt.silent) {
      console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');
    }
  }

  var helpers = {
    escape: escape,
    unescape: unescape,
    edit: edit,
    cleanUrl: cleanUrl,
    resolveUrl: resolveUrl,
    noopTest: noopTest,
    merge: merge,
    splitCells: splitCells,
    rtrim: rtrim,
    findClosingBracket: findClosingBracket,
    checkSanitizeDeprecation: checkSanitizeDeprecation
  };

  var defaults$1 = defaults.defaults;
  var rtrim$1 = helpers.rtrim,
      splitCells$1 = helpers.splitCells,
      _escape = helpers.escape,
      findClosingBracket$1 = helpers.findClosingBracket;

  function outputLink(cap, link, raw) {
    var href = link.href;
    var title = link.title ? _escape(link.title) : null;

    if (cap[0].charAt(0) !== '!') {
      return {
        type: 'link',
        raw: raw,
        href: href,
        title: title,
        text: cap[1]
      };
    } else {
      return {
        type: 'image',
        raw: raw,
        text: _escape(cap[1]),
        href: href,
        title: title
      };
    }
  }

  function indentCodeCompensation(raw, text) {
    var matchIndentToCode = raw.match(/^(\s+)(?:```)/);

    if (matchIndentToCode === null) {
      return text;
    }

    var indentToCode = matchIndentToCode[1];
    return text.split('\n').map(function (node) {
      var matchIndentInNode = node.match(/^\s+/);

      if (matchIndentInNode === null) {
        return node;
      }

      var indentInNode = matchIndentInNode[0];

      if (indentInNode.length >= indentToCode.length) {
        return node.slice(indentToCode.length);
      }

      return node;
    }).join('\n');
  }
  /**
   * Tokenizer
   */


  var Tokenizer_1 = /*#__PURE__*/function () {
    function Tokenizer(options) {
      this.options = options || defaults$1;
    }

    var _proto = Tokenizer.prototype;

    _proto.space = function space(src) {
      var cap = this.rules.block.newline.exec(src);

      if (cap) {
        if (cap[0].length > 1) {
          return {
            type: 'space',
            raw: cap[0]
          };
        }

        return {
          raw: '\n'
        };
      }
    };

    _proto.code = function code(src, tokens) {
      var cap = this.rules.block.code.exec(src);

      if (cap) {
        var lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.

        if (lastToken && lastToken.type === 'paragraph') {
          return {
            raw: cap[0],
            text: cap[0].trimRight()
          };
        }

        var text = cap[0].replace(/^ {4}/gm, '');
        return {
          type: 'code',
          raw: cap[0],
          codeBlockStyle: 'indented',
          text: !this.options.pedantic ? rtrim$1(text, '\n') : text
        };
      }
    };

    _proto.fences = function fences(src) {
      var cap = this.rules.block.fences.exec(src);

      if (cap) {
        var raw = cap[0];
        var text = indentCodeCompensation(raw, cap[3] || '');
        return {
          type: 'code',
          raw: raw,
          lang: cap[2] ? cap[2].trim() : cap[2],
          text: text
        };
      }
    };

    _proto.heading = function heading(src) {
      var cap = this.rules.block.heading.exec(src);

      if (cap) {
        return {
          type: 'heading',
          raw: cap[0],
          depth: cap[1].length,
          text: cap[2]
        };
      }
    };

    _proto.nptable = function nptable(src) {
      var cap = this.rules.block.nptable.exec(src);

      if (cap) {
        var item = {
          type: 'table',
          header: splitCells$1(cap[1].replace(/^ *| *\| *$/g, '')),
          align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
          cells: cap[3] ? cap[3].replace(/\n$/, '').split('\n') : [],
          raw: cap[0]
        };

        if (item.header.length === item.align.length) {
          var l = item.align.length;
          var i;

          for (i = 0; i < l; i++) {
            if (/^ *-+: *$/.test(item.align[i])) {
              item.align[i] = 'right';
            } else if (/^ *:-+: *$/.test(item.align[i])) {
              item.align[i] = 'center';
            } else if (/^ *:-+ *$/.test(item.align[i])) {
              item.align[i] = 'left';
            } else {
              item.align[i] = null;
            }
          }

          l = item.cells.length;

          for (i = 0; i < l; i++) {
            item.cells[i] = splitCells$1(item.cells[i], item.header.length);
          }

          return item;
        }
      }
    };

    _proto.hr = function hr(src) {
      var cap = this.rules.block.hr.exec(src);

      if (cap) {
        return {
          type: 'hr',
          raw: cap[0]
        };
      }
    };

    _proto.blockquote = function blockquote(src) {
      var cap = this.rules.block.blockquote.exec(src);

      if (cap) {
        var text = cap[0].replace(/^ *> ?/gm, '');
        return {
          type: 'blockquote',
          raw: cap[0],
          text: text
        };
      }
    };

    _proto.list = function list(src) {
      var cap = this.rules.block.list.exec(src);

      if (cap) {
        var raw = cap[0];
        var bull = cap[2];
        var isordered = bull.length > 1;
        var list = {
          type: 'list',
          raw: raw,
          ordered: isordered,
          start: isordered ? +bull : '',
          loose: false,
          items: []
        }; // Get each top-level item.

        var itemMatch = cap[0].match(this.rules.block.item);
        var next = false,
            item,
            space,
            b,
            addBack,
            loose,
            istask,
            ischecked;
        var l = itemMatch.length;

        for (var i = 0; i < l; i++) {
          item = itemMatch[i];
          raw = item; // Remove the list item's bullet
          // so it is seen as the next token.

          space = item.length;
          item = item.replace(/^ *([*+-]|\d+\.) */, ''); // Outdent whatever the
          // list item contains. Hacky.

          if (~item.indexOf('\n ')) {
            space -= item.length;
            item = !this.options.pedantic ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '') : item.replace(/^ {1,4}/gm, '');
          } // Determine whether the next list item belongs here.
          // Backpedal if it does not belong in this list.


          if (i !== l - 1) {
            b = this.rules.block.bullet.exec(itemMatch[i + 1])[0];

            if (bull.length > 1 ? b.length === 1 : b.length > 1 || this.options.smartLists && b !== bull) {
              addBack = itemMatch.slice(i + 1).join('\n');
              list.raw = list.raw.substring(0, list.raw.length - addBack.length);
              i = l - 1;
            }
          } // Determine whether item is loose or not.
          // Use: /(^|\n)(?! )[^\n]+\n\n(?!\s*$)/
          // for discount behavior.


          loose = next || /\n\n(?!\s*$)/.test(item);

          if (i !== l - 1) {
            next = item.charAt(item.length - 1) === '\n';
            if (!loose) loose = next;
          }

          if (loose) {
            list.loose = true;
          } // Check for task list items


          istask = /^\[[ xX]\] /.test(item);
          ischecked = undefined;

          if (istask) {
            ischecked = item[1] !== ' ';
            item = item.replace(/^\[[ xX]\] +/, '');
          }

          list.items.push({
            type: 'list_item',
            raw: raw,
            task: istask,
            checked: ischecked,
            loose: loose,
            text: item
          });
        }

        return list;
      }
    };

    _proto.html = function html(src) {
      var cap = this.rules.block.html.exec(src);

      if (cap) {
        return {
          type: this.options.sanitize ? 'paragraph' : 'html',
          raw: cap[0],
          pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),
          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]
        };
      }
    };

    _proto.def = function def(src) {
      var cap = this.rules.block.def.exec(src);

      if (cap) {
        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);
        var tag = cap[1].toLowerCase().replace(/\s+/g, ' ');
        return {
          tag: tag,
          raw: cap[0],
          href: cap[2],
          title: cap[3]
        };
      }
    };

    _proto.table = function table(src) {
      var cap = this.rules.block.table.exec(src);

      if (cap) {
        var item = {
          type: 'table',
          header: splitCells$1(cap[1].replace(/^ *| *\| *$/g, '')),
          align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
          cells: cap[3] ? cap[3].replace(/\n$/, '').split('\n') : []
        };

        if (item.header.length === item.align.length) {
          item.raw = cap[0];
          var l = item.align.length;
          var i;

          for (i = 0; i < l; i++) {
            if (/^ *-+: *$/.test(item.align[i])) {
              item.align[i] = 'right';
            } else if (/^ *:-+: *$/.test(item.align[i])) {
              item.align[i] = 'center';
            } else if (/^ *:-+ *$/.test(item.align[i])) {
              item.align[i] = 'left';
            } else {
              item.align[i] = null;
            }
          }

          l = item.cells.length;

          for (i = 0; i < l; i++) {
            item.cells[i] = splitCells$1(item.cells[i].replace(/^ *\| *| *\| *$/g, ''), item.header.length);
          }

          return item;
        }
      }
    };

    _proto.lheading = function lheading(src) {
      var cap = this.rules.block.lheading.exec(src);

      if (cap) {
        return {
          type: 'heading',
          raw: cap[0],
          depth: cap[2].charAt(0) === '=' ? 1 : 2,
          text: cap[1]
        };
      }
    };

    _proto.paragraph = function paragraph(src) {
      var cap = this.rules.block.paragraph.exec(src);

      if (cap) {
        return {
          type: 'paragraph',
          raw: cap[0],
          text: cap[1].charAt(cap[1].length - 1) === '\n' ? cap[1].slice(0, -1) : cap[1]
        };
      }
    };

    _proto.text = function text(src, tokens) {
      var cap = this.rules.block.text.exec(src);

      if (cap) {
        var lastToken = tokens[tokens.length - 1];

        if (lastToken && lastToken.type === 'text') {
          return {
            raw: cap[0],
            text: cap[0]
          };
        }

        return {
          type: 'text',
          raw: cap[0],
          text: cap[0]
        };
      }
    };

    _proto.escape = function escape(src) {
      var cap = this.rules.inline.escape.exec(src);

      if (cap) {
        return {
          type: 'escape',
          raw: cap[0],
          text: _escape(cap[1])
        };
      }
    };

    _proto.tag = function tag(src, inLink, inRawBlock) {
      var cap = this.rules.inline.tag.exec(src);

      if (cap) {
        if (!inLink && /^<a /i.test(cap[0])) {
          inLink = true;
        } else if (inLink && /^<\/a>/i.test(cap[0])) {
          inLink = false;
        }

        if (!inRawBlock && /^<(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
          inRawBlock = true;
        } else if (inRawBlock && /^<\/(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
          inRawBlock = false;
        }

        return {
          type: this.options.sanitize ? 'text' : 'html',
          raw: cap[0],
          inLink: inLink,
          inRawBlock: inRawBlock,
          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]
        };
      }
    };

    _proto.link = function link(src) {
      var cap = this.rules.inline.link.exec(src);

      if (cap) {
        var lastParenIndex = findClosingBracket$1(cap[2], '()');

        if (lastParenIndex > -1) {
          var start = cap[0].indexOf('!') === 0 ? 5 : 4;
          var linkLen = start + cap[1].length + lastParenIndex;
          cap[2] = cap[2].substring(0, lastParenIndex);
          cap[0] = cap[0].substring(0, linkLen).trim();
          cap[3] = '';
        }

        var href = cap[2];
        var title = '';

        if (this.options.pedantic) {
          var link = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(href);

          if (link) {
            href = link[1];
            title = link[3];
          } else {
            title = '';
          }
        } else {
          title = cap[3] ? cap[3].slice(1, -1) : '';
        }

        href = href.trim().replace(/^<([\s\S]*)>$/, '$1');
        var token = outputLink(cap, {
          href: href ? href.replace(this.rules.inline._escapes, '$1') : href,
          title: title ? title.replace(this.rules.inline._escapes, '$1') : title
        }, cap[0]);
        return token;
      }
    };

    _proto.reflink = function reflink(src, links) {
      var cap;

      if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {
        var link = (cap[2] || cap[1]).replace(/\s+/g, ' ');
        link = links[link.toLowerCase()];

        if (!link || !link.href) {
          var text = cap[0].charAt(0);
          return {
            type: 'text',
            raw: text,
            text: text
          };
        }

        var token = outputLink(cap, link, cap[0]);
        return token;
      }
    };

    _proto.strong = function strong(src) {
      var cap = this.rules.inline.strong.exec(src);

      if (cap) {
        return {
          type: 'strong',
          raw: cap[0],
          text: cap[4] || cap[3] || cap[2] || cap[1]
        };
      }
    };

    _proto.em = function em(src) {
      var cap = this.rules.inline.em.exec(src);

      if (cap) {
        return {
          type: 'em',
          raw: cap[0],
          text: cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]
        };
      }
    };

    _proto.codespan = function codespan(src) {
      var cap = this.rules.inline.code.exec(src);

      if (cap) {
        var text = cap[2].replace(/\n/g, ' ');
        var hasNonSpaceChars = /[^ ]/.test(text);
        var hasSpaceCharsOnBothEnds = text.startsWith(' ') && text.endsWith(' ');

        if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {
          text = text.substring(1, text.length - 1);
        }

        text = _escape(text, true);
        return {
          type: 'codespan',
          raw: cap[0],
          text: text
        };
      }
    };

    _proto.br = function br(src) {
      var cap = this.rules.inline.br.exec(src);

      if (cap) {
        return {
          type: 'br',
          raw: cap[0]
        };
      }
    };

    _proto.del = function del(src) {
      var cap = this.rules.inline.del.exec(src);

      if (cap) {
        return {
          type: 'del',
          raw: cap[0],
          text: cap[1]
        };
      }
    };

    _proto.autolink = function autolink(src, mangle) {
      var cap = this.rules.inline.autolink.exec(src);

      if (cap) {
        var text, href;

        if (cap[2] === '@') {
          text = _escape(this.options.mangle ? mangle(cap[1]) : cap[1]);
          href = 'mailto:' + text;
        } else {
          text = _escape(cap[1]);
          href = text;
        }

        return {
          type: 'link',
          raw: cap[0],
          text: text,
          href: href,
          tokens: [{
            type: 'text',
            raw: text,
            text: text
          }]
        };
      }
    };

    _proto.url = function url(src, mangle) {
      var cap;

      if (cap = this.rules.inline.url.exec(src)) {
        var text, href;

        if (cap[2] === '@') {
          text = _escape(this.options.mangle ? mangle(cap[0]) : cap[0]);
          href = 'mailto:' + text;
        } else {
          // do extended autolink path validation
          var prevCapZero;

          do {
            prevCapZero = cap[0];
            cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];
          } while (prevCapZero !== cap[0]);

          text = _escape(cap[0]);

          if (cap[1] === 'www.') {
            href = 'http://' + text;
          } else {
            href = text;
          }
        }

        return {
          type: 'link',
          raw: cap[0],
          text: text,
          href: href,
          tokens: [{
            type: 'text',
            raw: text,
            text: text
          }]
        };
      }
    };

    _proto.inlineText = function inlineText(src, inRawBlock, smartypants) {
      var cap = this.rules.inline.text.exec(src);

      if (cap) {
        var text;

        if (inRawBlock) {
          text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0];
        } else {
          text = _escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);
        }

        return {
          type: 'text',
          raw: cap[0],
          text: text
        };
      }
    };

    return Tokenizer;
  }();

  var noopTest$1 = helpers.noopTest,
      edit$1 = helpers.edit,
      merge$1 = helpers.merge;
  /**
   * Block-Level Grammar
   */

  var block = {
    newline: /^\n+/,
    code: /^( {4}[^\n]+\n*)+/,
    fences: /^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,
    hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,
    heading: /^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,
    blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
    list: /^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
    html: '^ {0,3}(?:' // optional indentation
    + '<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)' // (1)
    + '|comment[^\\n]*(\\n+|$)' // (2)
    + '|<\\?[\\s\\S]*?\\?>\\n*' // (3)
    + '|<![A-Z][\\s\\S]*?>\\n*' // (4)
    + '|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*' // (5)
    + '|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)' // (6)
    + '|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)' // (7) open tag
    + '|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)' // (7) closing tag
    + ')',
    def: /^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,
    nptable: noopTest$1,
    table: noopTest$1,
    lheading: /^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,
    // regex template, placeholders will be replaced according to different paragraph
    // interruption rules of commonmark and the original markdown spec:
    _paragraph: /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,
    text: /^[^\n]+/
  };
  block._label = /(?!\s*\])(?:\\[\[\]]|[^\[\]])+/;
  block._title = /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;
  block.def = edit$1(block.def).replace('label', block._label).replace('title', block._title).getRegex();
  block.bullet = /(?:[*+-]|\d{1,9}\.)/;
  block.item = /^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/;
  block.item = edit$1(block.item, 'gm').replace(/bull/g, block.bullet).getRegex();
  block.list = edit$1(block.list).replace(/bull/g, block.bullet).replace('hr', '\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))').replace('def', '\\n+(?=' + block.def.source + ')').getRegex();
  block._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';
  block._comment = /<!--(?!-?>)[\s\S]*?-->/;
  block.html = edit$1(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();
  block.paragraph = edit$1(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs
  .replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
  .replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks
  .getRegex();
  block.blockquote = edit$1(block.blockquote).replace('paragraph', block.paragraph).getRegex();
  /**
   * Normal Block Grammar
   */

  block.normal = merge$1({}, block);
  /**
   * GFM Block Grammar
   */

  block.gfm = merge$1({}, block.normal, {
    nptable: '^ *([^|\\n ].*\\|.*)\\n' // Header
    + ' *([-:]+ *\\|[-| :]*)' // Align
    + '(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)',
    // Cells
    table: '^ *\\|(.+)\\n' // Header
    + ' *\\|?( *[-:]+[-| :]*)' // Align
    + '(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)' // Cells

  });
  block.gfm.nptable = edit$1(block.gfm.nptable).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
  .replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks
  .getRegex();
  block.gfm.table = edit$1(block.gfm.table).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
  .replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks
  .getRegex();
  /**
   * Pedantic grammar (original John Gruber's loose markdown specification)
   */

  block.pedantic = merge$1({}, block.normal, {
    html: edit$1('^ *(?:comment *(?:\\n|\\s*$)' + '|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)' // closed tag
    + '|<tag(?:"[^"]*"|\'[^\']*\'|\\s[^\'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\b)\\w+(?!:|[^\\w\\s@]*@)\\b').getRegex(),
    def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,
    heading: /^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,
    fences: noopTest$1,
    // fences not supported
    paragraph: edit$1(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()
  });
  /**
   * Inline-Level Grammar
   */

  var inline = {
    escape: /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,
    autolink: /^<(scheme:[^\s\x00-\x1f<>]*|email)>/,
    url: noopTest$1,
    tag: '^comment' + '|^</[a-zA-Z][\\w:-]*\\s*>' // self-closing tag
    + '|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>' // open tag
    + '|^<\\?[\\s\\S]*?\\?>' // processing instruction, e.g. <?php ?>
    + '|^<![a-zA-Z]+\\s[\\s\\S]*?>' // declaration, e.g. <!DOCTYPE html>
    + '|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>',
    // CDATA section
    link: /^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,
    reflink: /^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,
    nolink: /^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
    strong: /^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,
    em: /^_([^\s_])_(?!_)|^_([^\s_<][\s\S]*?[^\s_])_(?!_|[^\s,punctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\s,punctuation])|^\*([^\s*<\[])\*(?!\*)|^\*([^\s<"][\s\S]*?[^\s\[\*])\*(?![\]`punctuation])|^\*([^\s*"<\[][\s\S]*[^\s])\*(?!\*)/,
    code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
    br: /^( {2,}|\\)\n(?!\s*$)/,
    del: noopTest$1,
    text: /^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/
  }; // list of punctuation marks from common mark spec
  // without ` and ] to workaround Rule 17 (inline code blocks/links)
  // without , to work around example 393

  inline._punctuation = '!"#$%&\'()*+\\-./:;<=>?@\\[^_{|}~';
  inline.em = edit$1(inline.em).replace(/punctuation/g, inline._punctuation).getRegex();
  inline._escapes = /\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;
  inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;
  inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
  inline.autolink = edit$1(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();
  inline._attribute = /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;
  inline.tag = edit$1(inline.tag).replace('comment', block._comment).replace('attribute', inline._attribute).getRegex();
  inline._label = /(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
  inline._href = /<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/;
  inline._title = /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;
  inline.link = edit$1(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();
  inline.reflink = edit$1(inline.reflink).replace('label', inline._label).getRegex();
  /**
   * Normal Inline Grammar
   */

  inline.normal = merge$1({}, inline);
  /**
   * Pedantic Inline Grammar
   */

  inline.pedantic = merge$1({}, inline.normal, {
    strong: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
    em: /^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,
    link: edit$1(/^!?\[(label)\]\((.*?)\)/).replace('label', inline._label).getRegex(),
    reflink: edit$1(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace('label', inline._label).getRegex()
  });
  /**
   * GFM Inline Grammar
   */

  inline.gfm = merge$1({}, inline.normal, {
    escape: edit$1(inline.escape).replace('])', '~|])').getRegex(),
    _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,
    url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
    _backpedal: /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
    del: /^~+(?=\S)([\s\S]*?\S)~+/,
    text: /^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/
  });
  inline.gfm.url = edit$1(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();
  /**
   * GFM + Line Breaks Inline Grammar
   */

  inline.breaks = merge$1({}, inline.gfm, {
    br: edit$1(inline.br).replace('{2,}', '*').getRegex(),
    text: edit$1(inline.gfm.text).replace('\\b_', '\\b_| {2,}\\n').replace(/\{2,\}/g, '*').getRegex()
  });
  var rules = {
    block: block,
    inline: inline
  };

  var defaults$2 = defaults.defaults;
  var block$1 = rules.block,
      inline$1 = rules.inline;
  /**
   * smartypants text replacement
   */

  function smartypants(text) {
    return text // em-dashes
    .replace(/---/g, "\u2014") // en-dashes
    .replace(/--/g, "\u2013") // opening singles
    .replace(/(^|[-\u2014/(\[{"\s])'/g, "$1\u2018") // closing singles & apostrophes
    .replace(/'/g, "\u2019") // opening doubles
    .replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1\u201C") // closing doubles
    .replace(/"/g, "\u201D") // ellipses
    .replace(/\.{3}/g, "\u2026");
  }
  /**
   * mangle email addresses
   */


  function mangle(text) {
    var out = '',
        i,
        ch;
    var l = text.length;

    for (i = 0; i < l; i++) {
      ch = text.charCodeAt(i);

      if (Math.random() > 0.5) {
        ch = 'x' + ch.toString(16);
      }

      out += '&#' + ch + ';';
    }

    return out;
  }
  /**
   * Block Lexer
   */


  var Lexer_1 = /*#__PURE__*/function () {
    function Lexer(options) {
      this.tokens = [];
      this.tokens.links = Object.create(null);
      this.options = options || defaults$2;
      this.options.tokenizer = this.options.tokenizer || new Tokenizer_1();
      this.tokenizer = this.options.tokenizer;
      this.tokenizer.options = this.options;
      var rules = {
        block: block$1.normal,
        inline: inline$1.normal
      };

      if (this.options.pedantic) {
        rules.block = block$1.pedantic;
        rules.inline = inline$1.pedantic;
      } else if (this.options.gfm) {
        rules.block = block$1.gfm;

        if (this.options.breaks) {
          rules.inline = inline$1.breaks;
        } else {
          rules.inline = inline$1.gfm;
        }
      }

      this.tokenizer.rules = rules;
    }
    /**
     * Expose Rules
     */


    /**
     * Static Lex Method
     */
    Lexer.lex = function lex(src, options) {
      var lexer = new Lexer(options);
      return lexer.lex(src);
    }
    /**
     * Preprocessing
     */
    ;

    var _proto = Lexer.prototype;

    _proto.lex = function lex(src) {
      src = src.replace(/\r\n|\r/g, '\n').replace(/\t/g, '    ');
      this.blockTokens(src, this.tokens, true);
      this.inline(this.tokens);
      return this.tokens;
    }
    /**
     * Lexing
     */
    ;

    _proto.blockTokens = function blockTokens(src, tokens, top) {
      if (tokens === void 0) {
        tokens = [];
      }

      if (top === void 0) {
        top = true;
      }

      src = src.replace(/^ +$/gm, '');
      var token, i, l, lastToken;

      while (src) {
        // newline
        if (token = this.tokenizer.space(src)) {
          src = src.substring(token.raw.length);

          if (token.type) {
            tokens.push(token);
          }

          continue;
        } // code


        if (token = this.tokenizer.code(src, tokens)) {
          src = src.substring(token.raw.length);

          if (token.type) {
            tokens.push(token);
          } else {
            lastToken = tokens[tokens.length - 1];
            lastToken.raw += '\n' + token.raw;
            lastToken.text += '\n' + token.text;
          }

          continue;
        } // fences


        if (token = this.tokenizer.fences(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // heading


        if (token = this.tokenizer.heading(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // table no leading pipe (gfm)


        if (token = this.tokenizer.nptable(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // hr


        if (token = this.tokenizer.hr(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // blockquote


        if (token = this.tokenizer.blockquote(src)) {
          src = src.substring(token.raw.length);
          token.tokens = this.blockTokens(token.text, [], top);
          tokens.push(token);
          continue;
        } // list


        if (token = this.tokenizer.list(src)) {
          src = src.substring(token.raw.length);
          l = token.items.length;

          for (i = 0; i < l; i++) {
            token.items[i].tokens = this.blockTokens(token.items[i].text, [], false);
          }

          tokens.push(token);
          continue;
        } // html


        if (token = this.tokenizer.html(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // def


        if (top && (token = this.tokenizer.def(src))) {
          src = src.substring(token.raw.length);

          if (!this.tokens.links[token.tag]) {
            this.tokens.links[token.tag] = {
              href: token.href,
              title: token.title
            };
          }

          continue;
        } // table (gfm)


        if (token = this.tokenizer.table(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // lheading


        if (token = this.tokenizer.lheading(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // top-level paragraph


        if (top && (token = this.tokenizer.paragraph(src))) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // text


        if (token = this.tokenizer.text(src, tokens)) {
          src = src.substring(token.raw.length);

          if (token.type) {
            tokens.push(token);
          } else {
            lastToken = tokens[tokens.length - 1];
            lastToken.raw += '\n' + token.raw;
            lastToken.text += '\n' + token.text;
          }

          continue;
        }

        if (src) {
          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);

          if (this.options.silent) {
            console.error(errMsg);
            break;
          } else {
            throw new Error(errMsg);
          }
        }
      }

      return tokens;
    };

    _proto.inline = function inline(tokens) {
      var i, j, k, l2, row, token;
      var l = tokens.length;

      for (i = 0; i < l; i++) {
        token = tokens[i];

        switch (token.type) {
          case 'paragraph':
          case 'text':
          case 'heading':
            {
              token.tokens = [];
              this.inlineTokens(token.text, token.tokens);
              break;
            }

          case 'table':
            {
              token.tokens = {
                header: [],
                cells: []
              }; // header

              l2 = token.header.length;

              for (j = 0; j < l2; j++) {
                token.tokens.header[j] = [];
                this.inlineTokens(token.header[j], token.tokens.header[j]);
              } // cells


              l2 = token.cells.length;

              for (j = 0; j < l2; j++) {
                row = token.cells[j];
                token.tokens.cells[j] = [];

                for (k = 0; k < row.length; k++) {
                  token.tokens.cells[j][k] = [];
                  this.inlineTokens(row[k], token.tokens.cells[j][k]);
                }
              }

              break;
            }

          case 'blockquote':
            {
              this.inline(token.tokens);
              break;
            }

          case 'list':
            {
              l2 = token.items.length;

              for (j = 0; j < l2; j++) {
                this.inline(token.items[j].tokens);
              }

              break;
            }
        }
      }

      return tokens;
    }
    /**
     * Lexing/Compiling
     */
    ;

    _proto.inlineTokens = function inlineTokens(src, tokens, inLink, inRawBlock) {
      if (tokens === void 0) {
        tokens = [];
      }

      if (inLink === void 0) {
        inLink = false;
      }

      if (inRawBlock === void 0) {
        inRawBlock = false;
      }

      var token;

      while (src) {
        // escape
        if (token = this.tokenizer.escape(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // tag


        if (token = this.tokenizer.tag(src, inLink, inRawBlock)) {
          src = src.substring(token.raw.length);
          inLink = token.inLink;
          inRawBlock = token.inRawBlock;
          tokens.push(token);
          continue;
        } // link


        if (token = this.tokenizer.link(src)) {
          src = src.substring(token.raw.length);

          if (token.type === 'link') {
            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);
          }

          tokens.push(token);
          continue;
        } // reflink, nolink


        if (token = this.tokenizer.reflink(src, this.tokens.links)) {
          src = src.substring(token.raw.length);

          if (token.type === 'link') {
            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);
          }

          tokens.push(token);
          continue;
        } // strong


        if (token = this.tokenizer.strong(src)) {
          src = src.substring(token.raw.length);
          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);
          tokens.push(token);
          continue;
        } // em


        if (token = this.tokenizer.em(src)) {
          src = src.substring(token.raw.length);
          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);
          tokens.push(token);
          continue;
        } // code


        if (token = this.tokenizer.codespan(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // br


        if (token = this.tokenizer.br(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // del (gfm)


        if (token = this.tokenizer.del(src)) {
          src = src.substring(token.raw.length);
          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);
          tokens.push(token);
          continue;
        } // autolink


        if (token = this.tokenizer.autolink(src, mangle)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // url (gfm)


        if (!inLink && (token = this.tokenizer.url(src, mangle))) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // text


        if (token = this.tokenizer.inlineText(src, inRawBlock, smartypants)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        }

        if (src) {
          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);

          if (this.options.silent) {
            console.error(errMsg);
            break;
          } else {
            throw new Error(errMsg);
          }
        }
      }

      return tokens;
    };

    _createClass(Lexer, null, [{
      key: "rules",
      get: function get() {
        return {
          block: block$1,
          inline: inline$1
        };
      }
    }]);

    return Lexer;
  }();

  var defaults$3 = defaults.defaults;
  var cleanUrl$1 = helpers.cleanUrl,
      escape$1 = helpers.escape;
  /**
   * Renderer
   */

  var Renderer_1 = /*#__PURE__*/function () {
    function Renderer(options) {
      this.options = options || defaults$3;
    }

    var _proto = Renderer.prototype;

    _proto.code = function code(_code, infostring, escaped) {
      var lang = (infostring || '').match(/\S*/)[0];

      if (this.options.highlight) {
        var out = this.options.highlight(_code, lang);

        if (out != null && out !== _code) {
          escaped = true;
          _code = out;
        }
      }

      if (!lang) {
        return '<pre><code>' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\n';
      }

      return '<pre><code class="' + this.options.langPrefix + escape$1(lang, true) + '">' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\n';
    };

    _proto.blockquote = function blockquote(quote) {
      return '<blockquote>\n' + quote + '</blockquote>\n';
    };

    _proto.html = function html(_html) {
      return _html;
    };

    _proto.heading = function heading(text, level, raw, slugger) {
      if (this.options.headerIds) {
        return '<h' + level + ' id="' + this.options.headerPrefix + slugger.slug(raw) + '">' + text + '</h' + level + '>\n';
      } // ignore IDs


      return '<h' + level + '>' + text + '</h' + level + '>\n';
    };

    _proto.hr = function hr() {
      return this.options.xhtml ? '<hr/>\n' : '<hr>\n';
    };

    _proto.list = function list(body, ordered, start) {
      var type = ordered ? 'ol' : 'ul',
          startatt = ordered && start !== 1 ? ' start="' + start + '"' : '';
      return '<' + type + startatt + '>\n' + body + '</' + type + '>\n';
    };

    _proto.listitem = function listitem(text) {
      return '<li>' + text + '</li>\n';
    };

    _proto.checkbox = function checkbox(checked) {
      return '<input ' + (checked ? 'checked="" ' : '') + 'disabled="" type="checkbox"' + (this.options.xhtml ? ' /' : '') + '> ';
    };

    _proto.paragraph = function paragraph(text) {
      return '<p>' + text + '</p>\n';
    };

    _proto.table = function table(header, body) {
      if (body) body = '<tbody>' + body + '</tbody>';
      return '<table>\n' + '<thead>\n' + header + '</thead>\n' + body + '</table>\n';
    };

    _proto.tablerow = function tablerow(content) {
      return '<tr>\n' + content + '</tr>\n';
    };

    _proto.tablecell = function tablecell(content, flags) {
      var type = flags.header ? 'th' : 'td';
      var tag = flags.align ? '<' + type + ' align="' + flags.align + '">' : '<' + type + '>';
      return tag + content + '</' + type + '>\n';
    } // span level renderer
    ;

    _proto.strong = function strong(text) {
      return '<strong>' + text + '</strong>';
    };

    _proto.em = function em(text) {
      return '<em>' + text + '</em>';
    };

    _proto.codespan = function codespan(text) {
      return '<code>' + text + '</code>';
    };

    _proto.br = function br() {
      return this.options.xhtml ? '<br/>' : '<br>';
    };

    _proto.del = function del(text) {
      return '<del>' + text + '</del>';
    };

    _proto.link = function link(href, title, text) {
      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);

      if (href === null) {
        return text;
      }

      var out = '<a href="' + escape$1(href) + '"';

      if (title) {
        out += ' title="' + title + '"';
      }

      out += '>' + text + '</a>';
      return out;
    };

    _proto.image = function image(href, title, text) {
      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);

      if (href === null) {
        return text;
      }

      var out = '<img src="' + href + '" alt="' + text + '"';

      if (title) {
        out += ' title="' + title + '"';
      }

      out += this.options.xhtml ? '/>' : '>';
      return out;
    };

    _proto.text = function text(_text) {
      return _text;
    };

    return Renderer;
  }();

  /**
   * TextRenderer
   * returns only the textual part of the token
   */
  var TextRenderer_1 = /*#__PURE__*/function () {
    function TextRenderer() {}

    var _proto = TextRenderer.prototype;

    // no need for block level renderers
    _proto.strong = function strong(text) {
      return text;
    };

    _proto.em = function em(text) {
      return text;
    };

    _proto.codespan = function codespan(text) {
      return text;
    };

    _proto.del = function del(text) {
      return text;
    };

    _proto.html = function html(text) {
      return text;
    };

    _proto.text = function text(_text) {
      return _text;
    };

    _proto.link = function link(href, title, text) {
      return '' + text;
    };

    _proto.image = function image(href, title, text) {
      return '' + text;
    };

    _proto.br = function br() {
      return '';
    };

    return TextRenderer;
  }();

  /**
   * Slugger generates header id
   */
  var Slugger_1 = /*#__PURE__*/function () {
    function Slugger() {
      this.seen = {};
    }
    /**
     * Convert string to unique id
     */


    var _proto = Slugger.prototype;

    _proto.slug = function slug(value) {
      var slug = value.toLowerCase().trim() // remove html tags
      .replace(/<[!\/a-z].*?>/ig, '') // remove unwanted chars
      .replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g, '').replace(/\s/g, '-');

      if (this.seen.hasOwnProperty(slug)) {
        var originalSlug = slug;

        do {
          this.seen[originalSlug]++;
          slug = originalSlug + '-' + this.seen[originalSlug];
        } while (this.seen.hasOwnProperty(slug));
      }

      this.seen[slug] = 0;
      return slug;
    };

    return Slugger;
  }();

  var defaults$4 = defaults.defaults;
  var unescape$1 = helpers.unescape;
  /**
   * Parsing & Compiling
   */

  var Parser_1 = /*#__PURE__*/function () {
    function Parser(options) {
      this.options = options || defaults$4;
      this.options.renderer = this.options.renderer || new Renderer_1();
      this.renderer = this.options.renderer;
      this.renderer.options = this.options;
      this.textRenderer = new TextRenderer_1();
      this.slugger = new Slugger_1();
    }
    /**
     * Static Parse Method
     */


    Parser.parse = function parse(tokens, options) {
      var parser = new Parser(options);
      return parser.parse(tokens);
    }
    /**
     * Parse Loop
     */
    ;

    var _proto = Parser.prototype;

    _proto.parse = function parse(tokens, top) {
      if (top === void 0) {
        top = true;
      }

      var out = '',
          i,
          j,
          k,
          l2,
          l3,
          row,
          cell,
          header,
          body,
          token,
          ordered,
          start,
          loose,
          itemBody,
          item,
          checked,
          task,
          checkbox;
      var l = tokens.length;

      for (i = 0; i < l; i++) {
        token = tokens[i];

        switch (token.type) {
          case 'space':
            {
              continue;
            }

          case 'hr':
            {
              out += this.renderer.hr();
              continue;
            }

          case 'heading':
            {
              out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape$1(this.parseInline(token.tokens, this.textRenderer)), this.slugger);
              continue;
            }

          case 'code':
            {
              out += this.renderer.code(token.text, token.lang, token.escaped);
              continue;
            }

          case 'table':
            {
              header = ''; // header

              cell = '';
              l2 = token.header.length;

              for (j = 0; j < l2; j++) {
                cell += this.renderer.tablecell(this.parseInline(token.tokens.header[j]), {
                  header: true,
                  align: token.align[j]
                });
              }

              header += this.renderer.tablerow(cell);
              body = '';
              l2 = token.cells.length;

              for (j = 0; j < l2; j++) {
                row = token.tokens.cells[j];
                cell = '';
                l3 = row.length;

                for (k = 0; k < l3; k++) {
                  cell += this.renderer.tablecell(this.parseInline(row[k]), {
                    header: false,
                    align: token.align[k]
                  });
                }

                body += this.renderer.tablerow(cell);
              }

              out += this.renderer.table(header, body);
              continue;
            }

          case 'blockquote':
            {
              body = this.parse(token.tokens);
              out += this.renderer.blockquote(body);
              continue;
            }

          case 'list':
            {
              ordered = token.ordered;
              start = token.start;
              loose = token.loose;
              l2 = token.items.length;
              body = '';

              for (j = 0; j < l2; j++) {
                item = token.items[j];
                checked = item.checked;
                task = item.task;
                itemBody = '';

                if (item.task) {
                  checkbox = this.renderer.checkbox(checked);

                  if (loose) {
                    if (item.tokens.length > 0 && item.tokens[0].type === 'text') {
                      item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;

                      if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {
                        item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;
                      }
                    } else {
                      item.tokens.unshift({
                        type: 'text',
                        text: checkbox
                      });
                    }
                  } else {
                    itemBody += checkbox;
                  }
                }

                itemBody += this.parse(item.tokens, loose);
                body += this.renderer.listitem(itemBody, task, checked);
              }

              out += this.renderer.list(body, ordered, start);
              continue;
            }

          case 'html':
            {
              // TODO parse inline content if parameter markdown=1
              out += this.renderer.html(token.text);
              continue;
            }

          case 'paragraph':
            {
              out += this.renderer.paragraph(this.parseInline(token.tokens));
              continue;
            }

          case 'text':
            {
              body = token.tokens ? this.parseInline(token.tokens) : token.text;

              while (i + 1 < l && tokens[i + 1].type === 'text') {
                token = tokens[++i];
                body += '\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);
              }

              out += top ? this.renderer.paragraph(body) : body;
              continue;
            }

          default:
            {
              var errMsg = 'Token with "' + token.type + '" type was not found.';

              if (this.options.silent) {
                console.error(errMsg);
                return;
              } else {
                throw new Error(errMsg);
              }
            }
        }
      }

      return out;
    }
    /**
     * Parse Inline Tokens
     */
    ;

    _proto.parseInline = function parseInline(tokens, renderer) {
      renderer = renderer || this.renderer;
      var out = '',
          i,
          token;
      var l = tokens.length;

      for (i = 0; i < l; i++) {
        token = tokens[i];

        switch (token.type) {
          case 'escape':
            {
              out += renderer.text(token.text);
              break;
            }

          case 'html':
            {
              out += renderer.html(token.text);
              break;
            }

          case 'link':
            {
              out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));
              break;
            }

          case 'image':
            {
              out += renderer.image(token.href, token.title, token.text);
              break;
            }

          case 'strong':
            {
              out += renderer.strong(this.parseInline(token.tokens, renderer));
              break;
            }

          case 'em':
            {
              out += renderer.em(this.parseInline(token.tokens, renderer));
              break;
            }

          case 'codespan':
            {
              out += renderer.codespan(token.text);
              break;
            }

          case 'br':
            {
              out += renderer.br();
              break;
            }

          case 'del':
            {
              out += renderer.del(this.parseInline(token.tokens, renderer));
              break;
            }

          case 'text':
            {
              out += renderer.text(token.text);
              break;
            }

          default:
            {
              var errMsg = 'Token with "' + token.type + '" type was not found.';

              if (this.options.silent) {
                console.error(errMsg);
                return;
              } else {
                throw new Error(errMsg);
              }
            }
        }
      }

      return out;
    };

    return Parser;
  }();

  var merge$2 = helpers.merge,
      checkSanitizeDeprecation$1 = helpers.checkSanitizeDeprecation,
      escape$2 = helpers.escape;
  var getDefaults = defaults.getDefaults,
      changeDefaults = defaults.changeDefaults,
      defaults$5 = defaults.defaults;
  /**
   * Marked
   */

  function marked(src, opt, callback) {
    // throw error in case of non string input
    if (typeof src === 'undefined' || src === null) {
      throw new Error('marked(): input parameter is undefined or null');
    }

    if (typeof src !== 'string') {
      throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');
    }

    if (typeof opt === 'function') {
      callback = opt;
      opt = null;
    }

    opt = merge$2({}, marked.defaults, opt || {});
    checkSanitizeDeprecation$1(opt);

    if (callback) {
      var highlight = opt.highlight;
      var tokens;

      try {
        tokens = Lexer_1.lex(src, opt);
      } catch (e) {
        return callback(e);
      }

      var done = function done(err) {
        var out;

        if (!err) {
          try {
            out = Parser_1.parse(tokens, opt);
          } catch (e) {
            err = e;
          }
        }

        opt.highlight = highlight;
        return err ? callback(err) : callback(null, out);
      };

      if (!highlight || highlight.length < 3) {
        return done();
      }

      delete opt.highlight;
      if (!tokens.length) return done();
      var pending = 0;
      marked.walkTokens(tokens, function (token) {
        if (token.type === 'code') {
          pending++;
          highlight(token.text, token.lang, function (err, code) {
            if (err) {
              return done(err);
            }

            if (code != null && code !== token.text) {
              token.text = code;
              token.escaped = true;
            }

            pending--;

            if (pending === 0) {
              done();
            }
          });
        }
      });

      if (pending === 0) {
        done();
      }

      return;
    }

    try {
      var _tokens = Lexer_1.lex(src, opt);

      if (opt.walkTokens) {
        marked.walkTokens(_tokens, opt.walkTokens);
      }

      return Parser_1.parse(_tokens, opt);
    } catch (e) {
      e.message += '\nPlease report this to https://github.com/markedjs/marked.';

      if (opt.silent) {
        return '<p>An error occurred:</p><pre>' + escape$2(e.message + '', true) + '</pre>';
      }

      throw e;
    }
  }
  /**
   * Options
   */


  marked.options = marked.setOptions = function (opt) {
    merge$2(marked.defaults, opt);
    changeDefaults(marked.defaults);
    return marked;
  };

  marked.getDefaults = getDefaults;
  marked.defaults = defaults$5;
  /**
   * Use Extension
   */

  marked.use = function (extension) {
    var opts = merge$2({}, extension);

    if (extension.renderer) {
      (function () {
        var renderer = marked.defaults.renderer || new Renderer_1();

        var _loop = function _loop(prop) {
          var prevRenderer = renderer[prop];

          renderer[prop] = function () {
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }

            var ret = extension.renderer[prop].apply(renderer, args);

            if (ret === false) {
              ret = prevRenderer.apply(renderer, args);
            }

            return ret;
          };
        };

        for (var prop in extension.renderer) {
          _loop(prop);
        }

        opts.renderer = renderer;
      })();
    }

    if (extension.tokenizer) {
      (function () {
        var tokenizer = marked.defaults.tokenizer || new Tokenizer_1();

        var _loop2 = function _loop2(prop) {
          var prevTokenizer = tokenizer[prop];

          tokenizer[prop] = function () {
            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }

            var ret = extension.tokenizer[prop].apply(tokenizer, args);

            if (ret === false) {
              ret = prevTokenizer.apply(tokenizer, args);
            }

            return ret;
          };
        };

        for (var prop in extension.tokenizer) {
          _loop2(prop);
        }

        opts.tokenizer = tokenizer;
      })();
    }

    if (extension.walkTokens) {
      var walkTokens = marked.defaults.walkTokens;

      opts.walkTokens = function (token) {
        extension.walkTokens(token);

        if (walkTokens) {
          walkTokens(token);
        }
      };
    }

    marked.setOptions(opts);
  };
  /**
   * Run callback for every token
   */


  marked.walkTokens = function (tokens, callback) {
    for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {
      var token = _step.value;
      callback(token);

      switch (token.type) {
        case 'table':
          {
            for (var _iterator2 = _createForOfIteratorHelperLoose(token.tokens.header), _step2; !(_step2 = _iterator2()).done;) {
              var cell = _step2.value;
              marked.walkTokens(cell, callback);
            }

            for (var _iterator3 = _createForOfIteratorHelperLoose(token.tokens.cells), _step3; !(_step3 = _iterator3()).done;) {
              var row = _step3.value;

              for (var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;) {
                var _cell = _step4.value;
                marked.walkTokens(_cell, callback);
              }
            }

            break;
          }

        case 'list':
          {
            marked.walkTokens(token.items, callback);
            break;
          }

        default:
          {
            if (token.tokens) {
              marked.walkTokens(token.tokens, callback);
            }
          }
      }
    }
  };
  /**
   * Expose
   */


  marked.Parser = Parser_1;
  marked.parser = Parser_1.parse;
  marked.Renderer = Renderer_1;
  marked.TextRenderer = TextRenderer_1;
  marked.Lexer = Lexer_1;
  marked.lexer = Lexer_1.lex;
  marked.Tokenizer = Tokenizer_1;
  marked.Slugger = Slugger_1;
  marked.parse = marked;
  var marked_1 = marked;

  return marked_1;

})));


/***/ }),

/***/ "./node_modules/papaparse/papaparse.min.js":
/*!*************************************************!*\
  !*** ./node_modules/papaparse/papaparse.min.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* @license
Papa Parse
v5.2.0
https://github.com/mholt/PapaParse
License: MIT
*/
!function(e,t){ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (t),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):undefined}(this,function s(){"use strict";var f="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==f?f:{};var n=!f.document&&!!f.postMessage,o=n&&/blob:/i.test((f.location||{}).protocol),a={},h=0,b={parse:function(e,t){var i=(t=t||{}).dynamicTyping||!1;U(i)&&(t.dynamicTypingFunction=i,i={});if(t.dynamicTyping=i,t.transform=!!U(t.transform)&&t.transform,t.worker&&b.WORKERS_SUPPORTED){var r=function(){if(!b.WORKERS_SUPPORTED)return!1;var e=(i=f.URL||f.webkitURL||null,r=s.toString(),b.BLOB_URL||(b.BLOB_URL=i.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),t=new f.Worker(e);var i,r;return t.onmessage=_,t.id=h++,a[t.id]=t}();return r.userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=U(t.step),t.chunk=U(t.chunk),t.complete=U(t.complete),t.error=U(t.error),delete t.worker,void r.postMessage({input:e,config:t,workerId:r.id})}var n=null;b.NODE_STREAM_INPUT,"string"==typeof e?n=t.download?new l(t):new p(t):!0===e.readable&&U(e.read)&&U(e.on)?n=new g(t):(f.File&&e instanceof File||e instanceof Object)&&(n=new c(t));return n.stream(e)},unparse:function(e,t){var n=!1,_=!0,m=",",v="\r\n",s='"',a=s+s,i=!1,r=null;!function(){if("object"!=typeof t)return;"string"!=typeof t.delimiter||b.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(m=t.delimiter);("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes);"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(i=t.skipEmptyLines);"string"==typeof t.newline&&(v=t.newline);"string"==typeof t.quoteChar&&(s=t.quoteChar);"boolean"==typeof t.header&&(_=t.header);if(Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");r=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s)}();var o=new RegExp(q(s),"g");"string"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return u(null,e,i);if("object"==typeof e[0])return u(r||h(e[0]),e,i)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:h(e.data[0])),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),u(e.fields||[],e.data||[],i);throw new Error("Unable to serialize unrecognized input");function h(e){if("object"!=typeof e)return[];var t=[];for(var i in e)t.push(i);return t}function u(e,t,i){var r="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var n=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(n&&_){for(var a=0;a<e.length;a++)0<a&&(r+=m),r+=y(e[a],a);0<t.length&&(r+=v)}for(var o=0;o<t.length;o++){var h=n?e.length:t[o].length,u=!1,f=n?0===Object.keys(t[o]).length:0===t[o].length;if(i&&!n&&(u="greedy"===i?""===t[o].join("").trim():1===t[o].length&&0===t[o][0].length),"greedy"===i&&n){for(var d=[],l=0;l<h;l++){var c=s?e[l]:l;d.push(t[o][c])}u=""===d.join("").trim()}if(!u){for(var p=0;p<h;p++){0<p&&!f&&(r+=m);var g=n&&s?e[p]:p;r+=y(t[o][g],p)}o<t.length-1&&(!i||0<h&&!f)&&(r+=v)}}return r}function y(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var i=e.toString().replace(o,a),r="boolean"==typeof n&&n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1}(i,b.BAD_DELIMITERS)||-1<i.indexOf(m)||" "===i.charAt(0)||" "===i.charAt(i.length-1);return r?s+i+s:i}}};if(b.RECORD_SEP=String.fromCharCode(30),b.UNIT_SEP=String.fromCharCode(31),b.BYTE_ORDER_MARK="\ufeff",b.BAD_DELIMITERS=["\r","\n",'"',b.BYTE_ORDER_MARK],b.WORKERS_SUPPORTED=!n&&!!f.Worker,b.NODE_STREAM_INPUT=1,b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=",",b.Parser=w,b.ParserHandle=i,b.NetworkStreamer=l,b.FileStreamer=c,b.StringStreamer=p,b.ReadableStreamStreamer=g,f.jQuery){var d=f.jQuery;d.fn.parse=function(o){var i=o.config||{},h=[];return this.each(function(e){if(!("INPUT"===d(this).prop("tagName").toUpperCase()&&"file"===d(this).attr("type").toLowerCase()&&f.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)h.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},i)})}),e(),this;function e(){if(0!==h.length){var e,t,i,r,n=h[0];if(U(o.before)){var s=o.before(n.file,n.inputElem);if("object"==typeof s){if("abort"===s.action)return e="AbortError",t=n.file,i=n.inputElem,r=s.reason,void(U(o.error)&&o.error({name:e},t,i,r));if("skip"===s.action)return void u();"object"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if("skip"===s)return void u()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){U(a)&&a(e,n.file,n.inputElem),u()},b.parse(n.file,n.instanceConfig)}else U(o.complete)&&o.complete()}function u(){h.splice(0,1),e()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=E(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new i(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&U(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+e;this._partialLine="";var n=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=n.meta.cursor;this._finished||(this._partialLine=r.substring(s-this._baseIndex),this._baseIndex=s),n&&n.data&&(this._rowCount+=n.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)f.postMessage({results:n,workerId:b.WORKER_ID,finished:a});else if(U(this._config.chunk)&&!t){if(this._config.chunk(n,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);n=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(n.data),this._completeResults.errors=this._completeResults.errors.concat(n.errors),this._completeResults.meta=n.meta),this._completed||!a||!U(this._config.complete)||n&&n.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||n&&n.meta.paused||this._nextChunk(),n}this._halted=!0},this._sendError=function(e){U(this._config.error)?this._config.error(e):o&&this._config.error&&f.postMessage({workerId:b.WORKER_ID,error:e,finished:!1})}}function l(e){var r;(e=e||{}).chunkSize||(e.chunkSize=b.RemoteChunkSize),u.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),n||(r.onload=y(this._chunkLoaded,this),r.onerror=y(this._chunkError,this)),r.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var t in e)r.setRequestHeader(t,e[t])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;r.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{r.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===r.status&&this._chunkError()}},this._chunkLoaded=function(){4===r.readyState&&(r.status<200||400<=r.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:r.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");if(null===t)return-1;return parseInt(t.substring(t.lastIndexOf("/")+1))}(r),this.parseChunk(r.responseText)))},this._chunkError=function(e){var t=r.statusText||e;this._sendError(new Error(t))}}function c(e){var r,n;(e=e||{}).chunkSize||(e.chunkSize=b.LocalChunkSize),u.call(this,e);var s="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,s?((r=new FileReader).onload=y(this._chunkLoaded,this),r.onerror=y(this._chunkError,this)):r=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var t=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,t)}var i=r.readAsText(e,this._config.encoding);s||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(r.error)}}function p(e){var i;u.call(this,e=e||{}),this.stream=function(e){return i=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,t=this._config.chunkSize;return t?(e=i.substring(0,t),i=i.substring(t)):(e=i,i=""),this._finished=!i,this.parseChunk(e)}}}function g(e){u.call(this,e=e||{});var t=[],i=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=y(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=y(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=y(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=y(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function i(m){var a,o,h,r=Math.pow(2,53),n=-r,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,u=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,t=this,i=0,f=0,d=!1,e=!1,l=[],c={data:[],errors:[],meta:{}};if(U(m.step)){var p=m.step;m.step=function(e){if(c=e,_())g();else{if(g(),0===c.data.length)return;i+=e.data.length,m.preview&&i>m.preview?o.abort():(c.data=c.data[0],p(c,t))}}}function v(e){return"greedy"===m.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function g(){if(c&&h&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+b.DefaultDelimiter+"'"),h=!1),m.skipEmptyLines)for(var e=0;e<c.data.length;e++)v(c.data[e])&&c.data.splice(e--,1);return _()&&function(){if(!c)return;function e(e){U(m.transformHeader)&&(e=m.transformHeader(e)),l.push(e)}if(Array.isArray(c.data[0])){for(var t=0;_()&&t<c.data.length;t++)c.data[t].forEach(e);c.data.splice(0,1)}else c.data.forEach(e)}(),function(){if(!c||!m.header&&!m.dynamicTyping&&!m.transform)return c;function e(e,t){var i,r=m.header?{}:[];for(i=0;i<e.length;i++){var n=i,s=e[i];m.header&&(n=i>=l.length?"__parsed_extra":l[i]),m.transform&&(s=m.transform(s,n)),s=y(n,s),"__parsed_extra"===n?(r[n]=r[n]||[],r[n].push(s)):r[n]=s}return m.header&&(i>l.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+l.length+" fields but parsed "+i,f+t):i<l.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+l.length+" fields but parsed "+i,f+t)),r}var t=1;!c.data.length||Array.isArray(c.data[0])?(c.data=c.data.map(e),t=c.data.length):c.data=e(c.data,0);m.header&&c.meta&&(c.meta.fields=l);return f+=t,c}()}function _(){return m.header&&0===l.length}function y(e,t){return i=e,m.dynamicTypingFunction&&void 0===m.dynamicTyping[i]&&(m.dynamicTyping[i]=m.dynamicTypingFunction(i)),!0===(m.dynamicTyping[i]||m.dynamicTyping)?"true"===t||"TRUE"===t||"false"!==t&&"FALSE"!==t&&(function(e){if(s.test(e)){var t=parseFloat(e);if(n<t&&t<r)return!0}return!1}(t)?parseFloat(t):u.test(t)?new Date(t):""===t?null:t):t;var i}function k(e,t,i,r){var n={type:e,code:t,message:i};void 0!==r&&(n.row=r),c.errors.push(n)}this.parse=function(e,t,i){var r=m.quoteChar||'"';if(m.newline||(m.newline=function(e,t){e=e.substring(0,1048576);var i=new RegExp(q(t)+"([^]*?)"+q(t),"gm"),r=(e=e.replace(i,"")).split("\r"),n=e.split("\n"),s=1<n.length&&n[0].length<r[0].length;if(1===r.length||s)return"\n";for(var a=0,o=0;o<r.length;o++)"\n"===r[o][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(e,r)),h=!1,m.delimiter)U(m.delimiter)&&(m.delimiter=m.delimiter(e),c.meta.delimiter=m.delimiter);else{var n=function(e,t,i,r,n){var s,a,o,h;n=n||[",","\t","|",";",b.RECORD_SEP,b.UNIT_SEP];for(var u=0;u<n.length;u++){var f=n[u],d=0,l=0,c=0;o=void 0;for(var p=new w({comments:r,delimiter:f,newline:t,preview:10}).parse(e),g=0;g<p.data.length;g++)if(i&&v(p.data[g]))c++;else{var _=p.data[g].length;l+=_,void 0!==o?0<_&&(d+=Math.abs(_-o),o=_):o=_}0<p.data.length&&(l/=p.data.length-c),(void 0===a||d<=a)&&(void 0===h||h<l)&&1.99<l&&(a=d,s=f,h=l)}return{successful:!!(m.delimiter=s),bestDelimiter:s}}(e,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess);n.successful?m.delimiter=n.bestDelimiter:(h=!0,m.delimiter=b.DefaultDelimiter),c.meta.delimiter=m.delimiter}var s=E(m);return m.preview&&m.header&&s.preview++,a=e,o=new w(s),c=o.parse(a,t,i),g(),d?{meta:{paused:!0}}:c||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,o.abort(),a=U(m.chunk)?"":a.substring(o.getCharIndex())},this.resume=function(){t.streamer._halted?(d=!1,t.streamer.parseChunk(a,!0)):setTimeout(t.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,o.abort(),c.meta.aborted=!0,U(m.complete)&&m.complete(c),a=""}}function q(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w(e){var O,D=(e=e||{}).delimiter,I=e.newline,T=e.comments,A=e.step,L=e.preview,F=e.fastMode,z=O=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(z=e.escapeChar),("string"!=typeof D||-1<b.BAD_DELIMITERS.indexOf(D))&&(D=","),T===D)throw new Error("Comment character same as delimiter");!0===T?T="#":("string"!=typeof T||-1<b.BAD_DELIMITERS.indexOf(T))&&(T=!1),"\n"!==I&&"\r"!==I&&"\r\n"!==I&&(I="\n");var M=0,j=!1;this.parse=function(a,t,i){if("string"!=typeof a)throw new Error("Input must be a string");var r=a.length,e=D.length,n=I.length,s=T.length,o=U(A),h=[],u=[],f=[],d=M=0;if(!a)return R();if(F||!1!==F&&-1===a.indexOf(O)){for(var l=a.split(I),c=0;c<l.length;c++){if(f=l[c],M+=f.length,c!==l.length-1)M+=I.length;else if(i)return R();if(!T||f.substring(0,s)!==T){if(o){if(h=[],b(f.split(D)),S(),j)return R()}else b(f.split(D));if(L&&L<=c)return h=h.slice(0,L),R(!0)}}return R()}for(var p=a.indexOf(D,M),g=a.indexOf(I,M),_=new RegExp(q(z)+q(O),"g"),m=a.indexOf(O,M);;)if(a[M]!==O)if(T&&0===f.length&&a.substring(M,M+s)===T){if(-1===g)return R();M=g+n,g=a.indexOf(I,M),p=a.indexOf(D,M)}else{if(-1!==p&&(p<g||-1===g)){if(!(p<m)){f.push(a.substring(M,p)),M=p+e,p=a.indexOf(D,M);continue}var v=x(p,m,g);if(v&&void 0!==v.nextDelim){p=v.nextDelim,m=v.quoteSearch,f.push(a.substring(M,p)),M=p+e,p=a.indexOf(D,M);continue}}if(-1===g)break;if(f.push(a.substring(M,g)),C(g+n),o&&(S(),j))return R();if(L&&h.length>=L)return R(!0)}else for(m=M,M++;;){if(-1===(m=a.indexOf(O,m+1)))return i||u.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:h.length,index:M}),E();if(m===r-1)return E(a.substring(M,m).replace(_,O));if(O!==z||a[m+1]!==z){if(O===z||0===m||a[m-1]!==z){-1!==p&&p<m+1&&(p=a.indexOf(D,m+1)),-1!==g&&g<m+1&&(g=a.indexOf(I,m+1));var y=w(-1===g?p:Math.min(p,g));if(a[m+1+y]===D){f.push(a.substring(M,m).replace(_,O)),a[M=m+1+y+e]!==O&&(m=a.indexOf(O,M)),p=a.indexOf(D,M),g=a.indexOf(I,M);break}var k=w(g);if(a.substring(m+1+k,m+1+k+n)===I){if(f.push(a.substring(M,m).replace(_,O)),C(m+1+k+n),p=a.indexOf(D,M),m=a.indexOf(O,M),o&&(S(),j))return R();if(L&&h.length>=L)return R(!0);break}u.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:h.length,index:M}),m++}}else m++}return E();function b(e){h.push(e),d=M}function w(e){var t=0;if(-1!==e){var i=a.substring(m+1,e);i&&""===i.trim()&&(t=i.length)}return t}function E(e){return i||(void 0===e&&(e=a.substring(M)),f.push(e),M=r,b(f),o&&S()),R()}function C(e){M=e,b(f),f=[],g=a.indexOf(I,M)}function R(e){return{data:h,errors:u,meta:{delimiter:D,linebreak:I,aborted:j,truncated:!!e,cursor:d+(t||0)}}}function S(){A(R()),h=[],u=[]}function x(e,t,i){var r={nextDelim:void 0,quoteSearch:void 0},n=a.indexOf(O,t+1);if(t<e&&e<n&&(n<i||-1===i)){var s=a.indexOf(D,n);if(-1===s)return r;n<s&&(n=a.indexOf(O,n+1)),r=x(s,n,i)}else r={nextDelim:e,quoteSearch:t};return r}},this.abort=function(){j=!0},this.getCharIndex=function(){return M}}function _(e){var t=e.data,i=a[t.workerId],r=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){r=!0,m(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(U(i.userStep)){for(var s=0;s<t.results.data.length&&(i.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!r);s++);delete t.results}else U(i.userChunk)&&(i.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!r&&m(t.workerId,t.results)}function m(e,t){var i=a[e];U(i.userComplete)&&i.userComplete(t),i.terminate(),delete a[e]}function v(){throw new Error("Not implemented.")}function E(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var i in e)t[i]=E(e[i]);return t}function y(e,t){return function(){e.apply(t,arguments)}}function U(e){return"function"==typeof e}return o&&(f.onmessage=function(e){var t=e.data;void 0===b.WORKER_ID&&t&&(b.WORKER_ID=t.workerId);if("string"==typeof t.input)f.postMessage({workerId:b.WORKER_ID,results:b.parse(t.input,t.config),finished:!0});else if(f.File&&t.input instanceof File||t.input instanceof Object){var i=b.parse(t.input,t.config);i&&f.postMessage({workerId:b.WORKER_ID,results:i,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,b});

/***/ }),

/***/ "./src/config.ts":
/*!***********************!*\
  !*** ./src/config.ts ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.ConfigSchema = exports.RowColorSchema = void 0;
const Joi = __importStar(__webpack_require__(/*! @hapi/joi */ "./node_modules/@hapi/joi/dist/joi-browser.min.js"));
exports.RowColorSchema = Joi.object().keys({
    sheet_row: Joi.number(),
    sheet_row_txt: Joi.string(),
    color: Joi.string(),
    tr_css_class: Joi.string()
}); //.xor('sheet_row', 'sheet_row_txt').xor('color', 'tr_css_class');
exports.ConfigSchema = Joi.object().keys({
    columns_to_skip: Joi.array().items(Joi.string()).default([]),
    markdown_parse: Joi.boolean().default(true),
    color_by_week: Joi.boolean().default(true),
    week_light: Joi.string().default("#ffffff"),
    week_dark: Joi.string().default("#f7f8fa"),
    special_row_colors: Joi.array().items(exports.RowColorSchema).default([]),
    table_css_class: Joi.string().default("table-skedj")
});


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const tablegen_1 = __importDefault(__webpack_require__(/*! ./tablegen */ "./src/tablegen.ts"));
const papaparse_1 = __importDefault(__webpack_require__(/*! papaparse */ "./node_modules/papaparse/papaparse.min.js"));
// wishlist:
// [x] indicate which columns to skip
// [x] markdown parsing
// [ ] toggle markdown parsing
// [ ] freeze/generate html to save in case google docs url stops working
// [ ] let user pass stylesheet
// [x] color specific rows (numbers)
// [x] color specific rows (containing text)
// [x] week alternate color
// [x] let user pass config object
function Skedj(url, divname, conf) {
    papaparse_1.default.parse(url, {
        download: true,
        header: true,
        complete: function (results) {
            var data = results.data;
            console.log(data);
            tablegen_1.default(divname, data, conf);
        }
    });
    // const millisecondsUntilLunchTime = millisecondsUntil(lunchtime(hours, minutes));
    // return ms(millisecondsUntilLunchTime, { long: true });
}
exports.default = Skedj;


/***/ }),

/***/ "./src/tablegen.ts":
/*!*************************!*\
  !*** ./src/tablegen.ts ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const marked_1 = __importDefault(__webpack_require__(/*! marked */ "./node_modules/marked/lib/marked.js"));
const config_1 = __webpack_require__(/*! ./config */ "./src/config.ts");
function generateTable(divname, sheetData, conf) {
    const validation_config = config_1.ConfigSchema.validate(conf);
    if (validation_config.error) {
        console.log(validation_config.error.message);
        console.log(validation_config.error.details);
        throw validation_config.error;
    }
    const config = validation_config.value;
    const rowcolors = config.special_row_colors;
    let colskip_idx = [];
    const container = document.getElementById(divname);
    const table = document.createElement("table");
    table.setAttribute("id", divname + "-table");
    table.setAttribute("class", config.table_css_class);
    container === null || container === void 0 ? void 0 : container.appendChild(table);
    let header = sheetData[0];
    let body = sheetData.slice(0);
    function generateTableHead(table, firstrow) {
        let thead = table.createTHead();
        let row = thead.insertRow();
        let keys = Object.keys(firstrow);
        keys.forEach((key, index) => {
            var _a;
            if ((_a = config.columns_to_skip) === null || _a === void 0 ? void 0 : _a.includes(key)) {
                colskip_idx.push(index);
            }
            else {
                let th = document.createElement("th");
                th.innerHTML = markdown(key);
                row.appendChild(th);
            }
        });
    }
    generateTableHead(table, header);
    function generateTableBody(table, data) {
        let tbody = table.createTBody();
        data.forEach((row, row_idx) => {
            let tr = tbody.insertRow();
            colorRow(row_idx, row, tr);
            let values = Object.values(row);
            values.forEach((value, col_idx) => {
                if (colskip_idx.includes(col_idx)) {
                    // do nothing, skip this column because it's in the skip list
                }
                else {
                    let td = document.createElement("td");
                    td.innerHTML = markdown(value);
                    tr.appendChild(td);
                }
            });
        });
    }
    function colorRow(row_idx, row, tr) {
        if (config.color_by_week) {
            let weeknum = Object(row)["Week"];
            if (weeknum & 1) {
                tr.style.backgroundColor = config.week_light;
            }
            else
                tr.style.backgroundColor = config.week_dark;
        }
        let adjusted_row_idx = row_idx + 2;
        if (typeof rowcolors === 'undefined')
            return;
        rowcolors.forEach(rowcolor => {
            if (!!rowcolor.sheet_row && rowcolor.sheet_row === adjusted_row_idx) {
                if (!!rowcolor.color)
                    tr.style.backgroundColor = rowcolor.color;
                else if (!!rowcolor.tr_css_class)
                    tr.setAttribute("class", rowcolor.tr_css_class);
            }
            else if (!!rowcolor.sheet_row_txt && objectContains(row, rowcolor.sheet_row_txt)) {
                if (!!rowcolor.color)
                    tr.style.backgroundColor = rowcolor.color;
                else if (!!rowcolor.tr_css_class)
                    tr.setAttribute("class", rowcolor.tr_css_class);
            }
        });
    }
    function markdown(value) {
        if (config.markdown_parse)
            return marked_1.default(value);
        else
            return value;
    }
    function objectContains(obj, term) {
        let verdict = false;
        Object.entries(obj).forEach(([key, value]) => {
            if (value.indexOf(term) != -1)
                verdict = true;
        });
        return verdict;
    }
    generateTableBody(table, body);
}
exports.default = generateTable;


/***/ })

/******/ })["default"];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ta2Vkai93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9Ta2Vkai8uL25vZGVfbW9kdWxlcy9AaGFwaS9qb2kvZGlzdC9qb2ktYnJvd3Nlci5taW4uanMiLCJ3ZWJwYWNrOi8vU2tlZGovLi9ub2RlX21vZHVsZXMvbWFya2VkL2xpYi9tYXJrZWQuanMiLCJ3ZWJwYWNrOi8vU2tlZGovLi9ub2RlX21vZHVsZXMvcGFwYXBhcnNlL3BhcGFwYXJzZS5taW4uanMiLCJ3ZWJwYWNrOi8vU2tlZGovLi9zcmMvY29uZmlnLnRzIiwid2VicGFjazovL1NrZWRqLy4vc3JjL21haW4udHMiLCJ3ZWJwYWNrOi8vU2tlZGovLi9zcmMvdGFibGVnZW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7UUFBQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDBDQUEwQyxnQ0FBZ0M7UUFDMUU7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSx3REFBd0Qsa0JBQWtCO1FBQzFFO1FBQ0EsaURBQWlELGNBQWM7UUFDL0Q7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHlDQUF5QyxpQ0FBaUM7UUFDMUUsZ0hBQWdILG1CQUFtQixFQUFFO1FBQ3JJO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMkJBQTJCLDBCQUEwQixFQUFFO1FBQ3ZELGlDQUFpQyxlQUFlO1FBQ2hEO1FBQ0E7UUFDQTs7UUFFQTtRQUNBLHNEQUFzRCwrREFBK0Q7O1FBRXJIO1FBQ0E7OztRQUdBO1FBQ0E7Ozs7Ozs7Ozs7OztBQ2xGQSxlQUFlLEtBQWlELG9CQUFvQixTQUFxRyxDQUFDLG9CQUFvQixt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QTtBQUNBLFdBQVc7QUFDWDtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVzs7O0FBR1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLE9BQU87QUFDNUI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEscUJBQXFCLE9BQU87QUFDNUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDs7QUFFQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtB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QTtBQUNBO0FBQ0EsU0FBUzs7O0FBR1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7OztBQUdUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOzs7QUFHVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7O0FBR1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOzs7QUFHVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7OztBQUdUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOzs7QUFHVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7OztBQUdUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7O0FBR1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOzs7QUFHUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELFdBQVcsRUFBRTs7QUFFMUU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixPQUFPO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFD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SSxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUs7b0JBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxlQUFlLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQztxQkFDM0QsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLFlBQVk7b0JBQUUsRUFBRSxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDO2FBQ2xGO1FBQ0YsQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDO0lBRUQsU0FBUyxRQUFRLENBQUMsS0FBYTtRQUM5QixJQUFJLE1BQU0sQ0FBQyxjQUFjO1lBQUUsT0FBTyxnQkFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDOztZQUMzQyxPQUFPLEtBQUssQ0FBQztJQUNuQixDQUFDO0lBRUQsU0FBUyxjQUFjLENBQUMsR0FBVyxFQUFFLElBQVk7UUFDaEQsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUMxQixDQUFDLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUU7WUFDaEIsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFBRSxPQUFPLEdBQUcsSUFBSTtRQUM5QyxDQUFDLENBQUMsQ0FBQztRQUNKLE9BQU8sT0FBTyxDQUFDO0lBQ2hCLENBQUM7SUFFRCxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDO0FBRS9CLENBQUM7QUFuR0QsZ0NBbUdDIiwiZmlsZSI6InNrZWRqLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9zcmMvbWFpbi50c1wiKTtcbiIsIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuam9pPXQoKTplLmpvaT10KCl9KHdpbmRvdywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gcihzKXtpZih0W3NdKXJldHVybiB0W3NdLmV4cG9ydHM7dmFyIG49dFtzXT17aTpzLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbc10uY2FsbChuLmV4cG9ydHMsbixuLmV4cG9ydHMsciksbi5sPSEwLG4uZXhwb3J0c31yZXR1cm4gci5tPWUsci5jPXQsci5kPWZ1bmN0aW9uKGUsdCxzKXtyLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6c30pfSxyLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sci50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1yKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciBzPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoci5yKHMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgbiBpbiBlKXIuZChzLG4sZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxuKSk7cmV0dXJuIHN9LHIubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gci5kKHQsXCJhXCIsdCksdH0sci5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxyLnA9XCJcIixyKHIucz0xMSl9KFtmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcz1yKDEyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSwuLi50KXtpZighZSl7aWYoMT09PXQubGVuZ3RoJiZ0WzBdaW5zdGFuY2VvZiBFcnJvcil0aHJvdyB0WzBdO3Rocm93IG5ldyBzKHQpfX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBzPXIoMCksbj1yKDEyKSxvPXIoMjkpO2xldCBhLGk7Y29uc3QgbD17aXNvRGF0ZTovXig/OlstK11cXGR7Mn0pPyg/OlxcZHs0fSg/IVxcZHsyfVxcYikpKD86KC0/KSg/Oig/OjBbMS05XXwxWzAtMl0pKD86XFwxKD86WzEyXVxcZHwwWzEtOV18M1swMV0pKT98Vyg/OlswLTRdXFxkfDVbMC0yXSkoPzotP1sxLTddKT98KD86MDBbMS05XXwwWzEtOV1cXGR8WzEyXVxcZHsyfXwzKD86WzAtNV1cXGR8NlsxLTZdKSkpKD8hW1RdJHxbVF1bXFxkXStaJCkoPzpbVFxcc10oPzooPzooPzpbMDFdXFxkfDJbMC0zXSkoPzooOj8pWzAtNV1cXGQpP3wyNFxcOj8wMCkoPzpbLixdXFxkKyg/ITopKT8pKD86XFwyWzAtNV1cXGQoPzpbLixdXFxkKyk/KT8oPzpbWl18KD86WystXSkoPzpbMDFdXFxkfDJbMC0zXSkoPzo6P1swLTVdXFxkKT8pPyk/KT8kL307dC52ZXJzaW9uPW8udmVyc2lvbix0LmRlZmF1bHRzPXthYm9ydEVhcmx5OiEwLGFsbG93VW5rbm93bjohMSxjYWNoZTohMCxjb250ZXh0Om51bGwsY29udmVydDohMCxkYXRlRm9ybWF0OlwiaXNvXCIsZXJyb3JzOntlc2NhcGVIdG1sOiExLGxhYmVsOlwicGF0aFwiLGxhbmd1YWdlOm51bGwscmVuZGVyOiEwLHN0YWNrOiExLHdyYXA6e2xhYmVsOidcIicsYXJyYXk6XCJbXVwifX0sZXh0ZXJuYWxzOiEwLG1lc3NhZ2VzOnt9LG5vbkVudW1lcmFibGVzOiExLG5vRGVmYXVsdHM6ITEscHJlc2VuY2U6XCJvcHRpb25hbFwiLHNraXBGdW5jdGlvbnM6ITEsc3RyaXBVbmtub3duOiExLHdhcm5pbmdzOiExfSx0LnN5bWJvbHM9e2FueTpTeW1ib2wuZm9yKFwiQGhhcGkvam9pL3NjaGVtYVwiKSxhcnJheVNpbmdsZTpTeW1ib2woXCJhcnJheVNpbmdsZVwiKSxkZWVwRGVmYXVsdDpTeW1ib2woXCJkZWVwRGVmYXVsdFwiKSxsaXRlcmFsOlN5bWJvbChcImxpdGVyYWxcIiksb3ZlcnJpZGU6U3ltYm9sKFwib3ZlcnJpZGVcIikscHJlZnM6U3ltYm9sKFwicHJlZnNcIikscmVmOlN5bWJvbChcInJlZlwiKSx2YWx1ZXM6U3ltYm9sKFwidmFsdWVzXCIpLHRlbXBsYXRlOlN5bWJvbChcInRlbXBsYXRlXCIpfSx0LmFzc2VydE9wdGlvbnM9ZnVuY3Rpb24oZSx0LHI9XCJPcHRpb25zXCIpe3MoZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpLFwiT3B0aW9ucyBtdXN0IGJlIG9mIHR5cGUgb2JqZWN0XCIpO2NvbnN0IG49T2JqZWN0LmtleXMoZSkuZmlsdGVyKGU9PiF0LmluY2x1ZGVzKGUpKTtzKDA9PT1uLmxlbmd0aCxcIlwiLmNvbmNhdChyLFwiIGNvbnRhaW4gdW5rbm93biBrZXlzOiBcIikuY29uY2F0KG4pKX0sdC5jaGVja1ByZWZlcmVuY2VzPWZ1bmN0aW9uKGUpe2k9aXx8cigxNik7Y29uc3QgdD1pLnByZWZlcmVuY2VzLnZhbGlkYXRlKGUpO2lmKHQuZXJyb3IpdGhyb3cgbmV3IG4oW3QuZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlXSl9LHQuY29tcGFyZT1mdW5jdGlvbihlLHQscil7c3dpdGNoKHIpe2Nhc2VcIj1cIjpyZXR1cm4gZT09PXQ7Y2FzZVwiPlwiOnJldHVybiBlPnQ7Y2FzZVwiPFwiOnJldHVybiBlPHQ7Y2FzZVwiPj1cIjpyZXR1cm4gZT49dDtjYXNlXCI8PVwiOnJldHVybiBlPD10fX0sdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PWU/dDplfSx0LmlzSXNvRGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbC5pc29EYXRlLnRlc3QoZSl9LHQuaXNOdW1iZXI9ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJiFpc05hTihlKX0sdC5pc1Jlc29sdmFibGU9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYoZVt0LnN5bWJvbHMucmVmXXx8ZVt0LnN5bWJvbHMudGVtcGxhdGVdKX0sdC5pc1NjaGVtYT1mdW5jdGlvbihlLHI9e30pe2NvbnN0IG49ZSYmZVt0LnN5bWJvbHMuYW55XTtyZXR1cm4hIW4mJihzKHIubGVnYWN5fHxuLnZlcnNpb249PT10LnZlcnNpb24sXCJDYW5ub3QgbWl4IGRpZmZlcmVudCB2ZXJzaW9ucyBvZiBqb2kgc2NoZW1hc1wiKSwhMCl9LHQuaXNWYWx1ZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbdC5zeW1ib2xzLnZhbHVlc119LHQubGltaXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE51bWJlci5pc1NhZmVJbnRlZ2VyKGUpJiZlPj0wfSx0LnByZWZlcmVuY2VzPWZ1bmN0aW9uKGUscyl7YT1hfHxyKDkpLGU9ZXx8e30scz1zfHx7fTtjb25zdCBuPU9iamVjdC5hc3NpZ24oe30sZSxzKTtyZXR1cm4gcy5lcnJvcnMmJmUuZXJyb3JzJiYobi5lcnJvcnM9T2JqZWN0LmFzc2lnbih7fSxlLmVycm9ycyxzLmVycm9ycyksbi5lcnJvcnMud3JhcD1PYmplY3QuYXNzaWduKHt9LGUuZXJyb3JzLndyYXAscy5lcnJvcnMud3JhcCkpLHMubWVzc2FnZXMmJihuLm1lc3NhZ2VzPWEuY29tcGlsZShzLm1lc3NhZ2VzLGUubWVzc2FnZXMpKSxkZWxldGUgblt0LnN5bWJvbHMucHJlZnNdLG59LHQudHJ5V2l0aFBhdGg9ZnVuY3Rpb24oZSx0LHI9e30pe3RyeXtyZXR1cm4gZSgpfWNhdGNoKGUpe3Rocm93IHZvaWQgMCE9PWUucGF0aD9lLnBhdGg9dCtcIi5cIitlLnBhdGg6ZS5wYXRoPXQsci5hcHBlbmQmJihlLm1lc3NhZ2U9XCJcIi5jb25jYXQoZS5tZXNzYWdlLFwiIChcIikuY29uY2F0KGUucGF0aCxcIilcIikpLGV9fSx0LnZhbGlkYXRlQXJnPWZ1bmN0aW9uKGUscix7YXNzZXJ0OnMsbWVzc2FnZTpufSl7aWYodC5pc1NjaGVtYShzKSl7Y29uc3QgdD1zLnZhbGlkYXRlKGUpO2lmKCF0LmVycm9yKXJldHVybjtyZXR1cm4gdC5lcnJvci5tZXNzYWdlfWlmKCFzKGUpKXJldHVybiByP1wiXCIuY29uY2F0KHIsXCIgXCIpLmNvbmNhdChuKTpufSx0LnZlcmlmeUZsYXQ9ZnVuY3Rpb24oZSx0KXtmb3IoY29uc3QgciBvZiBlKXMoIUFycmF5LmlzQXJyYXkociksXCJNZXRob2Qgbm8gbG9uZ2VyIGFjY2VwdHMgYXJyYXkgYXJndW1lbnRzOlwiLHQpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IHM9cig2KSxuPXIoMTMpLG89cigxNCksYT17bmVlZHNQcm90b0hhY2s6bmV3IFNldChbbi5zZXQsbi5tYXAsbi53ZWFrU2V0LG4ud2Vha01hcF0pfTtlLmV4cG9ydHM9YS5jbG9uZT1mdW5jdGlvbihlLHQ9e30scj1udWxsKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuIGU7bGV0IHM9YS5jbG9uZSxpPXI7aWYodC5zaGFsbG93KXtpZighMCE9PXQuc2hhbGxvdylyZXR1cm4gYS5jbG9uZVdpdGhTaGFsbG93KGUsdCk7cz1lPT5lfWVsc2UgaWYoaSl7Y29uc3QgdD1pLmdldChlKTtpZih0KXJldHVybiB0fWVsc2UgaT1uZXcgTWFwO2NvbnN0IGw9bi5nZXRJbnRlcm5hbFByb3RvKGUpO2lmKGw9PT1uLmJ1ZmZlcilyZXR1cm4hMTtpZihsPT09bi5kYXRlKXJldHVybiBuZXcgRGF0ZShlLmdldFRpbWUoKSk7aWYobD09PW4ucmVnZXgpcmV0dXJuIG5ldyBSZWdFeHAoZSk7Y29uc3QgYz1hLmJhc2UoZSxsLHQpO2lmKGM9PT1lKXJldHVybiBlO2lmKGkmJmkuc2V0KGUsYyksbD09PW4uc2V0KWZvcihjb25zdCByIG9mIGUpYy5hZGQocyhyLHQsaSkpO2Vsc2UgaWYobD09PW4ubWFwKWZvcihjb25zdFtyLG5db2YgZSljLnNldChyLHMobix0LGkpKTtjb25zdCB1PW8ua2V5cyhlLHQpO2Zvcihjb25zdCByIG9mIHUpe2lmKFwiX19wcm90b19fXCI9PT1yKWNvbnRpbnVlO2lmKGw9PT1uLmFycmF5JiZcImxlbmd0aFwiPT09cil7Yy5sZW5ndGg9ZS5sZW5ndGg7Y29udGludWV9Y29uc3Qgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscik7bz9vLmdldHx8by5zZXQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KGMscixvKTpvLmVudW1lcmFibGU/Y1tyXT1zKGVbcl0sdCxpKTpPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxyLHtlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx2YWx1ZTpzKGVbcl0sdCxpKX0pOk9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLHIse2VudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwLHZhbHVlOnMoZVtyXSx0LGkpfSl9cmV0dXJuIGN9LGEuY2xvbmVXaXRoU2hhbGxvdz1mdW5jdGlvbihlLHQpe2NvbnN0IHI9dC5zaGFsbG93Oyh0PU9iamVjdC5hc3NpZ24oe30sdCkpLnNoYWxsb3c9ITE7Y29uc3Qgbj1uZXcgTWFwO2Zvcihjb25zdCB0IG9mIHIpe2NvbnN0IHI9cyhlLHQpO1wib2JqZWN0XCIhPXR5cGVvZiByJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiByfHxuLnNldChyLHIpfXJldHVybiBhLmNsb25lKGUsdCxuKX0sYS5iYXNlPWZ1bmN0aW9uKGUsdCxyKXtpZighMT09PXIucHJvdG90eXBlKXJldHVybiBhLm5lZWRzUHJvdG9IYWNrLmhhcyh0KT9uZXcgdC5jb25zdHJ1Y3Rvcjp0PT09bi5hcnJheT9bXTp7fTtjb25zdCBzPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtpZihzJiZzLmlzSW1tdXRhYmxlKXJldHVybiBlO2lmKHQ9PT1uLmFycmF5KXtjb25zdCBlPVtdO3JldHVybiBzIT09dCYmT2JqZWN0LnNldFByb3RvdHlwZU9mKGUscyksZX1pZihhLm5lZWRzUHJvdG9IYWNrLmhhcyh0KSl7Y29uc3QgZT1uZXcgcy5jb25zdHJ1Y3RvcjtyZXR1cm4gcyE9PXQmJk9iamVjdC5zZXRQcm90b3R5cGVPZihlLHMpLGV9cmV0dXJuIE9iamVjdC5jcmVhdGUocyl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcz1yKDApLG49cigzNCksbz1yKDEpLGE9cig5KTtlLmV4cG9ydHM9bi5leHRlbmQoe3R5cGU6XCJhbnlcIixmbGFnczp7b25seTp7ZGVmYXVsdDohMX19LHRlcm1zOnthbHRlcmF0aW9uczp7aW5pdDpudWxsfSxleGFtcGxlczp7aW5pdDpudWxsfSxleHRlcm5hbHM6e2luaXQ6bnVsbH0sbWV0YXM6e2luaXQ6W119LG5vdGVzOntpbml0OltdfSxzaGFyZWQ6e2luaXQ6bnVsbH0sdGFnczp7aW5pdDpbXX0sd2hlbnM6e2luaXQ6bnVsbH19LHJ1bGVzOntjdXN0b206e21ldGhvZChlLHQpe3JldHVybiBzKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUsXCJNZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpLHModm9pZCAwPT09dHx8dCYmXCJzdHJpbmdcIj09dHlwZW9mIHQsXCJEZXNjcmlwdGlvbiBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZ1wiKSx0aGlzLiRfYWRkUnVsZSh7bmFtZTpcImN1c3RvbVwiLGFyZ3M6e21ldGhvZDplLGRlc2NyaXB0aW9uOnR9fSl9LHZhbGlkYXRlKGUsdCx7bWV0aG9kOnJ9KXt0cnl7cmV0dXJuIHIoZSx0KX1jYXRjaChlKXtyZXR1cm4gdC5lcnJvcihcImFueS5jdXN0b21cIix7ZXJyb3I6ZX0pfX0sYXJnczpbXCJtZXRob2RcIixcImRlc2NyaXB0aW9uXCJdLG11bHRpOiEwfSxtZXNzYWdlczp7bWV0aG9kKGUpe3JldHVybiB0aGlzLnByZWZzKHttZXNzYWdlczplfSl9fSxzaGFyZWQ6e21ldGhvZChlKXtzKG8uaXNTY2hlbWEoZSkmJmUuX2ZsYWdzLmlkLFwiU2NoZW1hIG11c3QgYmUgYSBzY2hlbWEgd2l0aCBhbiBpZFwiKTtjb25zdCB0PXRoaXMuY2xvbmUoKTtyZXR1cm4gdC4kX3Rlcm1zLnNoYXJlZD10LiRfdGVybXMuc2hhcmVkfHxbXSx0LiRfdGVybXMuc2hhcmVkLnB1c2goZSksdC4kX211dGF0ZVJlZ2lzdGVyKGUpLHR9fSx3YXJuaW5nOnttZXRob2QoZSx0KXtyZXR1cm4gcyhlJiZcInN0cmluZ1wiPT10eXBlb2YgZSxcIkludmFsaWQgd2FybmluZyBjb2RlXCIpLHRoaXMuJF9hZGRSdWxlKHtuYW1lOlwid2FybmluZ1wiLGFyZ3M6e2NvZGU6ZSxsb2NhbDp0fSx3YXJuOiEwfSl9LHZhbGlkYXRlOihlLHQse2NvZGU6cixsb2NhbDpzfSk9PnQuZXJyb3IocixzKSxhcmdzOltcImNvZGVcIixcImxvY2FsXCJdLG11bHRpOiEwfX0sbW9kaWZpZXJzOntrZWVwKGUsdD0hMCl7ZS5rZWVwPXR9LG1lc3NhZ2UoZSx0KXtlLm1lc3NhZ2U9YS5jb21waWxlKHQpfSx3YXJuKGUsdD0hMCl7ZS53YXJuPXR9fSxtYW5pZmVzdDp7YnVpbGQoZSx0KXtmb3IoY29uc3QgciBpbiB0KXtjb25zdCBzPXRbcl07aWYoW1wiZXhhbXBsZXNcIixcImV4dGVybmFsc1wiLFwibWV0YXNcIixcIm5vdGVzXCIsXCJ0YWdzXCJdLmluY2x1ZGVzKHIpKWZvcihjb25zdCB0IG9mIHMpZT1lW3Iuc2xpY2UoMCwtMSldKHQpO2Vsc2UgaWYoXCJhbHRlcmF0aW9uc1wiIT09cilpZihcIndoZW5zXCIhPT1yKXtpZihcInNoYXJlZFwiPT09cilmb3IoY29uc3QgdCBvZiBzKWU9ZS5zaGFyZWQodCl9ZWxzZSBmb3IoY29uc3QgdCBvZiBzKXtjb25zdHtyZWY6cixpczpzLG5vdDpuLHRoZW46byxvdGhlcndpc2U6YSxjb25jYXQ6aX09dDtlPWk/ZS5jb25jYXQoaSk6cj9lLndoZW4ocix7aXM6cyxub3Q6bix0aGVuOm8sb3RoZXJ3aXNlOmEsc3dpdGNoOnQuc3dpdGNoLGJyZWFrOnQuYnJlYWt9KTplLndoZW4ocyx7dGhlbjpvLG90aGVyd2lzZTphLGJyZWFrOnQuYnJlYWt9KX1lbHNle2NvbnN0IHQ9e307Zm9yKGNvbnN0e3RhcmdldDplLGFkanVzdGVyOnJ9b2Ygcyl0W2VdPXI7ZT1lLmFsdGVyKHQpfX1yZXR1cm4gZX19LG1lc3NhZ2VzOntcImFueS5jdXN0b21cIjpcInt7I2xhYmVsfX0gZmFpbGVkIGN1c3RvbSB2YWxpZGF0aW9uIGJlY2F1c2Uge3sjZXJyb3IubWVzc2FnZX19XCIsXCJhbnkuZGVmYXVsdFwiOlwie3sjbGFiZWx9fSB0aHJldyBhbiBlcnJvciB3aGVuIHJ1bm5pbmcgZGVmYXVsdCBtZXRob2RcIixcImFueS5mYWlsb3ZlclwiOlwie3sjbGFiZWx9fSB0aHJldyBhbiBlcnJvciB3aGVuIHJ1bm5pbmcgZmFpbG92ZXIgbWV0aG9kXCIsXCJhbnkuaW52YWxpZFwiOlwie3sjbGFiZWx9fSBjb250YWlucyBhbiBpbnZhbGlkIHZhbHVlXCIsXCJhbnkub25seVwiOid7eyNsYWJlbH19IG11c3QgYmUge2lmKCN2YWxpZHMubGVuZ3RoID09IDEsIFwiXCIsIFwib25lIG9mIFwiKX17eyN2YWxpZHN9fScsXCJhbnkucmVmXCI6J3t7I2xhYmVsfX0ge3sjYXJnfX0gcmVmZXJlbmNlcyBcInt7I3JlZn19XCIgd2hpY2gge3sjcmVhc29ufX0nLFwiYW55LnJlcXVpcmVkXCI6XCJ7eyNsYWJlbH19IGlzIHJlcXVpcmVkXCIsXCJhbnkudW5rbm93blwiOlwie3sjbGFiZWx9fSBpcyBub3QgYWxsb3dlZFwifX0pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcz1yKDMyKSxuPXIoMSksbz1yKDcpO3QuUmVwb3J0PWNsYXNze2NvbnN0cnVjdG9yKGUscixzLG4sbyxhLGkpe2lmKHRoaXMuY29kZT1lLHRoaXMuZmxhZ3M9bix0aGlzLm1lc3NhZ2VzPW8sdGhpcy5wYXRoPWEucGF0aCx0aGlzLnByZWZzPWksdGhpcy5zdGF0ZT1hLHRoaXMudmFsdWU9cix0aGlzLm1lc3NhZ2U9bnVsbCx0aGlzLnRlbXBsYXRlPW51bGwsdGhpcy5sb2NhbD1zfHx7fSx0aGlzLmxvY2FsLmxhYmVsPXQubGFiZWwodGhpcy5mbGFncyx0aGlzLnN0YXRlLHRoaXMucHJlZnMsdGhpcy5tZXNzYWdlcyksdm9pZCAwPT09dGhpcy52YWx1ZXx8dGhpcy5sb2NhbC5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpfHwodGhpcy5sb2NhbC52YWx1ZT10aGlzLnZhbHVlKSx0aGlzLnBhdGgubGVuZ3RoKXtjb25zdCBlPXRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoLTFdO1wib2JqZWN0XCIhPXR5cGVvZiBlJiYodGhpcy5sb2NhbC5rZXk9ZSl9fV9zZXRUZW1wbGF0ZShlKXtpZih0aGlzLnRlbXBsYXRlPWUsIXRoaXMuZmxhZ3MubGFiZWwmJjA9PT10aGlzLnBhdGgubGVuZ3RoKXtjb25zdCBlPXRoaXMuX3RlbXBsYXRlKHRoaXMudGVtcGxhdGUsXCJyb290XCIpO2UmJih0aGlzLmxvY2FsLmxhYmVsPWUpfX10b1N0cmluZygpe2lmKHRoaXMubWVzc2FnZSlyZXR1cm4gdGhpcy5tZXNzYWdlO2NvbnN0IGU9dGhpcy5jb2RlO2lmKCF0aGlzLnByZWZzLmVycm9ycy5yZW5kZXIpcmV0dXJuIHRoaXMuY29kZTtjb25zdCB0PXRoaXMuX3RlbXBsYXRlKHRoaXMudGVtcGxhdGUpfHx0aGlzLl90ZW1wbGF0ZSh0aGlzLnByZWZzLm1lc3NhZ2VzKXx8dGhpcy5fdGVtcGxhdGUodGhpcy5tZXNzYWdlcyk7cmV0dXJuIHZvaWQgMD09PXQ/J0Vycm9yIGNvZGUgXCInLmNvbmNhdChlLCdcIiBpcyBub3QgZGVmaW5lZCwgeW91ciBjdXN0b20gdHlwZSBpcyBtaXNzaW5nIHRoZSBjb3JyZWN0IG1lc3NhZ2VzIGRlZmluaXRpb24nKToodGhpcy5tZXNzYWdlPXQucmVuZGVyKHRoaXMudmFsdWUsdGhpcy5zdGF0ZSx0aGlzLnByZWZzLHRoaXMubG9jYWwse2Vycm9yczp0aGlzLnByZWZzLmVycm9ycyxtZXNzYWdlczpbdGhpcy5wcmVmcy5tZXNzYWdlcyx0aGlzLm1lc3NhZ2VzXX0pLHRoaXMucHJlZnMuZXJyb3JzLmxhYmVsfHwodGhpcy5tZXNzYWdlPXRoaXMubWVzc2FnZS5yZXBsYWNlKC9eXCJcIiAvLFwiXCIpLnRyaW0oKSksdGhpcy5tZXNzYWdlKX1fdGVtcGxhdGUoZSxyKXtyZXR1cm4gdC50ZW1wbGF0ZSh0aGlzLnZhbHVlLGUscnx8dGhpcy5jb2RlLHRoaXMuc3RhdGUsdGhpcy5wcmVmcyl9fSx0LnBhdGg9ZnVuY3Rpb24oZSl7bGV0IHQ9XCJcIjtmb3IoY29uc3QgciBvZiBlKVwib2JqZWN0XCIhPXR5cGVvZiByJiYoXCJzdHJpbmdcIj09dHlwZW9mIHI/KHQmJih0Kz1cIi5cIiksdCs9cik6dCs9XCJbXCIuY29uY2F0KHIsXCJdXCIpKTtyZXR1cm4gdH0sdC50ZW1wbGF0ZT1mdW5jdGlvbihlLHQscixzLGEpe2lmKCF0KXJldHVybjtpZihvLmlzVGVtcGxhdGUodCkpcmV0dXJuXCJyb290XCIhPT1yP3Q6bnVsbDtsZXQgaT1hLmVycm9ycy5sYW5ndWFnZTtyZXR1cm4gbi5pc1Jlc29sdmFibGUoaSkmJihpPWkucmVzb2x2ZShlLHMsYSkpLGkmJnRbaV0mJnZvaWQgMCE9PXRbaV1bcl0/dFtpXVtyXTp0W3JdfSx0LmxhYmVsPWZ1bmN0aW9uKGUscixzLG4pe2lmKGUubGFiZWwpcmV0dXJuIGUubGFiZWw7aWYoIXMuZXJyb3JzLmxhYmVsKXJldHVyblwiXCI7bGV0IG89ci5wYXRoO1wia2V5XCI9PT1zLmVycm9ycy5sYWJlbCYmci5wYXRoLmxlbmd0aD4xJiYobz1yLnBhdGguc2xpY2UoLTEpKTtjb25zdCBhPXQucGF0aChvKTtyZXR1cm4gYXx8KHQudGVtcGxhdGUobnVsbCxzLm1lc3NhZ2VzLFwicm9vdFwiLHIscyl8fG4mJnQudGVtcGxhdGUobnVsbCxuLFwicm9vdFwiLHIscyl8fFwidmFsdWVcIil9LHQucHJvY2Vzcz1mdW5jdGlvbihlLHIscyl7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3R7b3ZlcnJpZGU6bixtZXNzYWdlOm8sZGV0YWlsczphfT10LmRldGFpbHMoZSk7aWYobilyZXR1cm4gbjtpZihzLmVycm9ycy5zdGFjaylyZXR1cm4gbmV3IHQuVmFsaWRhdGlvbkVycm9yKG8sYSxyKTtjb25zdCBpPUVycm9yLnN0YWNrVHJhY2VMaW1pdDtFcnJvci5zdGFja1RyYWNlTGltaXQ9MDtjb25zdCBsPW5ldyB0LlZhbGlkYXRpb25FcnJvcihvLGEscik7cmV0dXJuIEVycm9yLnN0YWNrVHJhY2VMaW1pdD1pLGx9LHQuZGV0YWlscz1mdW5jdGlvbihlLHQ9e30pe2xldCByPVtdO2NvbnN0IHM9W107Zm9yKGNvbnN0IG4gb2YgZSl7aWYobiBpbnN0YW5jZW9mIEVycm9yKXtpZighMSE9PXQub3ZlcnJpZGUpcmV0dXJue292ZXJyaWRlOm59O2NvbnN0IGU9bi50b1N0cmluZygpO3IucHVzaChlKSxzLnB1c2goe21lc3NhZ2U6ZSx0eXBlOlwib3ZlcnJpZGVcIixjb250ZXh0OntlcnJvcjpufX0pO2NvbnRpbnVlfWNvbnN0IGU9bi50b1N0cmluZygpO3IucHVzaChlKSxzLnB1c2goe21lc3NhZ2U6ZSxwYXRoOm4ucGF0aC5maWx0ZXIoZT0+XCJvYmplY3RcIiE9dHlwZW9mIGUpLHR5cGU6bi5jb2RlLGNvbnRleHQ6bi5sb2NhbH0pfXJldHVybiByLmxlbmd0aD4xJiYocj1bLi4ubmV3IFNldChyKV0pLHttZXNzYWdlOnIuam9pbihcIi4gXCIpLGRldGFpbHM6c319LHQuVmFsaWRhdGlvbkVycm9yPWNsYXNzIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKGUpLHRoaXMuX29yaWdpbmFsPXIsdGhpcy5kZXRhaWxzPXR9c3RhdGljIGlzRXJyb3IoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0LlZhbGlkYXRpb25FcnJvcn19LHQuVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZS5pc0pvaT0hMCx0LlZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUubmFtZT1cIlZhbGlkYXRpb25FcnJvclwiLHQuVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZS5hbm5vdGF0ZT1zLmVycm9yfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcz1yKDApLG49cigyKSxvPXIoNiksYT1yKDEpO2xldCBpO2NvbnN0IGw9e3N5bWJvbDpTeW1ib2woXCJyZWZcIiksZGVmYXVsdHM6e2FkanVzdDpudWxsLGluOiExLGl0ZXJhYmxlczpudWxsLG1hcDpudWxsLHNlcGFyYXRvcjpcIi5cIix0eXBlOlwidmFsdWVcIn19O3QuY3JlYXRlPWZ1bmN0aW9uKGUsdD17fSl7cyhcInN0cmluZ1wiPT10eXBlb2YgZSxcIkludmFsaWQgcmVmZXJlbmNlIGtleTpcIixlKSxhLmFzc2VydE9wdGlvbnModCxbXCJhZGp1c3RcIixcImFuY2VzdG9yXCIsXCJpblwiLFwiaXRlcmFibGVzXCIsXCJtYXBcIixcInByZWZpeFwiLFwic2VwYXJhdG9yXCJdKSxzKCF0LnByZWZpeHx8XCJvYmplY3RcIj09dHlwZW9mIHQucHJlZml4LFwib3B0aW9ucy5wcmVmaXggbXVzdCBiZSBvZiB0eXBlIG9iamVjdFwiKTtjb25zdCByPU9iamVjdC5hc3NpZ24oe30sbC5kZWZhdWx0cyx0KTtkZWxldGUgci5wcmVmaXg7Y29uc3Qgbj1yLnNlcGFyYXRvcixvPWwuY29udGV4dChlLG4sdC5wcmVmaXgpO2lmKHIudHlwZT1vLnR5cGUsZT1vLmtleSxcInZhbHVlXCI9PT1yLnR5cGUpaWYoby5yb290JiYocyghbnx8ZVswXSE9PW4sXCJDYW5ub3Qgc3BlY2lmeSByZWxhdGl2ZSBwYXRoIHdpdGggcm9vdCBwcmVmaXhcIiksci5hbmNlc3Rvcj1cInJvb3RcIixlfHwoZT1udWxsKSksbiYmbj09PWUpZT1udWxsLHIuYW5jZXN0b3I9MDtlbHNlIGlmKHZvaWQgMCE9PXIuYW5jZXN0b3Ipcyghbnx8IWV8fGVbMF0hPT1uLFwiQ2Fubm90IGNvbWJpbmUgcHJlZml4IHdpdGggYW5jZXN0b3Igb3B0aW9uXCIpO2Vsc2V7Y29uc3RbdCxzXT1sLmFuY2VzdG9yKGUsbik7cyYmXCJcIj09PShlPWUuc2xpY2UocykpJiYoZT1udWxsKSxyLmFuY2VzdG9yPXR9cmV0dXJuIHIucGF0aD1uP251bGw9PT1lP1tdOmUuc3BsaXQobik6W2VdLG5ldyBsLlJlZihyKX0sdC5pbj1mdW5jdGlvbihlLHI9e30pe3JldHVybiB0LmNyZWF0ZShlLE9iamVjdC5hc3NpZ24oe30scix7aW46ITB9KSl9LHQuaXNSZWY9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYhIWVbYS5zeW1ib2xzLnJlZl19LGwuUmVmPWNsYXNze2NvbnN0cnVjdG9yKGUpe3MoXCJvYmplY3RcIj09dHlwZW9mIGUsXCJJbnZhbGlkIHJlZmVyZW5jZSBjb25zdHJ1Y3Rpb25cIiksYS5hc3NlcnRPcHRpb25zKGUsW1wiYWRqdXN0XCIsXCJhbmNlc3RvclwiLFwiaW5cIixcIml0ZXJhYmxlc1wiLFwibWFwXCIsXCJwYXRoXCIsXCJzZXBhcmF0b3JcIixcInR5cGVcIixcImRlcHRoXCIsXCJrZXlcIixcInJvb3RcIixcImRpc3BsYXlcIl0pLHMoWyExLHZvaWQgMF0uaW5jbHVkZXMoZS5zZXBhcmF0b3IpfHxcInN0cmluZ1wiPT10eXBlb2YgZS5zZXBhcmF0b3ImJjE9PT1lLnNlcGFyYXRvci5sZW5ndGgsXCJJbnZhbGlkIHNlcGFyYXRvclwiKSxzKCFlLmFkanVzdHx8XCJmdW5jdGlvblwiPT10eXBlb2YgZS5hZGp1c3QsXCJvcHRpb25zLmFkanVzdCBtdXN0IGJlIGEgZnVuY3Rpb25cIikscyghZS5tYXB8fEFycmF5LmlzQXJyYXkoZS5tYXApLFwib3B0aW9ucy5tYXAgbXVzdCBiZSBhbiBhcnJheVwiKSxzKCFlLm1hcHx8IWUuYWRqdXN0LFwiQ2Fubm90IHNldCBib3RoIG1hcCBhbmQgYWRqdXN0IG9wdGlvbnNcIiksT2JqZWN0LmFzc2lnbih0aGlzLGwuZGVmYXVsdHMsZSkscyhcInZhbHVlXCI9PT10aGlzLnR5cGV8fHZvaWQgMD09PXRoaXMuYW5jZXN0b3IsXCJOb24tdmFsdWUgcmVmZXJlbmNlcyBjYW5ub3QgcmVmZXJlbmNlIGFuY2VzdG9yc1wiKSxBcnJheS5pc0FycmF5KHRoaXMubWFwKSYmKHRoaXMubWFwPW5ldyBNYXAodGhpcy5tYXApKSx0aGlzLmRlcHRoPXRoaXMucGF0aC5sZW5ndGgsdGhpcy5rZXk9dGhpcy5wYXRoLmxlbmd0aD90aGlzLnBhdGguam9pbih0aGlzLnNlcGFyYXRvcik6bnVsbCx0aGlzLnJvb3Q9dGhpcy5wYXRoWzBdLHRoaXMudXBkYXRlRGlzcGxheSgpfXJlc29sdmUoZSx0LHIsbixvPXt9KXtyZXR1cm4gcyghdGhpcy5pbnx8by5pbixcIkludmFsaWQgaW4oKSByZWZlcmVuY2UgdXNhZ2VcIiksXCJnbG9iYWxcIj09PXRoaXMudHlwZT90aGlzLl9yZXNvbHZlKHIuY29udGV4dCx0LG8pOlwibG9jYWxcIj09PXRoaXMudHlwZT90aGlzLl9yZXNvbHZlKG4sdCxvKTp0aGlzLmFuY2VzdG9yP1wicm9vdFwiPT09dGhpcy5hbmNlc3Rvcj90aGlzLl9yZXNvbHZlKHQuYW5jZXN0b3JzW3QuYW5jZXN0b3JzLmxlbmd0aC0xXSx0LG8pOihzKHRoaXMuYW5jZXN0b3I8PXQuYW5jZXN0b3JzLmxlbmd0aCxcIkludmFsaWQgcmVmZXJlbmNlIGV4Y2VlZHMgdGhlIHNjaGVtYSByb290OlwiLHRoaXMuZGlzcGxheSksdGhpcy5fcmVzb2x2ZSh0LmFuY2VzdG9yc1t0aGlzLmFuY2VzdG9yLTFdLHQsbykpOnRoaXMuX3Jlc29sdmUoZSx0LG8pfV9yZXNvbHZlKGUsdCxyKXtsZXQgcztpZihcInZhbHVlXCI9PT10aGlzLnR5cGUmJnQubWFpbnN0YXkuc2hhZG93JiYhMSE9PXIuc2hhZG93JiYocz10Lm1haW5zdGF5LnNoYWRvdy5nZXQodGhpcy5hYnNvbHV0ZSh0KSkpLHZvaWQgMD09PXMmJihzPW8oZSx0aGlzLnBhdGgse2l0ZXJhYmxlczp0aGlzLml0ZXJhYmxlcyxmdW5jdGlvbnM6ITB9KSksdGhpcy5hZGp1c3QmJihzPXRoaXMuYWRqdXN0KHMpKSx0aGlzLm1hcCl7Y29uc3QgZT10aGlzLm1hcC5nZXQocyk7dm9pZCAwIT09ZSYmKHM9ZSl9cmV0dXJuIHQubWFpbnN0YXkmJnQubWFpbnN0YXkudHJhY2VyLnJlc29sdmUodCx0aGlzLHMpLHN9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5kaXNwbGF5fWFic29sdXRlKGUpe3JldHVyblsuLi5lLnBhdGguc2xpY2UoMCwtdGhpcy5hbmNlc3RvciksLi4udGhpcy5wYXRoXX1jbG9uZSgpe3JldHVybiBuZXcgbC5SZWYodGhpcyl9ZGVzY3JpYmUoKXtjb25zdCBlPXtwYXRoOnRoaXMucGF0aH07XCJ2YWx1ZVwiIT09dGhpcy50eXBlJiYoZS50eXBlPXRoaXMudHlwZSksXCIuXCIhPT10aGlzLnNlcGFyYXRvciYmKGUuc2VwYXJhdG9yPXRoaXMuc2VwYXJhdG9yKSxcInZhbHVlXCI9PT10aGlzLnR5cGUmJjEhPT10aGlzLmFuY2VzdG9yJiYoZS5hbmNlc3Rvcj10aGlzLmFuY2VzdG9yKSx0aGlzLm1hcCYmKGUubWFwPVsuLi50aGlzLm1hcF0pO2Zvcihjb25zdCB0IG9mW1wiYWRqdXN0XCIsXCJpdGVyYWJsZXNcIl0pbnVsbCE9PXRoaXNbdF0mJihlW3RdPXRoaXNbdF0pO3JldHVybiExIT09dGhpcy5pbiYmKGUuaW49ITApLHtyZWY6ZX19dXBkYXRlRGlzcGxheSgpe2NvbnN0IGU9bnVsbCE9PXRoaXMua2V5P3RoaXMua2V5OlwiXCI7aWYoXCJ2YWx1ZVwiIT09dGhpcy50eXBlKXJldHVybiB2b2lkKHRoaXMuZGlzcGxheT1cInJlZjpcIi5jb25jYXQodGhpcy50eXBlLFwiOlwiKS5jb25jYXQoZSkpO2lmKCF0aGlzLnNlcGFyYXRvcilyZXR1cm4gdm9pZCh0aGlzLmRpc3BsYXk9XCJyZWY6XCIuY29uY2F0KGUpKTtpZighdGhpcy5hbmNlc3RvcilyZXR1cm4gdm9pZCh0aGlzLmRpc3BsYXk9XCJyZWY6XCIuY29uY2F0KHRoaXMuc2VwYXJhdG9yKS5jb25jYXQoZSkpO2lmKFwicm9vdFwiPT09dGhpcy5hbmNlc3RvcilyZXR1cm4gdm9pZCh0aGlzLmRpc3BsYXk9XCJyZWY6cm9vdDpcIi5jb25jYXQoZSkpO2lmKDE9PT10aGlzLmFuY2VzdG9yKXJldHVybiB2b2lkKHRoaXMuZGlzcGxheT1cInJlZjpcIi5jb25jYXQoZXx8XCIuLlwiKSk7Y29uc3QgdD1uZXcgQXJyYXkodGhpcy5hbmNlc3RvcisxKS5maWxsKHRoaXMuc2VwYXJhdG9yKS5qb2luKFwiXCIpO3RoaXMuZGlzcGxheT1cInJlZjpcIi5jb25jYXQodCkuY29uY2F0KGV8fFwiXCIpfX0sbC5SZWYucHJvdG90eXBlW2Euc3ltYm9scy5yZWZdPSEwLHQuYnVpbGQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJ2YWx1ZVwiPT09KGU9T2JqZWN0LmFzc2lnbih7fSxsLmRlZmF1bHRzLGUpKS50eXBlJiZ2b2lkIDA9PT1lLmFuY2VzdG9yJiYoZS5hbmNlc3Rvcj0xKSxuZXcgbC5SZWYoZSl9LGwuY29udGV4dD1mdW5jdGlvbihlLHQscj17fSl7aWYoZT1lLnRyaW0oKSxyKXtjb25zdCBzPXZvaWQgMD09PXIuZ2xvYmFsP1wiJFwiOnIuZ2xvYmFsO2lmKHMhPT10JiZlLnN0YXJ0c1dpdGgocykpcmV0dXJue2tleTplLnNsaWNlKHMubGVuZ3RoKSx0eXBlOlwiZ2xvYmFsXCJ9O2NvbnN0IG49dm9pZCAwPT09ci5sb2NhbD9cIiNcIjpyLmxvY2FsO2lmKG4hPT10JiZlLnN0YXJ0c1dpdGgobikpcmV0dXJue2tleTplLnNsaWNlKG4ubGVuZ3RoKSx0eXBlOlwibG9jYWxcIn07Y29uc3Qgbz12b2lkIDA9PT1yLnJvb3Q/XCIvXCI6ci5yb290O2lmKG8hPT10JiZlLnN0YXJ0c1dpdGgobykpcmV0dXJue2tleTplLnNsaWNlKG8ubGVuZ3RoKSx0eXBlOlwidmFsdWVcIixyb290OiEwfX1yZXR1cm57a2V5OmUsdHlwZTpcInZhbHVlXCJ9fSxsLmFuY2VzdG9yPWZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuWzEsMF07aWYoZVswXSE9PXQpcmV0dXJuWzEsMF07aWYoZVsxXSE9PXQpcmV0dXJuWzAsMV07bGV0IHI9Mjtmb3IoO2Vbcl09PT10OykrK3I7cmV0dXJuW3ItMSxyXX0sdC50b1NpYmxpbmc9MCx0LnRvUGFyZW50PTEsdC5NYW5hZ2VyPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5yZWZzPVtdfXJlZ2lzdGVyKGUscyl7aWYoZSlpZihzPXZvaWQgMD09PXM/dC50b1BhcmVudDpzLEFycmF5LmlzQXJyYXkoZSkpZm9yKGNvbnN0IHQgb2YgZSl0aGlzLnJlZ2lzdGVyKHQscyk7ZWxzZSBpZihhLmlzU2NoZW1hKGUpKWZvcihjb25zdCB0IG9mIGUuX3JlZnMucmVmcyl0LmFuY2VzdG9yLXM+PTAmJnRoaXMucmVmcy5wdXNoKHthbmNlc3Rvcjp0LmFuY2VzdG9yLXMscm9vdDp0LnJvb3R9KTtlbHNlIHQuaXNSZWYoZSkmJlwidmFsdWVcIj09PWUudHlwZSYmZS5hbmNlc3Rvci1zPj0wJiZ0aGlzLnJlZnMucHVzaCh7YW5jZXN0b3I6ZS5hbmNlc3Rvci1zLHJvb3Q6ZS5yb290fSksaT1pfHxyKDcpLGkuaXNUZW1wbGF0ZShlKSYmdGhpcy5yZWdpc3RlcihlLnJlZnMoKSxzKX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMucmVmcy5sZW5ndGh9Y2xvbmUoKXtjb25zdCBlPW5ldyB0Lk1hbmFnZXI7cmV0dXJuIGUucmVmcz1uKHRoaXMucmVmcyksZX1yZXNldCgpe3RoaXMucmVmcz1bXX1yb290cygpe3JldHVybiB0aGlzLnJlZnMuZmlsdGVyKGU9PiFlLmFuY2VzdG9yKS5tYXAoZT0+ZS5yb290KX19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcz1yKDApLG49e307ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighMT09PXR8fG51bGw9PXQpcmV0dXJuIGU7XCJzdHJpbmdcIj09dHlwZW9mKHI9cnx8e30pJiYocj17c2VwYXJhdG9yOnJ9KTtjb25zdCBvPUFycmF5LmlzQXJyYXkodCk7cyghb3x8IXIuc2VwYXJhdG9yLFwiU2VwYXJhdG9yIG9wdGlvbiBubyB2YWxpZCBmb3IgYXJyYXktYmFzZWQgY2hhaW5cIik7Y29uc3QgYT1vP3Q6dC5zcGxpdChyLnNlcGFyYXRvcnx8XCIuXCIpO2xldCBpPWU7Zm9yKGxldCBlPTA7ZTxhLmxlbmd0aDsrK2Upe2xldCBvPWFbZV07Y29uc3QgbD1yLml0ZXJhYmxlcyYmbi5pdGVyYWJsZXMoaSk7aWYoQXJyYXkuaXNBcnJheShpKXx8XCJzZXRcIj09PWwpe2NvbnN0IGU9TnVtYmVyKG8pO051bWJlci5pc0ludGVnZXIoZSkmJihvPWU8MD9pLmxlbmd0aCtlOmUpfWlmKCFpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiYhMT09PXIuZnVuY3Rpb25zfHwhbCYmdm9pZCAwPT09aVtvXSl7cyghci5zdHJpY3R8fGUrMT09PWEubGVuZ3RoLFwiTWlzc2luZyBzZWdtZW50XCIsbyxcImluIHJlYWNoIHBhdGggXCIsdCkscyhcIm9iamVjdFwiPT10eXBlb2YgaXx8ITA9PT1yLmZ1bmN0aW9uc3x8XCJmdW5jdGlvblwiIT10eXBlb2YgaSxcIkludmFsaWQgc2VnbWVudFwiLG8sXCJpbiByZWFjaCBwYXRoIFwiLHQpLGk9ci5kZWZhdWx0O2JyZWFrfWk9bD9cInNldFwiPT09bD9bLi4uaV1bb106aS5nZXQobyk6aVtvXX1yZXR1cm4gaX0sbi5pdGVyYWJsZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBTZXQ/XCJzZXRcIjplIGluc3RhbmNlb2YgTWFwP1wibWFwXCI6dm9pZCAwfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IHM9cigwKSxuPXIoMiksbz1yKDMwKSxhPXIoMzEpLGk9cigxKSxsPXIoNCksYz1yKDUpLHU9e3N5bWJvbDpTeW1ib2woXCJ0ZW1wbGF0ZVwiKSxvcGVuczpuZXcgQXJyYXkoMWUzKS5qb2luKFwiXFwwXCIpLGNsb3NlczpuZXcgQXJyYXkoMWUzKS5qb2luKFwiXHUwMDAxXCIpLGRhdGVGb3JtYXQ6e2RhdGU6RGF0ZS5wcm90b3R5cGUudG9EYXRlU3RyaW5nLGlzbzpEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZyxzdHJpbmc6RGF0ZS5wcm90b3R5cGUudG9TdHJpbmcsdGltZTpEYXRlLnByb3RvdHlwZS50b1RpbWVTdHJpbmcsdXRjOkRhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nfX07ZS5leHBvcnRzPXUuVGVtcGxhdGU9Y2xhc3N7Y29uc3RydWN0b3IoZSx0KXtzKFwic3RyaW5nXCI9PXR5cGVvZiBlLFwiVGVtcGxhdGUgc291cmNlIG11c3QgYmUgYSBzdHJpbmdcIikscyghZS5pbmNsdWRlcyhcIlxcMFwiKSYmIWUuaW5jbHVkZXMoXCJcdTAwMDFcIiksXCJUZW1wbGF0ZSBzb3VyY2UgY2Fubm90IGNvbnRhaW4gcmVzZXJ2ZWQgY29udHJvbCBjaGFyYWN0ZXJzXCIpLHRoaXMuc291cmNlPWUsdGhpcy5yZW5kZXJlZD1lLHRoaXMuX3RlbXBsYXRlPW51bGwsdGhpcy5fc2V0dGluZ3M9bih0KSx0aGlzLl9wYXJzZSgpfV9wYXJzZSgpe2lmKCF0aGlzLnNvdXJjZS5pbmNsdWRlcyhcIntcIikpcmV0dXJuO2NvbnN0IGU9dS5lbmNvZGUodGhpcy5zb3VyY2UpLHQ9dS5zcGxpdChlKTtsZXQgcj0hMTtjb25zdCBzPVtdLG49dC5zaGlmdCgpO24mJnMucHVzaChuKTtmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PVwie1wiIT09ZVswXSxuPXQ/XCJ9XCI6XCJ9fVwiLG89ZS5pbmRleE9mKG4pO2lmKC0xPT09b3x8XCJ7XCI9PT1lWzFdKXtzLnB1c2goXCJ7XCIuY29uY2F0KHUuZGVjb2RlKGUpKSk7Y29udGludWV9Y29uc3QgYT1lLnNsaWNlKHQ/MDoxLG8pLGk9dGhpcy5fcmVmKHUuZGVjb2RlKGEpLHQpO3MucHVzaChpKSxcInN0cmluZ1wiIT10eXBlb2YgaSYmKHI9ITApO2NvbnN0IGw9ZS5zbGljZShvK24ubGVuZ3RoKTtsJiZzLnB1c2godS5kZWNvZGUobCkpfXI/dGhpcy5fdGVtcGxhdGU9czp0aGlzLnJlbmRlcmVkPXMuam9pbihcIlwiKX1zdGF0aWMgZGF0ZShlLHQpe3JldHVybiB1LmRhdGVGb3JtYXRbdC5kYXRlRm9ybWF0XS5jYWxsKGUpfWRlc2NyaWJlKGU9e30pe2lmKCF0aGlzLl9zZXR0aW5ncyYmZS5jb21wYWN0KXJldHVybiB0aGlzLnNvdXJjZTtjb25zdCB0PXt0ZW1wbGF0ZTp0aGlzLnNvdXJjZX07cmV0dXJuIHRoaXMuX3NldHRpbmdzJiYodC5vcHRpb25zPXRoaXMuX3NldHRpbmdzKSx0fXN0YXRpYyBidWlsZChlKXtyZXR1cm4gbmV3IHUuVGVtcGxhdGUoZS50ZW1wbGF0ZSxlLm9wdGlvbnMpfWlzRHluYW1pYygpe3JldHVybiEhdGhpcy5fdGVtcGxhdGV9c3RhdGljIGlzVGVtcGxhdGUoZSl7cmV0dXJuISFlJiYhIWVbaS5zeW1ib2xzLnRlbXBsYXRlXX1yZWZzKCl7aWYoIXRoaXMuX3RlbXBsYXRlKXJldHVybjtjb25zdCBlPVtdO2Zvcihjb25zdCB0IG9mIHRoaXMuX3RlbXBsYXRlKVwic3RyaW5nXCIhPXR5cGVvZiB0JiZlLnB1c2goLi4udC5yZWZzKTtyZXR1cm4gZX1yZXNvbHZlKGUsdCxyLHMpe3JldHVybiB0aGlzLl90ZW1wbGF0ZSYmMT09PXRoaXMuX3RlbXBsYXRlLmxlbmd0aD90aGlzLl9wYXJ0KHRoaXMuX3RlbXBsYXRlWzBdLGUsdCxyLHMse30pOnRoaXMucmVuZGVyKGUsdCxyLHMpfV9wYXJ0KGUsLi4udCl7cmV0dXJuIGUucmVmP2UucmVmLnJlc29sdmUoLi4udCk6ZS5mb3JtdWxhLmV2YWx1YXRlKHQpfXJlbmRlcihlLHQscixzLG49e30pe2lmKCF0aGlzLmlzRHluYW1pYygpKXJldHVybiB0aGlzLnJlbmRlcmVkO2NvbnN0IGE9W107Zm9yKGNvbnN0IGkgb2YgdGhpcy5fdGVtcGxhdGUpaWYoXCJzdHJpbmdcIj09dHlwZW9mIGkpYS5wdXNoKGkpO2Vsc2V7Y29uc3QgbD10aGlzLl9wYXJ0KGksZSx0LHIscyxuKSxjPXUuc3RyaW5naWZ5KGwscixuLmVycm9ycyk7aWYodm9pZCAwIT09Yyl7Y29uc3QgZT1pLnJhd3x8ITE9PT0obi5lcnJvcnMmJm4uZXJyb3JzLmVzY2FwZUh0bWwpP2M6byhjKSx0PWkucmVmJiZcImxvY2FsXCI9PT1pLnJlZi50eXBlJiZcImxhYmVsXCI9PT1pLnJlZi5rZXkmJnIuZXJyb3JzLndyYXAubGFiZWw7YS5wdXNoKHUud3JhcChlLHQpKX19cmV0dXJuIGEuam9pbihcIlwiKX1fcmVmKGUsdCl7Y29uc3Qgcj1bXSxzPWU9Pntjb25zdCB0PWMuY3JlYXRlKGUsdGhpcy5fc2V0dGluZ3MpO3JldHVybiByLnB1c2godCksZT0+dC5yZXNvbHZlKC4uLmUpfTt0cnl7dmFyIG49bmV3IGEuUGFyc2VyKGUse3JlZmVyZW5jZTpzLGZ1bmN0aW9uczp1LmZ1bmN0aW9ucyxjb25zdGFudHM6dS5jb25zdGFudHN9KX1jYXRjaCh0KXt0aHJvdyB0Lm1lc3NhZ2U9J0ludmFsaWQgdGVtcGxhdGUgdmFyaWFibGUgXCInLmNvbmNhdChlLCdcIiBmYWlscyBkdWUgdG86ICcpLmNvbmNhdCh0Lm1lc3NhZ2UpLHR9cmV0dXJuIG4uc2luZ2xlP1wicmVmZXJlbmNlXCI9PT1uLnNpbmdsZS50eXBlP3tyZWY6clswXSxyYXc6dCxyZWZzOnJ9OnUuc3RyaW5naWZ5KG4uc2luZ2xlLnZhbHVlKTp7Zm9ybXVsYTpuLHJhdzp0LHJlZnM6cn19dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5zb3VyY2V9fSx1LlRlbXBsYXRlLnByb3RvdHlwZVtpLnN5bWJvbHMudGVtcGxhdGVdPSEwLHUuVGVtcGxhdGUucHJvdG90eXBlLmlzSW1tdXRhYmxlPSEwLHUuZW5jb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1xcXFwoXFx7KykvZywoZSx0KT0+dS5vcGVucy5zbGljZSgwLHQubGVuZ3RoKSkucmVwbGFjZSgvXFxcXChcXH0rKS9nLChlLHQpPT51LmNsb3Nlcy5zbGljZSgwLHQubGVuZ3RoKSl9LHUuZGVjb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1xcdTAwMDAvZyxcIntcIikucmVwbGFjZSgvXFx1MDAwMS9nLFwifVwiKX0sdS5zcGxpdD1mdW5jdGlvbihlKXtjb25zdCB0PVtdO2xldCByPVwiXCI7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDsrK3Mpe2NvbnN0IG49ZVtzXTtpZihcIntcIj09PW4pe2xldCBuPVwiXCI7Zm9yKDtzKzE8ZS5sZW5ndGgmJlwie1wiPT09ZVtzKzFdOyluKz1cIntcIiwrK3M7dC5wdXNoKHIpLHI9bn1lbHNlIHIrPW59cmV0dXJuIHQucHVzaChyKSx0fSx1LndyYXA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8xPT09dC5sZW5ndGg/XCJcIi5jb25jYXQodCkuY29uY2F0KGUpLmNvbmNhdCh0KTpcIlwiLmNvbmNhdCh0WzBdKS5jb25jYXQoZSkuY29uY2F0KHRbMV0pOmV9LHUuc3RyaW5naWZ5PWZ1bmN0aW9uKGUsdCxyKXtjb25zdCBzPXR5cGVvZiBlO2lmKG51bGw9PT1lKXJldHVyblwibnVsbFwiO2lmKFwic3RyaW5nXCI9PT1zKXJldHVybiBlO2lmKFwibnVtYmVyXCI9PT1zfHxcImZ1bmN0aW9uXCI9PT1zfHxcInN5bWJvbFwiPT09cylyZXR1cm4gZS50b1N0cmluZygpO2lmKFwib2JqZWN0XCIhPT1zKXJldHVybiBKU09OLnN0cmluZ2lmeShlKTtpZihlIGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gdS5UZW1wbGF0ZS5kYXRlKGUsdCk7aWYoZSBpbnN0YW5jZW9mIE1hcCl7Y29uc3QgdD1bXTtmb3IoY29uc3RbcixzXW9mIGUuZW50cmllcygpKXQucHVzaChcIlwiLmNvbmNhdChyLnRvU3RyaW5nKCksXCIgLT4gXCIpLmNvbmNhdChzLnRvU3RyaW5nKCkpKTtlPXR9aWYoIUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGUudG9TdHJpbmcoKTtsZXQgbj1cIlwiO2Zvcihjb25zdCBzIG9mIGUpbj1uKyhuLmxlbmd0aD9cIiwgXCI6XCJcIikrdS5zdHJpbmdpZnkocyx0LHIpO3JldHVybiB1LndyYXAobix0LmVycm9ycy53cmFwLmFycmF5KX0sdS5jb25zdGFudHM9e3RydWU6ITAsZmFsc2U6ITEsbnVsbDpudWxsLHNlY29uZDoxZTMsbWludXRlOjZlNCxob3VyOjM2ZTUsZGF5Ojg2NGU1fSx1LmZ1bmN0aW9ucz17aWY6KGUsdCxyKT0+ZT90OnIsbXNnKGUpe2NvbnN0W3QscixzLG4sb109dGhpcyxhPW8ubWVzc2FnZXM7aWYoIWEpcmV0dXJuXCJcIjtjb25zdCBpPWwudGVtcGxhdGUodCxhWzBdLGUscixzKXx8bC50ZW1wbGF0ZSh0LGFbMV0sZSxyLHMpO3JldHVybiBpP2kucmVuZGVyKHQscixzLG4sbyk6XCJcIn0sbnVtYmVyOmU9PlwibnVtYmVyXCI9PXR5cGVvZiBlP2U6XCJzdHJpbmdcIj09dHlwZW9mIGU/cGFyc2VGbG9hdChlKTpcImJvb2xlYW5cIj09dHlwZW9mIGU/ZT8xOjA6ZSBpbnN0YW5jZW9mIERhdGU/ZS5nZXRUaW1lKCk6bnVsbH19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBzPXIoMCksbj1yKDEpLG89cig1KSxhPXt9O3Quc2NoZW1hPWZ1bmN0aW9uKGUsdCxyPXt9KXtuLmFzc2VydE9wdGlvbnMocixbXCJhcHBlbmRQYXRoXCIsXCJvdmVycmlkZVwiXSk7dHJ5e3JldHVybiBhLnNjaGVtYShlLHQscil9Y2F0Y2goZSl7dGhyb3cgci5hcHBlbmRQYXRoJiZ2b2lkIDAhPT1lLnBhdGgmJihlLm1lc3NhZ2U9XCJcIi5jb25jYXQoZS5tZXNzYWdlLFwiIChcIikuY29uY2F0KGUucGF0aCxcIilcIikpLGV9fSxhLnNjaGVtYT1mdW5jdGlvbihlLHQscil7cyh2b2lkIDAhPT10LFwiSW52YWxpZCB1bmRlZmluZWQgc2NoZW1hXCIpLEFycmF5LmlzQXJyYXkodCkmJihzKHQubGVuZ3RoLFwiSW52YWxpZCBlbXB0eSBhcnJheSBzY2hlbWFcIiksMT09PXQubGVuZ3RoJiYodD10WzBdKSk7Y29uc3Qgbz0odCwuLi5zKT0+ITEhPT1yLm92ZXJyaWRlP3QudmFsaWQoZS5vdmVycmlkZSwuLi5zKTp0LnZhbGlkKC4uLnMpO2lmKGEuc2ltcGxlKHQpKXJldHVybiBvKGUsdCk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdClyZXR1cm4gZS5jdXN0b20odCk7aWYocyhcIm9iamVjdFwiPT10eXBlb2YgdCxcIkludmFsaWQgc2NoZW1hIGNvbnRlbnQ6XCIsdHlwZW9mIHQpLG4uaXNSZXNvbHZhYmxlKHQpKXJldHVybiBvKGUsdCk7aWYobi5pc1NjaGVtYSh0KSlyZXR1cm4gdDtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IoY29uc3QgciBvZiB0KWlmKCFhLnNpbXBsZShyKSlyZXR1cm4gZS5hbHRlcm5hdGl2ZXMoKS50cnkoLi4udCk7cmV0dXJuIG8oZSwuLi50KX1yZXR1cm4gdCBpbnN0YW5jZW9mIFJlZ0V4cD9lLnN0cmluZygpLnJlZ2V4KHQpOnQgaW5zdGFuY2VvZiBEYXRlP28oZS5kYXRlKCksdCk6KHMoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpPT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHt9KSxcIlNjaGVtYSBjYW4gb25seSBjb250YWluIHBsYWluIG9iamVjdHNcIiksZS5vYmplY3QoKS5rZXlzKHQpKX0sdC5yZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gby5pc1JlZihlKT9lOm8uY3JlYXRlKGUsdCl9LHQuY29tcGlsZT1mdW5jdGlvbihlLHIsbz17fSl7bi5hc3NlcnRPcHRpb25zKG8sW1wibGVnYWN5XCJdKTtjb25zdCBpPXImJnJbbi5zeW1ib2xzLmFueV07aWYoaSlyZXR1cm4gcyhvLmxlZ2FjeXx8aS52ZXJzaW9uPT09bi52ZXJzaW9uLFwiQ2Fubm90IG1peCBkaWZmZXJlbnQgdmVyc2lvbnMgb2Ygam9pIHNjaGVtYXM6XCIsaS52ZXJzaW9uLG4udmVyc2lvbikscjtpZihcIm9iamVjdFwiIT10eXBlb2Ygcnx8IW8ubGVnYWN5KXJldHVybiB0LnNjaGVtYShlLHIse2FwcGVuZFBhdGg6ITB9KTtjb25zdCBsPWEud2FsayhyKTtyZXR1cm4gbD9sLmNvbXBpbGUobC5yb290LHIpOnQuc2NoZW1hKGUscix7YXBwZW5kUGF0aDohMH0pfSxhLndhbGs9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUpcmV0dXJuIG51bGw7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT1hLndhbGsodCk7aWYoZSlyZXR1cm4gZX1yZXR1cm4gbnVsbH1jb25zdCB0PWVbbi5zeW1ib2xzLmFueV07aWYodClyZXR1cm57cm9vdDplW3Qucm9vdF0sY29tcGlsZTp0LmNvbXBpbGV9O3MoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpPT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHt9KSxcIlNjaGVtYSBjYW4gb25seSBjb250YWluIHBsYWluIG9iamVjdHNcIik7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3Qgcj1hLndhbGsoZVt0XSk7aWYocilyZXR1cm4gcn1yZXR1cm4gbnVsbH0sYS5zaW1wbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfHxbXCJib29sZWFuXCIsXCJzdHJpbmdcIixcIm51bWJlclwiXS5pbmNsdWRlcyh0eXBlb2YgZSl9LHQud2hlbj1mdW5jdGlvbihlLHIsaSl7aWYodm9pZCAwPT09aSYmKHMociYmXCJvYmplY3RcIj09dHlwZW9mIHIsXCJNaXNzaW5nIG9wdGlvbnNcIiksaT1yLHI9by5jcmVhdGUoXCIuXCIpKSxBcnJheS5pc0FycmF5KGkpJiYoaT17c3dpdGNoOml9KSxuLmFzc2VydE9wdGlvbnMoaSxbXCJpc1wiLFwibm90XCIsXCJ0aGVuXCIsXCJvdGhlcndpc2VcIixcInN3aXRjaFwiLFwiYnJlYWtcIl0pLG4uaXNTY2hlbWEocikpcmV0dXJuIHModm9pZCAwPT09aS5pcywnXCJpc1wiIGNhbiBub3QgYmUgdXNlZCB3aXRoIGEgc2NoZW1hIGNvbmRpdGlvbicpLHModm9pZCAwPT09aS5ub3QsJ1wibm90XCIgY2FuIG5vdCBiZSB1c2VkIHdpdGggYSBzY2hlbWEgY29uZGl0aW9uJykscyh2b2lkIDA9PT1pLnN3aXRjaCwnXCJzd2l0Y2hcIiBjYW4gbm90IGJlIHVzZWQgd2l0aCBhIHNjaGVtYSBjb25kaXRpb24nKSxhLmNvbmRpdGlvbihlLHtpczpyLHRoZW46aS50aGVuLG90aGVyd2lzZTppLm90aGVyd2lzZSxicmVhazppLmJyZWFrfSk7aWYocyhvLmlzUmVmKHIpfHxcInN0cmluZ1wiPT10eXBlb2YgcixcIkludmFsaWQgY29uZGl0aW9uOlwiLHIpLHModm9pZCAwPT09aS5ub3R8fHZvaWQgMD09PWkuaXMsJ0Nhbm5vdCBjb21iaW5lIFwiaXNcIiB3aXRoIFwibm90XCInKSx2b2lkIDA9PT1pLnN3aXRjaCl7bGV0IGw9aTt2b2lkIDAhPT1pLm5vdCYmKGw9e2lzOmkubm90LHRoZW46aS5vdGhlcndpc2Usb3RoZXJ3aXNlOmkudGhlbixicmVhazppLmJyZWFrfSk7bGV0IGM9dm9pZCAwIT09bC5pcz9lLiRfY29tcGlsZShsLmlzKTplLiRfcm9vdC5pbnZhbGlkKG51bGwsITEsMCxcIlwiKS5yZXF1aXJlZCgpO3JldHVybiBzKHZvaWQgMCE9PWwudGhlbnx8dm9pZCAwIT09bC5vdGhlcndpc2UsJ29wdGlvbnMgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBvZiBcInRoZW5cIiwgXCJvdGhlcndpc2VcIiwgb3IgXCJzd2l0Y2hcIicpLHModm9pZCAwPT09bC5icmVha3x8dm9pZCAwPT09bC50aGVufHx2b2lkIDA9PT1sLm90aGVyd2lzZSxcIkNhbm5vdCBzcGVjaWZ5IHRoZW4sIG90aGVyd2lzZSwgYW5kIGJyZWFrIGFsbCB0b2dldGhlclwiKSx2b2lkIDA9PT1pLmlzfHxvLmlzUmVmKGkuaXMpfHxuLmlzU2NoZW1hKGkuaXMpfHwoYz1jLnJlcXVpcmVkKCkpLGEuY29uZGl0aW9uKGUse3JlZjp0LnJlZihyKSxpczpjLHRoZW46bC50aGVuLG90aGVyd2lzZTpsLm90aGVyd2lzZSxicmVhazpsLmJyZWFrfSl9cyhBcnJheS5pc0FycmF5KGkuc3dpdGNoKSwnXCJzd2l0Y2hcIiBtdXN0IGJlIGFuIGFycmF5Jykscyh2b2lkIDA9PT1pLmlzLCdDYW5ub3QgY29tYmluZSBcInN3aXRjaFwiIHdpdGggXCJpc1wiJykscyh2b2lkIDA9PT1pLm5vdCwnQ2Fubm90IGNvbWJpbmUgXCJzd2l0Y2hcIiB3aXRoIFwibm90XCInKSxzKHZvaWQgMD09PWkudGhlbiwnQ2Fubm90IGNvbWJpbmUgXCJzd2l0Y2hcIiB3aXRoIFwidGhlblwiJyk7Y29uc3QgbD17cmVmOnQucmVmKHIpLHN3aXRjaDpbXSxicmVhazppLmJyZWFrfTtmb3IobGV0IHQ9MDt0PGkuc3dpdGNoLmxlbmd0aDsrK3Qpe2NvbnN0IHI9aS5zd2l0Y2hbdF0sYT10PT09aS5zd2l0Y2gubGVuZ3RoLTE7bi5hc3NlcnRPcHRpb25zKHIsYT9bXCJpc1wiLFwidGhlblwiLFwib3RoZXJ3aXNlXCJdOltcImlzXCIsXCJ0aGVuXCJdKSxzKHZvaWQgMCE9PXIuaXMsJ1N3aXRjaCBzdGF0ZW1lbnQgbWlzc2luZyBcImlzXCInKSxzKHZvaWQgMCE9PXIudGhlbiwnU3dpdGNoIHN0YXRlbWVudCBtaXNzaW5nIFwidGhlblwiJyk7Y29uc3QgYz17aXM6ZS4kX2NvbXBpbGUoci5pcyksdGhlbjplLiRfY29tcGlsZShyLnRoZW4pfTtpZihvLmlzUmVmKHIuaXMpfHxuLmlzU2NoZW1hKHIuaXMpfHwoYy5pcz1jLmlzLnJlcXVpcmVkKCkpLGEpe3Modm9pZCAwPT09aS5vdGhlcndpc2V8fHZvaWQgMD09PXIub3RoZXJ3aXNlLCdDYW5ub3Qgc3BlY2lmeSBcIm90aGVyd2lzZVwiIGluc2lkZSBhbmQgb3V0c2lkZSBhIFwic3dpdGNoXCInKTtjb25zdCB0PXZvaWQgMCE9PWkub3RoZXJ3aXNlP2kub3RoZXJ3aXNlOnIub3RoZXJ3aXNlO3ZvaWQgMCE9PXQmJihzKHZvaWQgMD09PWwuYnJlYWssXCJDYW5ub3Qgc3BlY2lmeSBib3RoIG90aGVyd2lzZSBhbmQgYnJlYWtcIiksYy5vdGhlcndpc2U9ZS4kX2NvbXBpbGUodCkpfWwuc3dpdGNoLnB1c2goYyl9cmV0dXJuIGx9LGEuY29uZGl0aW9uPWZ1bmN0aW9uKGUsdCl7Zm9yKGNvbnN0IHIgb2ZbXCJ0aGVuXCIsXCJvdGhlcndpc2VcIl0pdm9pZCAwPT09dFtyXT9kZWxldGUgdFtyXTp0W3JdPWUuJF9jb21waWxlKHRbcl0pO3JldHVybiB0fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IHM9cigwKSxuPXIoMiksbz1yKDcpO3QuY29tcGlsZT1mdW5jdGlvbihlLHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBzKCF0LFwiQ2Fubm90IHNldCBzaW5nbGUgbWVzc2FnZSBzdHJpbmdcIiksbmV3IG8oZSk7aWYoby5pc1RlbXBsYXRlKGUpKXJldHVybiBzKCF0LFwiQ2Fubm90IHNldCBzaW5nbGUgbWVzc2FnZSB0ZW1wbGF0ZVwiKSxlO3MoXCJvYmplY3RcIj09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpLFwiSW52YWxpZCBtZXNzYWdlIG9wdGlvbnNcIiksdD10P24odCk6e307Zm9yKGxldCByIGluIGUpe2NvbnN0IG49ZVtyXTtpZihcInJvb3RcIj09PXJ8fG8uaXNUZW1wbGF0ZShuKSl7dFtyXT1uO2NvbnRpbnVlfWlmKFwic3RyaW5nXCI9PXR5cGVvZiBuKXt0W3JdPW5ldyBvKG4pO2NvbnRpbnVlfXMoXCJvYmplY3RcIj09dHlwZW9mIG4mJiFBcnJheS5pc0FycmF5KG4pLFwiSW52YWxpZCBtZXNzYWdlIGZvclwiLHIpO2NvbnN0IGE9cjtmb3IociBpbiB0W2FdPXRbYV18fHt9LG4pe2NvbnN0IGU9bltyXTtcInJvb3RcIj09PXJ8fG8uaXNUZW1wbGF0ZShlKT90W2FdW3JdPWU6KHMoXCJzdHJpbmdcIj09dHlwZW9mIGUsXCJJbnZhbGlkIG1lc3NhZ2UgZm9yXCIscixcImluXCIsYSksdFthXVtyXT1uZXcgbyhlKSl9fXJldHVybiB0fSx0LmRlY29tcGlsZT1mdW5jdGlvbihlKXtjb25zdCB0PXt9O2ZvcihsZXQgciBpbiBlKXtjb25zdCBzPWVbcl07aWYoXCJyb290XCI9PT1yKXt0W3JdPXM7Y29udGludWV9aWYoby5pc1RlbXBsYXRlKHMpKXt0W3JdPXMuZGVzY3JpYmUoe2NvbXBhY3Q6ITB9KTtjb250aW51ZX1jb25zdCBuPXI7Zm9yKHIgaW4gdFtuXT17fSxzKXtjb25zdCBlPXNbcl07XCJyb290XCIhPT1yP3Rbbl1bcl09ZS5kZXNjcmliZSh7Y29tcGFjdDohMH0pOnRbbl1bcl09ZX19cmV0dXJuIHR9LHQubWVyZ2U9ZnVuY3Rpb24oZSxyKXtpZighZSlyZXR1cm4gdC5jb21waWxlKHIpO2lmKCFyKXJldHVybiBlO2lmKFwic3RyaW5nXCI9PXR5cGVvZiByKXJldHVybiBuZXcgbyhyKTtpZihvLmlzVGVtcGxhdGUocikpcmV0dXJuIHI7Y29uc3QgYT1uKGUpO2ZvcihsZXQgZSBpbiByKXtjb25zdCB0PXJbZV07aWYoXCJyb290XCI9PT1lfHxvLmlzVGVtcGxhdGUodCkpe2FbZV09dDtjb250aW51ZX1pZihcInN0cmluZ1wiPT10eXBlb2YgdCl7YVtlXT1uZXcgbyh0KTtjb250aW51ZX1zKFwib2JqZWN0XCI9PXR5cGVvZiB0JiYhQXJyYXkuaXNBcnJheSh0KSxcIkludmFsaWQgbWVzc2FnZSBmb3JcIixlKTtjb25zdCBuPWU7Zm9yKGUgaW4gYVtuXT1hW25dfHx7fSx0KXtjb25zdCByPXRbZV07XCJyb290XCI9PT1lfHxvLmlzVGVtcGxhdGUocik/YVtuXVtlXT1yOihzKFwic3RyaW5nXCI9PXR5cGVvZiByLFwiSW52YWxpZCBtZXNzYWdlIGZvclwiLGUsXCJpblwiLG4pLGFbbl1bZV09bmV3IG8ocikpfX1yZXR1cm4gYX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBzPXIoMTMpLG49e21pc21hdGNoZWQ6bnVsbH07ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gcj1PYmplY3QuYXNzaWduKHtwcm90b3R5cGU6ITB9LHIpLCEhbi5pc0RlZXBFcXVhbChlLHQscixbXSl9LG4uaXNEZWVwRXF1YWw9ZnVuY3Rpb24oZSx0LHIsbyl7aWYoZT09PXQpcmV0dXJuIDAhPT1lfHwxL2U9PTEvdDtjb25zdCBhPXR5cGVvZiBlO2lmKGEhPT10eXBlb2YgdClyZXR1cm4hMTtpZihudWxsPT09ZXx8bnVsbD09PXQpcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT09YSl7aWYoIXIuZGVlcEZ1bmN0aW9ufHxlLnRvU3RyaW5nKCkhPT10LnRvU3RyaW5nKCkpcmV0dXJuITF9ZWxzZSBpZihcIm9iamVjdFwiIT09YSlyZXR1cm4gZSE9ZSYmdCE9dDtjb25zdCBpPW4uZ2V0U2hhcmVkVHlwZShlLHQsISFyLnByb3RvdHlwZSk7c3dpdGNoKGkpe2Nhc2Ugcy5idWZmZXI6cmV0dXJuITE7Y2FzZSBzLnByb21pc2U6cmV0dXJuIGU9PT10O2Nhc2Ugcy5yZWdleDpyZXR1cm4gZS50b1N0cmluZygpPT09dC50b1N0cmluZygpO2Nhc2Ugbi5taXNtYXRjaGVkOnJldHVybiExfWZvcihsZXQgcj1vLmxlbmd0aC0xO3I+PTA7LS1yKWlmKG9bcl0uaXNTYW1lKGUsdCkpcmV0dXJuITA7by5wdXNoKG5ldyBuLlNlZW5FbnRyeShlLHQpKTt0cnl7cmV0dXJuISFuLmlzRGVlcEVxdWFsT2JqKGksZSx0LHIsbyl9ZmluYWxseXtvLnBvcCgpfX0sbi5nZXRTaGFyZWRUeXBlPWZ1bmN0aW9uKGUsdCxyKXtpZihyKXJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkhPT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk/bi5taXNtYXRjaGVkOnMuZ2V0SW50ZXJuYWxQcm90byhlKTtjb25zdCBvPXMuZ2V0SW50ZXJuYWxQcm90byhlKTtyZXR1cm4gbyE9PXMuZ2V0SW50ZXJuYWxQcm90byh0KT9uLm1pc21hdGNoZWQ6b30sbi52YWx1ZU9mPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS52YWx1ZU9mO2lmKHZvaWQgMD09PXQpcmV0dXJuIGU7dHJ5e3JldHVybiB0LmNhbGwoZSl9Y2F0Y2goZSl7cmV0dXJuIGV9fSxuLmhhc093bkVudW1lcmFibGVQcm9wZXJ0eT1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSx0KX0sbi5pc1NldFNpbXBsZUVxdWFsPWZ1bmN0aW9uKGUsdCl7Zm9yKGNvbnN0IHIgb2YgZSlpZighdC5oYXMocikpcmV0dXJuITE7cmV0dXJuITB9LG4uaXNEZWVwRXF1YWxPYmo9ZnVuY3Rpb24oZSx0LHIsbyxhKXtjb25zdHtpc0RlZXBFcXVhbDppLHZhbHVlT2Y6bCxoYXNPd25FbnVtZXJhYmxlUHJvcGVydHk6Y309bix7a2V5czp1LGdldE93blByb3BlcnR5U3ltYm9sczpmfT1PYmplY3Q7aWYoZT09PXMuYXJyYXkpe2lmKCFvLnBhcnQpe2lmKHQubGVuZ3RoIT09ci5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDsrK2UpaWYoIWkodFtlXSxyW2VdLG8sYSkpcmV0dXJuITE7cmV0dXJuITB9Zm9yKGNvbnN0IGUgb2YgdClmb3IoY29uc3QgdCBvZiByKWlmKGkoZSx0LG8sYSkpcmV0dXJuITB9ZWxzZSBpZihlPT09cy5zZXQpe2lmKHQuc2l6ZSE9PXIuc2l6ZSlyZXR1cm4hMTtpZighbi5pc1NldFNpbXBsZUVxdWFsKHQscikpe2NvbnN0IGU9bmV3IFNldChyKTtmb3IoY29uc3QgciBvZiB0KXtpZihlLmRlbGV0ZShyKSljb250aW51ZTtsZXQgdD0hMTtmb3IoY29uc3QgcyBvZiBlKWlmKGkocixzLG8sYSkpe2UuZGVsZXRlKHMpLHQ9ITA7YnJlYWt9aWYoIXQpcmV0dXJuITF9fX1lbHNlIGlmKGU9PT1zLm1hcCl7aWYodC5zaXplIT09ci5zaXplKXJldHVybiExO2Zvcihjb25zdFtlLHNdb2YgdCl7aWYodm9pZCAwPT09cyYmIXIuaGFzKGUpKXJldHVybiExO2lmKCFpKHMsci5nZXQoZSksbyxhKSlyZXR1cm4hMX19ZWxzZSBpZihlPT09cy5lcnJvciYmKHQubmFtZSE9PXIubmFtZXx8dC5tZXNzYWdlIT09ci5tZXNzYWdlKSlyZXR1cm4hMTtjb25zdCBtPWwodCksaD1sKHIpO2lmKCh0IT09bXx8ciE9PWgpJiYhaShtLGgsbyxhKSlyZXR1cm4hMTtjb25zdCBkPXUodCk7aWYoIW8ucGFydCYmZC5sZW5ndGghPT11KHIpLmxlbmd0aCYmIW8uc2tpcClyZXR1cm4hMTtsZXQgcD0wO2Zvcihjb25zdCBlIG9mIGQpaWYoby5za2lwJiZvLnNraXAuaW5jbHVkZXMoZSkpdm9pZCAwPT09cltlXSYmKytwO2Vsc2V7aWYoIWMocixlKSlyZXR1cm4hMTtpZighaSh0W2VdLHJbZV0sbyxhKSlyZXR1cm4hMX1pZighby5wYXJ0JiZkLmxlbmd0aC1wIT09dShyKS5sZW5ndGgpcmV0dXJuITE7aWYoITEhPT1vLnN5bWJvbHMpe2NvbnN0IGU9Zih0KSxzPW5ldyBTZXQoZihyKSk7Zm9yKGNvbnN0IG4gb2YgZSl7aWYoIW8uc2tpcHx8IW8uc2tpcC5pbmNsdWRlcyhuKSlpZihjKHQsbikpe2lmKCFjKHIsbikpcmV0dXJuITE7aWYoIWkodFtuXSxyW25dLG8sYSkpcmV0dXJuITF9ZWxzZSBpZihjKHIsbikpcmV0dXJuITE7cy5kZWxldGUobil9Zm9yKGNvbnN0IGUgb2YgcylpZihjKHIsZSkpcmV0dXJuITF9cmV0dXJuITB9LG4uU2VlbkVudHJ5PWNsYXNze2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5vYmo9ZSx0aGlzLnJlZj10fWlzU2FtZShlLHQpe3JldHVybiB0aGlzLm9iaj09PWUmJnRoaXMucmVmPT09dH19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcz1yKDApLG49cigyKSxvPXIoMTUpLGE9cigxKSxpPXIoOCksbD1yKDQpLGM9cigxNyksdT1yKDE4KSxmPXIoNSksbT1yKDcpLGg9cigxOSk7bGV0IGQ7Y29uc3QgcD17dHlwZXM6e2FsdGVybmF0aXZlczpyKDMzKSxhbnk6cigzKSxhcnJheTpyKDM5KSxib29sZWFuOnIoNDApLGRhdGU6cig0MSksZnVuY3Rpb246cig0MiksbGluazpyKDQ1KSxudW1iZXI6cig0Niksb2JqZWN0OnIoNDcpLHN0cmluZzpyKDQ4KSxzeW1ib2w6cig1Mil9LGFsaWFzZXM6e2FsdDpcImFsdGVybmF0aXZlc1wiLGJvb2w6XCJib29sZWFuXCIsZnVuYzpcImZ1bmN0aW9uXCJ9fTtwLnJvb3Q9ZnVuY3Rpb24oKXtjb25zdCBlPXtfdHlwZXM6bmV3IFNldChPYmplY3Qua2V5cyhwLnR5cGVzKSl9O2Zvcihjb25zdCB0IG9mIGUuX3R5cGVzKWVbdF09ZnVuY3Rpb24oLi4uZSl7cmV0dXJuIHMoIWUubGVuZ3RofHxbXCJhbHRlcm5hdGl2ZXNcIixcImxpbmtcIixcIm9iamVjdFwiXS5pbmNsdWRlcyh0KSxcIlRoZVwiLHQsXCJ0eXBlIGRvZXMgbm90IGFsbG93IGFyZ3VtZW50c1wiKSxwLmdlbmVyYXRlKHRoaXMscC50eXBlc1t0XSxlKX07Zm9yKGNvbnN0IHQgb2ZbXCJhbGxvd1wiLFwiY3VzdG9tXCIsXCJkaXNhbGxvd1wiLFwiZXF1YWxcIixcImV4aXN0XCIsXCJmb3JiaWRkZW5cIixcImludmFsaWRcIixcIm5vdFwiLFwib25seVwiLFwib3B0aW9uYWxcIixcIm9wdGlvbnNcIixcInByZWZzXCIsXCJwcmVmZXJlbmNlc1wiLFwicmVxdWlyZWRcIixcInN0cmlwXCIsXCJ2YWxpZFwiLFwid2hlblwiXSllW3RdPWZ1bmN0aW9uKC4uLmUpe3JldHVybiB0aGlzLmFueSgpW3RdKC4uLmUpfTtPYmplY3QuYXNzaWduKGUscC5tZXRob2RzKTtmb3IoY29uc3QgdCBpbiBwLmFsaWFzZXMpe2NvbnN0IHI9cC5hbGlhc2VzW3RdO2VbdF09ZVtyXX1yZXR1cm4gZS54PWUuZXhwcmVzc2lvbixoLnNldHVwJiZoLnNldHVwKGUpLGV9LHAubWV0aG9kcz17VmFsaWRhdGlvbkVycm9yOmwuVmFsaWRhdGlvbkVycm9yLHZlcnNpb246YS52ZXJzaW9uLGNhY2hlOm8ucHJvdmlkZXIsYXNzZXJ0KGUsdCwuLi5yKXtwLmFzc2VydChlLHQsITAscil9LGF0dGVtcHQ6KGUsdCwuLi5yKT0+cC5hc3NlcnQoZSx0LCExLHIpLGJ1aWxkKGUpe3JldHVybiBzKFwiZnVuY3Rpb25cIj09dHlwZW9mIHUuYnVpbGQsXCJNYW5pZmVzdCBmdW5jdGlvbmFsaXR5IGRpc2FibGVkXCIpLHUuYnVpbGQodGhpcyxlKX0sY2hlY2tQcmVmZXJlbmNlcyhlKXthLmNoZWNrUHJlZmVyZW5jZXMoZSl9LGNvbXBpbGUoZSx0KXtyZXR1cm4gaS5jb21waWxlKHRoaXMsZSx0KX0sZGVmYXVsdHMoZSl7cyhcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLFwibW9kaWZpZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO2NvbnN0IHQ9T2JqZWN0LmFzc2lnbih7fSx0aGlzKTtmb3IoY29uc3QgciBvZiB0Ll90eXBlcyl7Y29uc3Qgbj1lKHRbcl0oKSk7cyhhLmlzU2NoZW1hKG4pLFwibW9kaWZpZXIgbXVzdCByZXR1cm4gYSB2YWxpZCBzY2hlbWEgb2JqZWN0XCIpLHRbcl09ZnVuY3Rpb24oLi4uZSl7cmV0dXJuIHAuZ2VuZXJhdGUodGhpcyxuLGUpfX1yZXR1cm4gdH0sZXhwcmVzc2lvbjooLi4uZSk9Pm5ldyBtKC4uLmUpLGV4dGVuZCguLi5lKXthLnZlcmlmeUZsYXQoZSxcImV4dGVuZFwiKSxkPWR8fHIoMTYpLHMoZS5sZW5ndGgsXCJZb3UgbmVlZCB0byBwcm92aWRlIGF0IGxlYXN0IG9uZSBleHRlbnNpb25cIiksdGhpcy5hc3NlcnQoZSxkLmV4dGVuc2lvbnMpO2NvbnN0IHQ9T2JqZWN0LmFzc2lnbih7fSx0aGlzKTt0Ll90eXBlcz1uZXcgU2V0KHQuX3R5cGVzKTtmb3IobGV0IHIgb2YgZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgciYmKHI9cih0KSksdGhpcy5hc3NlcnQocixkLmV4dGVuc2lvbik7Y29uc3QgZT1wLmV4cGFuZEV4dGVuc2lvbihyLHQpO2Zvcihjb25zdCByIG9mIGUpe3Modm9pZCAwPT09dFtyLnR5cGVdfHx0Ll90eXBlcy5oYXMoci50eXBlKSxcIkNhbm5vdCBvdmVycmlkZSBuYW1lXCIsci50eXBlKTtjb25zdCBlPXIuYmFzZXx8dGhpcy5hbnkoKSxuPWMudHlwZShlLHIpO3QuX3R5cGVzLmFkZChyLnR5cGUpLHRbci50eXBlXT1mdW5jdGlvbiguLi5lKXtyZXR1cm4gcC5nZW5lcmF0ZSh0aGlzLG4sZSl9fX1yZXR1cm4gdH0saXNFcnJvcjpsLlZhbGlkYXRpb25FcnJvci5pc0Vycm9yLGlzRXhwcmVzc2lvbjptLmlzVGVtcGxhdGUsaXNSZWY6Zi5pc1JlZixpc1NjaGVtYTphLmlzU2NoZW1hLGluOiguLi5lKT0+Zi5pbiguLi5lKSxvdmVycmlkZTphLnN5bWJvbHMub3ZlcnJpZGUscmVmOiguLi5lKT0+Zi5jcmVhdGUoLi4uZSksdHlwZXMoKXtjb25zdCBlPXt9O2Zvcihjb25zdCB0IG9mIHRoaXMuX3R5cGVzKWVbdF09dGhpc1t0XSgpO2Zvcihjb25zdCB0IGluIHAuYWxpYXNlcyllW3RdPXRoaXNbdF0oKTtyZXR1cm4gZX19LHAuYXNzZXJ0PWZ1bmN0aW9uKGUsdCxyLHMpe2NvbnN0IG89c1swXWluc3RhbmNlb2YgRXJyb3J8fFwic3RyaW5nXCI9PXR5cGVvZiBzWzBdP3NbMF06bnVsbCxpPW8/c1sxXTpzWzBdLGM9dC52YWxpZGF0ZShlLGEucHJlZmVyZW5jZXMoe2Vycm9yczp7c3RhY2s6ITB9fSxpfHx7fSkpO2xldCB1PWMuZXJyb3I7aWYoIXUpcmV0dXJuIGMudmFsdWU7aWYobyBpbnN0YW5jZW9mIEVycm9yKXRocm93IG87Y29uc3QgZj1yJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB1LmFubm90YXRlP3UuYW5ub3RhdGUoKTp1Lm1lc3NhZ2U7dGhyb3cgdSBpbnN0YW5jZW9mIGwuVmFsaWRhdGlvbkVycm9yPT0hMSYmKHU9bih1KSksdS5tZXNzYWdlPW8/XCJcIi5jb25jYXQobyxcIiBcIikuY29uY2F0KGYpOmYsdX0scC5nZW5lcmF0ZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIHMoZSxcIk11c3QgYmUgaW52b2tlZCBvbiBhIEpvaSBpbnN0YW5jZS5cIiksdC4kX3Jvb3Q9ZSx0Ll9kZWZpbml0aW9uLmFyZ3MmJnIubGVuZ3RoP3QuX2RlZmluaXRpb24uYXJncyh0LC4uLnIpOnR9LHAuZXhwYW5kRXh0ZW5zaW9uPWZ1bmN0aW9uKGUsdCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUudHlwZSlyZXR1cm5bZV07Y29uc3Qgcj1bXTtmb3IoY29uc3QgcyBvZiB0Ll90eXBlcylpZihlLnR5cGUudGVzdChzKSl7Y29uc3Qgbj1PYmplY3QuYXNzaWduKHt9LGUpO24udHlwZT1zLG4uYmFzZT10W3NdKCksci5wdXNoKG4pfXJldHVybiByfSxlLmV4cG9ydHM9cC5yb290KCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBzPXIoMjgpO2UuZXhwb3J0cz1jbGFzcyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUuZmlsdGVyKGU9PlwiXCIhPT1lKS5tYXAoZT0+XCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplIGluc3RhbmNlb2YgRXJyb3I/ZS5tZXNzYWdlOnMoZSkpLmpvaW4oXCIgXCIpfHxcIlVua25vd24gZXJyb3JcIiksXCJmdW5jdGlvblwiPT10eXBlb2YgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJkVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsdC5hc3NlcnQpfX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBzPXt9O3Q9ZS5leHBvcnRzPXthcnJheTpBcnJheS5wcm90b3R5cGUsYnVmZmVyOiExLGRhdGU6RGF0ZS5wcm90b3R5cGUsZXJyb3I6RXJyb3IucHJvdG90eXBlLGdlbmVyaWM6T2JqZWN0LnByb3RvdHlwZSxtYXA6TWFwLnByb3RvdHlwZSxwcm9taXNlOlByb21pc2UucHJvdG90eXBlLHJlZ2V4OlJlZ0V4cC5wcm90b3R5cGUsc2V0OlNldC5wcm90b3R5cGUsd2Vha01hcDpXZWFrTWFwLnByb3RvdHlwZSx3ZWFrU2V0OldlYWtTZXQucHJvdG90eXBlfSxzLnR5cGVNYXA9bmV3IE1hcChbW1wiW29iamVjdCBFcnJvcl1cIix0LmVycm9yXSxbXCJbb2JqZWN0IE1hcF1cIix0Lm1hcF0sW1wiW29iamVjdCBQcm9taXNlXVwiLHQucHJvbWlzZV0sW1wiW29iamVjdCBTZXRdXCIsdC5zZXRdLFtcIltvYmplY3QgV2Vha01hcF1cIix0LndlYWtNYXBdLFtcIltvYmplY3QgV2Vha1NldF1cIix0LndlYWtTZXRdXSksdC5nZXRJbnRlcm5hbFByb3RvPWZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHQuYXJyYXk7aWYoZSBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIHQuZGF0ZTtpZihlIGluc3RhbmNlb2YgUmVnRXhwKXJldHVybiB0LnJlZ2V4O2lmKGUgaW5zdGFuY2VvZiBFcnJvcilyZXR1cm4gdC5lcnJvcjtjb25zdCByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKTtyZXR1cm4gcy50eXBlTWFwLmdldChyKXx8dC5nZW5lcmljfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3Qua2V5cz1mdW5jdGlvbihlLHQ9e30pe3JldHVybiExIT09dC5zeW1ib2xzP1JlZmxlY3Qub3duS2V5cyhlKTpPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBzPXIoMCksbj1yKDIpLG89cigxKSxhPXttYXg6MWUzLHN1cHBvcnRlZDpuZXcgU2V0KFtcInVuZGVmaW5lZFwiLFwiYm9vbGVhblwiLFwibnVtYmVyXCIsXCJzdHJpbmdcIl0pfTt0LnByb3ZpZGVyPXtwcm92aXNpb246ZT0+bmV3IGEuQ2FjaGUoZSl9LGEuQ2FjaGU9Y2xhc3N7Y29uc3RydWN0b3IoZT17fSl7by5hc3NlcnRPcHRpb25zKGUsW1wibWF4XCJdKSxzKHZvaWQgMD09PWUubWF4fHxlLm1heCYmZS5tYXg+MCYmaXNGaW5pdGUoZS5tYXgpLFwiSW52YWxpZCBtYXggY2FjaGUgc2l6ZVwiKSx0aGlzLl9tYXg9ZS5tYXh8fGEubWF4LHRoaXMuX21hcD1uZXcgTWFwLHRoaXMuX2xpc3Q9bmV3IGEuTGlzdH1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX21hcC5zaXplfXNldChlLHQpe2lmKG51bGwhPT1lJiYhYS5zdXBwb3J0ZWQuaGFzKHR5cGVvZiBlKSlyZXR1cm47bGV0IHI9dGhpcy5fbWFwLmdldChlKTtpZihyKXJldHVybiByLnZhbHVlPXQsdm9pZCB0aGlzLl9saXN0LmZpcnN0KHIpO3I9dGhpcy5fbGlzdC51bnNoaWZ0KHtrZXk6ZSx2YWx1ZTp0fSksdGhpcy5fbWFwLnNldChlLHIpLHRoaXMuX2NvbXBhY3QoKX1nZXQoZSl7Y29uc3QgdD10aGlzLl9tYXAuZ2V0KGUpO2lmKHQpcmV0dXJuIHRoaXMuX2xpc3QuZmlyc3QodCksbih0LnZhbHVlKX1fY29tcGFjdCgpe2lmKHRoaXMuX21hcC5zaXplPnRoaXMuX21heCl7Y29uc3QgZT10aGlzLl9saXN0LnBvcCgpO3RoaXMuX21hcC5kZWxldGUoZS5rZXkpfX19LGEuTGlzdD1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMudGFpbD1udWxsLHRoaXMuaGVhZD1udWxsfXVuc2hpZnQoZSl7cmV0dXJuIGUubmV4dD1udWxsLGUucHJldj10aGlzLmhlYWQsdGhpcy5oZWFkJiYodGhpcy5oZWFkLm5leHQ9ZSksdGhpcy5oZWFkPWUsdGhpcy50YWlsfHwodGhpcy50YWlsPWUpLGV9Zmlyc3QoZSl7ZSE9PXRoaXMuaGVhZCYmKHRoaXMuX3JlbW92ZShlKSx0aGlzLnVuc2hpZnQoZSkpfXBvcCgpe3JldHVybiB0aGlzLl9yZW1vdmUodGhpcy50YWlsKX1fcmVtb3ZlKGUpe2NvbnN0e25leHQ6dCxwcmV2OnJ9PWU7cmV0dXJuIHQucHJldj1yLHImJihyLm5leHQ9dCksZT09PXRoaXMudGFpbCYmKHRoaXMudGFpbD10KSxlLnByZXY9bnVsbCxlLm5leHQ9bnVsbCxlfX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBzPXIoMTEpLG49e307bi53cmFwPXMuc3RyaW5nKCkubWluKDEpLm1heCgyKS5hbGxvdyghMSksdC5wcmVmZXJlbmNlcz1zLm9iamVjdCh7YWxsb3dVbmtub3duOnMuYm9vbGVhbigpLGFib3J0RWFybHk6cy5ib29sZWFuKCksY2FjaGU6cy5ib29sZWFuKCksY29udGV4dDpzLm9iamVjdCgpLGNvbnZlcnQ6cy5ib29sZWFuKCksZGF0ZUZvcm1hdDpzLnZhbGlkKFwiZGF0ZVwiLFwiaXNvXCIsXCJzdHJpbmdcIixcInRpbWVcIixcInV0Y1wiKSxkZWJ1ZzpzLmJvb2xlYW4oKSxlcnJvcnM6e2VzY2FwZUh0bWw6cy5ib29sZWFuKCksbGFiZWw6cy52YWxpZChcInBhdGhcIixcImtleVwiLCExKSxsYW5ndWFnZTpbcy5zdHJpbmcoKSxzLm9iamVjdCgpLnJlZigpXSxyZW5kZXI6cy5ib29sZWFuKCksc3RhY2s6cy5ib29sZWFuKCksd3JhcDp7bGFiZWw6bi53cmFwLGFycmF5Om4ud3JhcH19LGV4dGVybmFsczpzLmJvb2xlYW4oKSxtZXNzYWdlczpzLm9iamVjdCgpLG5vRGVmYXVsdHM6cy5ib29sZWFuKCksbm9uRW51bWVyYWJsZXM6cy5ib29sZWFuKCkscHJlc2VuY2U6cy52YWxpZChcInJlcXVpcmVkXCIsXCJvcHRpb25hbFwiLFwiZm9yYmlkZGVuXCIpLHNraXBGdW5jdGlvbnM6cy5ib29sZWFuKCksc3RyaXBVbmtub3duOnMub2JqZWN0KHthcnJheXM6cy5ib29sZWFuKCksb2JqZWN0czpzLmJvb2xlYW4oKX0pLm9yKFwiYXJyYXlzXCIsXCJvYmplY3RzXCIpLmFsbG93KCEwLCExKSx3YXJuaW5nczpzLmJvb2xlYW4oKX0pLnN0cmljdCgpLG4ubmFtZVJ4PS9eW2EtekEtWjAtOV1cXHcqJC8sbi5ydWxlPXMub2JqZWN0KHthbGlhczpzLmFycmF5KCkuaXRlbXMocy5zdHJpbmcoKS5wYXR0ZXJuKG4ubmFtZVJ4KSkuc2luZ2xlKCksYXJnczpzLmFycmF5KCkuaXRlbXMocy5zdHJpbmcoKSxzLm9iamVjdCh7bmFtZTpzLnN0cmluZygpLnBhdHRlcm4obi5uYW1lUngpLnJlcXVpcmVkKCkscmVmOnMuYm9vbGVhbigpLGFzc2VydDpzLmFsdGVybmF0aXZlcyhbcy5mdW5jdGlvbigpLHMub2JqZWN0KCkuc2NoZW1hKCldKS5jb25kaXRpb25hbChcInJlZlwiLHtpczohMCx0aGVuOnMucmVxdWlyZWQoKX0pLG5vcm1hbGl6ZTpzLmZ1bmN0aW9uKCksbWVzc2FnZTpzLnN0cmluZygpLndoZW4oXCJhc3NlcnRcIix7aXM6cy5mdW5jdGlvbigpLHRoZW46cy5yZXF1aXJlZCgpfSl9KSksY29udmVydDpzLmJvb2xlYW4oKSxtYW5pZmVzdDpzLmJvb2xlYW4oKSxtZXRob2Q6cy5mdW5jdGlvbigpLmFsbG93KCExKSxtdWx0aTpzLmJvb2xlYW4oKSx2YWxpZGF0ZTpzLmZ1bmN0aW9uKCl9KSx0LmV4dGVuc2lvbj1zLm9iamVjdCh7dHlwZTpzLmFsdGVybmF0aXZlcyhbcy5zdHJpbmcoKSxzLm9iamVjdCgpLnJlZ2V4KCldKS5yZXF1aXJlZCgpLGFyZ3M6cy5mdW5jdGlvbigpLGJhc2U6cy5vYmplY3QoKS5zY2hlbWEoKS53aGVuKFwidHlwZVwiLHtpczpzLm9iamVjdCgpLnJlZ2V4KCksdGhlbjpzLmZvcmJpZGRlbigpfSksY29lcmNlOltzLmZ1bmN0aW9uKCkubWF4QXJpdHkoMykscy5vYmplY3Qoe21ldGhvZDpzLmZ1bmN0aW9uKCkubWF4QXJpdHkoMykucmVxdWlyZWQoKSxmcm9tOnMuYXJyYXkoKS5pdGVtcyhzLnN0cmluZygpKS5zaW5nbGUoKX0pXSxmbGFnczpzLm9iamVjdCgpLnBhdHRlcm4obi5uYW1lUngscy5vYmplY3Qoe3NldHRlcjpzLnN0cmluZygpLGRlZmF1bHQ6cy5hbnkoKX0pKSxtYW5pZmVzdDp7YnVpbGQ6cy5mdW5jdGlvbigpLmFyaXR5KDIpfSxtZXNzYWdlczpbcy5vYmplY3QoKSxzLnN0cmluZygpXSxtb2RpZmllcnM6cy5vYmplY3QoKS5wYXR0ZXJuKG4ubmFtZVJ4LHMuZnVuY3Rpb24oKS5taW5Bcml0eSgxKS5tYXhBcml0eSgyKSksb3ZlcnJpZGVzOnMub2JqZWN0KCkucGF0dGVybihuLm5hbWVSeCxzLmZ1bmN0aW9uKCkpLHByZXBhcmU6cy5mdW5jdGlvbigpLm1heEFyaXR5KDMpLHJlYnVpbGQ6cy5mdW5jdGlvbigpLmFyaXR5KDEpLHJ1bGVzOnMub2JqZWN0KCkucGF0dGVybihuLm5hbWVSeCxuLnJ1bGUpLHRlcm1zOnMub2JqZWN0KCkucGF0dGVybihuLm5hbWVSeCxzLm9iamVjdCh7aW5pdDpzLmFycmF5KCkuYWxsb3cobnVsbCkucmVxdWlyZWQoKSxtYW5pZmVzdDpzLm9iamVjdCgpLnBhdHRlcm4oLy4rLyxbcy52YWxpZChcInNjaGVtYVwiLFwic2luZ2xlXCIpLHMub2JqZWN0KHttYXBwZWQ6cy5vYmplY3Qoe2Zyb206cy5zdHJpbmcoKS5yZXF1aXJlZCgpLHRvOnMuc3RyaW5nKCkucmVxdWlyZWQoKX0pLnJlcXVpcmVkKCl9KV0pfSkpLHZhbGlkYXRlOnMuZnVuY3Rpb24oKS5tYXhBcml0eSgzKX0pLnN0cmljdCgpLHQuZXh0ZW5zaW9ucz1zLmFycmF5KCkuaXRlbXMocy5vYmplY3QoKSxzLmZ1bmN0aW9uKCkuYXJpdHkoMSkpLnN0cmljdCgpLG4uZGVzYz17YnVmZmVyOnMub2JqZWN0KHtidWZmZXI6cy5zdHJpbmcoKX0pLGZ1bmM6cy5vYmplY3Qoe2Z1bmN0aW9uOnMuZnVuY3Rpb24oKS5yZXF1aXJlZCgpLG9wdGlvbnM6e2xpdGVyYWw6ITB9fSksb3ZlcnJpZGU6cy5vYmplY3Qoe292ZXJyaWRlOiEwfSkscmVmOnMub2JqZWN0KHtyZWY6cy5vYmplY3Qoe3R5cGU6cy52YWxpZChcInZhbHVlXCIsXCJnbG9iYWxcIixcImxvY2FsXCIpLHBhdGg6cy5hcnJheSgpLnJlcXVpcmVkKCksc2VwYXJhdG9yOnMuc3RyaW5nKCkubGVuZ3RoKDEpLmFsbG93KCExKSxhbmNlc3RvcjpzLm51bWJlcigpLm1pbigwKS5pbnRlZ2VyKCkuYWxsb3coXCJyb290XCIpLG1hcDpzLmFycmF5KCkuaXRlbXMocy5hcnJheSgpLmxlbmd0aCgyKSkubWluKDEpLGFkanVzdDpzLmZ1bmN0aW9uKCksaXRlcmFibGVzOnMuYm9vbGVhbigpLGluOnMuYm9vbGVhbigpfSkucmVxdWlyZWQoKX0pLHJlZ2V4OnMub2JqZWN0KHtyZWdleDpzLnN0cmluZygpLm1pbigzKX0pLHNwZWNpYWw6cy5vYmplY3Qoe3NwZWNpYWw6cy52YWxpZChcImRlZXBcIikucmVxdWlyZWQoKX0pLHRlbXBsYXRlOnMub2JqZWN0KHt0ZW1wbGF0ZTpzLnN0cmluZygpLnJlcXVpcmVkKCksb3B0aW9uczpzLm9iamVjdCgpfSksdmFsdWU6cy5vYmplY3Qoe3ZhbHVlOnMuYWx0ZXJuYXRpdmVzKFtzLm9iamVjdCgpLHMuYXJyYXkoKV0pLnJlcXVpcmVkKCl9KX0sbi5kZXNjLmVudGl0eT1zLmFsdGVybmF0aXZlcyhbcy5hcnJheSgpLml0ZW1zKHMubGluayhcIi4uLlwiKSkscy5ib29sZWFuKCkscy5mdW5jdGlvbigpLHMubnVtYmVyKCkscy5zdHJpbmcoKSxuLmRlc2MuYnVmZmVyLG4uZGVzYy5mdW5jLG4uZGVzYy5yZWYsbi5kZXNjLnJlZ2V4LG4uZGVzYy5zcGVjaWFsLG4uZGVzYy50ZW1wbGF0ZSxuLmRlc2MudmFsdWUscy5saW5rKFwiL1wiKV0pLG4uZGVzYy52YWx1ZXM9cy5hcnJheSgpLml0ZW1zKG51bGwscy5ib29sZWFuKCkscy5mdW5jdGlvbigpLHMubnVtYmVyKCkuYWxsb3coMS8wLC0xLzApLHMuc3RyaW5nKCkuYWxsb3coXCJcIikscy5zeW1ib2woKSxuLmRlc2MuYnVmZmVyLG4uZGVzYy5mdW5jLG4uZGVzYy5vdmVycmlkZSxuLmRlc2MucmVmLG4uZGVzYy5yZWdleCxuLmRlc2MudGVtcGxhdGUsbi5kZXNjLnZhbHVlKSxuLmRlc2MubWVzc2FnZXM9cy5vYmplY3QoKS5wYXR0ZXJuKC8uKy8sW3Muc3RyaW5nKCksbi5kZXNjLnRlbXBsYXRlLHMub2JqZWN0KCkucGF0dGVybigvLisvLFtzLnN0cmluZygpLG4uZGVzYy50ZW1wbGF0ZV0pXSksdC5kZXNjcmlwdGlvbj1zLm9iamVjdCh7dHlwZTpzLnN0cmluZygpLnJlcXVpcmVkKCksZmxhZ3M6cy5vYmplY3Qoe2Nhc3Q6cy5zdHJpbmcoKSxkZWZhdWx0OnMuYW55KCksZGVzY3JpcHRpb246cy5zdHJpbmcoKSxlbXB0eTpzLmxpbmsoXCIvXCIpLGZhaWxvdmVyOm4uZGVzYy5lbnRpdHksaWQ6cy5zdHJpbmcoKSxsYWJlbDpzLnN0cmluZygpLG9ubHk6ITAscHJlc2VuY2U6W1wib3B0aW9uYWxcIixcInJlcXVpcmVkXCIsXCJmb3JiaWRkZW5cIl0scmVzdWx0OltcInJhd1wiLFwic3RyaXBcIl0sc3RyaXA6cy5ib29sZWFuKCksdW5pdDpzLnN0cmluZygpfSkudW5rbm93bigpLHByZWZlcmVuY2VzOnthbGxvd1Vua25vd246cy5ib29sZWFuKCksYWJvcnRFYXJseTpzLmJvb2xlYW4oKSxjYWNoZTpzLmJvb2xlYW4oKSxjb252ZXJ0OnMuYm9vbGVhbigpLGRhdGVGb3JtYXQ6W1wiZGF0ZVwiLFwiaXNvXCIsXCJzdHJpbmdcIixcInRpbWVcIixcInV0Y1wiXSxlcnJvcnM6e2VzY2FwZUh0bWw6cy5ib29sZWFuKCksbGFiZWw6W1wicGF0aFwiLFwia2V5XCJdLGxhbmd1YWdlOltzLnN0cmluZygpLG4uZGVzYy5yZWZdLHdyYXA6e2xhYmVsOm4ud3JhcCxhcnJheTpuLndyYXB9fSxleHRlcm5hbHM6cy5ib29sZWFuKCksbWVzc2FnZXM6bi5kZXNjLm1lc3NhZ2VzLG5vRGVmYXVsdHM6cy5ib29sZWFuKCksbm9uRW51bWVyYWJsZXM6cy5ib29sZWFuKCkscHJlc2VuY2U6W1wicmVxdWlyZWRcIixcIm9wdGlvbmFsXCIsXCJmb3JiaWRkZW5cIl0sc2tpcEZ1bmN0aW9uczpzLmJvb2xlYW4oKSxzdHJpcFVua25vd246cy5vYmplY3Qoe2FycmF5czpzLmJvb2xlYW4oKSxvYmplY3RzOnMuYm9vbGVhbigpfSkub3IoXCJhcnJheXNcIixcIm9iamVjdHNcIikuYWxsb3coITAsITEpLHdhcm5pbmdzOnMuYm9vbGVhbigpfSxhbGxvdzpuLmRlc2MudmFsdWVzLGludmFsaWQ6bi5kZXNjLnZhbHVlcyxydWxlczpzLmFycmF5KCkubWluKDEpLml0ZW1zKHtuYW1lOnMuc3RyaW5nKCkucmVxdWlyZWQoKSxhcmdzOnMub2JqZWN0KCkubWluKDEpLGtlZXA6cy5ib29sZWFuKCksbWVzc2FnZTpbcy5zdHJpbmcoKSxuLmRlc2MubWVzc2FnZXNdLHdhcm46cy5ib29sZWFuKCl9KSxrZXlzOnMub2JqZWN0KCkucGF0dGVybigvLiovLHMubGluayhcIi9cIikpLGxpbms6bi5kZXNjLnJlZn0pLnBhdHRlcm4oL15bYS16XVxcdyokLyxzLmFueSgpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IHM9cigwKSxuPXIoMiksbz1yKDEpLGE9cig5KSxpPXt9O3QudHlwZT1mdW5jdGlvbihlLHQpe2NvbnN0IHI9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLGw9bihyKSxjPWUuX2Fzc2lnbihPYmplY3QuY3JlYXRlKGwpKSx1PU9iamVjdC5hc3NpZ24oe30sdCk7ZGVsZXRlIHUuYmFzZSxsLl9kZWZpbml0aW9uPXU7Y29uc3QgZj1yLl9kZWZpbml0aW9ufHx7fTt1Lm1lc3NhZ2VzPWEubWVyZ2UoZi5tZXNzYWdlcyx1Lm1lc3NhZ2VzKSx1LnByb3BlcnRpZXM9T2JqZWN0LmFzc2lnbih7fSxmLnByb3BlcnRpZXMsdS5wcm9wZXJ0aWVzKSxjLnR5cGU9dS50eXBlLHUuZmxhZ3M9T2JqZWN0LmFzc2lnbih7fSxmLmZsYWdzLHUuZmxhZ3MpO2NvbnN0IG09T2JqZWN0LmFzc2lnbih7fSxmLnRlcm1zKTtpZih1LnRlcm1zKWZvcihjb25zdCBlIGluIHUudGVybXMpe2NvbnN0IHQ9dS50ZXJtc1tlXTtzKHZvaWQgMD09PWMuJF90ZXJtc1tlXSxcIkludmFsaWQgdGVybSBvdmVycmlkZSBmb3JcIix1LnR5cGUsZSksYy4kX3Rlcm1zW2VdPXQuaW5pdCxtW2VdPXR9dS50ZXJtcz1tLHUuYXJnc3x8KHUuYXJncz1mLmFyZ3MpLHUucHJlcGFyZT1pLnByZXBhcmUodS5wcmVwYXJlLGYucHJlcGFyZSksdS5jb2VyY2UmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiB1LmNvZXJjZSYmKHUuY29lcmNlPXttZXRob2Q6dS5jb2VyY2V9KSx1LmNvZXJjZS5mcm9tJiYhQXJyYXkuaXNBcnJheSh1LmNvZXJjZS5mcm9tKSYmKHUuY29lcmNlPXttZXRob2Q6dS5jb2VyY2UubWV0aG9kLGZyb206W10uY29uY2F0KHUuY29lcmNlLmZyb20pfSkpLHUuY29lcmNlPWkuY29lcmNlKHUuY29lcmNlLGYuY29lcmNlKSx1LnZhbGlkYXRlPWkudmFsaWRhdGUodS52YWxpZGF0ZSxmLnZhbGlkYXRlKTtjb25zdCBoPU9iamVjdC5hc3NpZ24oe30sZi5ydWxlcyk7aWYodS5ydWxlcylmb3IoY29uc3QgZSBpbiB1LnJ1bGVzKXtjb25zdCB0PXUucnVsZXNbZV07cyhcIm9iamVjdFwiPT10eXBlb2YgdCxcIkludmFsaWQgcnVsZSBkZWZpbml0aW9uIGZvclwiLHUudHlwZSxlKTtsZXQgcj10Lm1ldGhvZDtpZih2b2lkIDA9PT1yJiYocj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRfYWRkUnVsZShlKX0pLHImJihzKCFsW2VdLFwiUnVsZSBjb25mbGljdCBpblwiLHUudHlwZSxlKSxsW2VdPXIpLHMoIWhbZV0sXCJSdWxlIGNvbmZsaWN0IGluXCIsdS50eXBlLGUpLGhbZV09dCx0LmFsaWFzKXtjb25zdCBlPVtdLmNvbmNhdCh0LmFsaWFzKTtmb3IoY29uc3QgciBvZiBlKWxbcl09dC5tZXRob2R9dC5hcmdzJiYodC5hcmdzQnlOYW1lPW5ldyBNYXAsdC5hcmdzPXQuYXJncy5tYXAoZT0+KFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT17bmFtZTplfSkscyghdC5hcmdzQnlOYW1lLmhhcyhlLm5hbWUpLFwiRHVwbGljYXRlZCBhcmd1bWVudCBuYW1lXCIsZS5uYW1lKSxvLmlzU2NoZW1hKGUuYXNzZXJ0KSYmKGUuYXNzZXJ0PWUuYXNzZXJ0LnN0cmljdCgpLmxhYmVsKGUubmFtZSkpLHQuYXJnc0J5TmFtZS5zZXQoZS5uYW1lLGUpLGUpKSl9dS5ydWxlcz1oO2NvbnN0IGQ9T2JqZWN0LmFzc2lnbih7fSxmLm1vZGlmaWVycyk7aWYodS5tb2RpZmllcnMpZm9yKGNvbnN0IGUgaW4gdS5tb2RpZmllcnMpe3MoIWxbZV0sXCJSdWxlIGNvbmZsaWN0IGluXCIsdS50eXBlLGUpO2NvbnN0IHQ9dS5tb2RpZmllcnNbZV07cyhcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LFwiSW52YWxpZCBtb2RpZmllciBkZWZpbml0aW9uIGZvclwiLHUudHlwZSxlKTtjb25zdCByPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJ1bGUoe1tlXTp0fSl9O2xbZV09cixkW2VdPXR9aWYodS5tb2RpZmllcnM9ZCx1Lm92ZXJyaWRlcyl7bC5fc3VwZXI9cixjLiRfc3VwZXI9e307Zm9yKGNvbnN0IGUgaW4gdS5vdmVycmlkZXMpcyhyW2VdLFwiQ2Fubm90IG92ZXJyaWRlIG1pc3NpbmdcIixlKSxjLiRfc3VwZXJbZV09cltlXS5iaW5kKGMpO09iamVjdC5hc3NpZ24obCx1Lm92ZXJyaWRlcyl9dS5jYXN0PU9iamVjdC5hc3NpZ24oe30sZi5jYXN0LHUuY2FzdCk7Y29uc3QgcD1PYmplY3QuYXNzaWduKHt9LGYubWFuaWZlc3QsdS5tYW5pZmVzdCk7cmV0dXJuIHAuYnVpbGQ9aS5idWlsZCh1Lm1hbmlmZXN0JiZ1Lm1hbmlmZXN0LmJ1aWxkLGYubWFuaWZlc3QmJmYubWFuaWZlc3QuYnVpbGQpLHUubWFuaWZlc3Q9cCx1LnJlYnVpbGQ9aS5yZWJ1aWxkKHUucmVidWlsZCxmLnJlYnVpbGQpLGN9LGkuYnVpbGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmdD9mdW5jdGlvbihyLHMpe3JldHVybiB0KGUocixzKSxzKX06ZXx8dH0saS5jb2VyY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmdD97ZnJvbTplLmZyb20mJnQuZnJvbT9bLi4ubmV3IFNldChbLi4uZS5mcm9tLC4uLnQuZnJvbV0pXTpudWxsLG1ldGhvZChyLHMpe2xldCBuO2lmKCghdC5mcm9tfHx0LmZyb20uaW5jbHVkZXModHlwZW9mIHIpKSYmKG49dC5tZXRob2QocixzKSxuKSl7aWYobi5lcnJvcnN8fHZvaWQgMD09PW4udmFsdWUpcmV0dXJuIG47cj1uLnZhbHVlfWlmKCFlLmZyb218fGUuZnJvbS5pbmNsdWRlcyh0eXBlb2Ygcikpe2NvbnN0IHQ9ZS5tZXRob2QocixzKTtpZih0KXJldHVybiB0fXJldHVybiBufX06ZXx8dH0saS5wcmVwYXJlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJnQ/ZnVuY3Rpb24ocixzKXtjb25zdCBuPWUocixzKTtpZihuKXtpZihuLmVycm9yc3x8dm9pZCAwPT09bi52YWx1ZSlyZXR1cm4gbjtyPW4udmFsdWV9cmV0dXJuIHQocixzKXx8bn06ZXx8dH0saS5yZWJ1aWxkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJnQ/ZnVuY3Rpb24ocil7dChyKSxlKHIpfTplfHx0fSxpLnZhbGlkYXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJnQ/ZnVuY3Rpb24ocixzKXtjb25zdCBuPXQocixzKTtpZihuKXtpZihuLmVycm9ycyYmKCFBcnJheS5pc0FycmF5KG4uZXJyb3JzKXx8bi5lcnJvcnMubGVuZ3RoKSlyZXR1cm4gbjtyPW4udmFsdWV9cmV0dXJuIGUocixzKXx8bn06ZXx8dH19LGZ1bmN0aW9uKGUsdCl7fSxmdW5jdGlvbihlLHQpe30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IHM9cigwKSxuPXIoMiksbz1yKDE0KSxhPXt9O2UuZXhwb3J0cz1hLm1lcmdlPWZ1bmN0aW9uKGUsdCxyKXtpZihzKGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLFwiSW52YWxpZCB0YXJnZXQgdmFsdWU6IG11c3QgYmUgYW4gb2JqZWN0XCIpLHMobnVsbD09dHx8XCJvYmplY3RcIj09dHlwZW9mIHQsXCJJbnZhbGlkIHNvdXJjZSB2YWx1ZTogbXVzdCBiZSBudWxsLCB1bmRlZmluZWQsIG9yIGFuIG9iamVjdFwiKSwhdClyZXR1cm4gZTtpZihyPU9iamVjdC5hc3NpZ24oe251bGxPdmVycmlkZTohMCxtZXJnZUFycmF5czohMH0sciksQXJyYXkuaXNBcnJheSh0KSl7cyhBcnJheS5pc0FycmF5KGUpLFwiQ2Fubm90IG1lcmdlIGFycmF5IG9udG8gYW4gb2JqZWN0XCIpLHIubWVyZ2VBcnJheXN8fChlLmxlbmd0aD0wKTtmb3IobGV0IHM9MDtzPHQubGVuZ3RoOysrcyllLnB1c2gobih0W3NdLHtzeW1ib2xzOnIuc3ltYm9sc30pKTtyZXR1cm4gZX1jb25zdCBpPW8ua2V5cyh0LHIpO2ZvcihsZXQgcz0wO3M8aS5sZW5ndGg7KytzKXtjb25zdCBvPWlbc107aWYoXCJfX3Byb3RvX19cIj09PW98fCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodCxvKSljb250aW51ZTtjb25zdCBsPXRbb107aWYobCYmXCJvYmplY3RcIj09dHlwZW9mIGwpe2lmKGVbb109PT1sKWNvbnRpbnVlOyFlW29dfHxcIm9iamVjdFwiIT10eXBlb2YgZVtvXXx8QXJyYXkuaXNBcnJheShlW29dKSE9PUFycmF5LmlzQXJyYXkobCl8fGwgaW5zdGFuY2VvZiBEYXRlfHxsIGluc3RhbmNlb2YgUmVnRXhwP2Vbb109bihsLHtzeW1ib2xzOnIuc3ltYm9sc30pOmEubWVyZ2UoZVtvXSxsLHIpfWVsc2UgbnVsbCE9bD9lW29dPWw6ci5udWxsT3ZlcnJpZGUmJihlW29dPWwpfXJldHVybiBlfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IHM9cigwKSxuPXIoMTApLG89cigxKSxhPXt9O2UuZXhwb3J0cz1hLlZhbHVlcz1jbGFzc3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX3ZhbHVlcz1uZXcgU2V0KGUpLHRoaXMuX3JlZnM9bmV3IFNldCh0KSx0aGlzLl9sb3dlcmNhc2U9YS5sb3dlcmNhc2VzKGUpLHRoaXMuX292ZXJyaWRlPSExfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5fdmFsdWVzLnNpemUrdGhpcy5fcmVmcy5zaXplfWFkZChlLHQpe28uaXNSZXNvbHZhYmxlKGUpP3RoaXMuX3JlZnMuaGFzKGUpfHwodGhpcy5fcmVmcy5hZGQoZSksdCYmdC5yZWdpc3RlcihlKSk6dGhpcy5oYXMoZSxudWxsLG51bGwsITEpfHwodGhpcy5fdmFsdWVzLmFkZChlKSxcInN0cmluZ1wiPT10eXBlb2YgZSYmdGhpcy5fbG93ZXJjYXNlLnNldChlLnRvTG93ZXJDYXNlKCksZSkpfXN0YXRpYyBtZXJnZShlLHQscil7aWYoZT1lfHxuZXcgYS5WYWx1ZXMsdCl7aWYodC5fb3ZlcnJpZGUpcmV0dXJuIHQuY2xvbmUoKTtmb3IoY29uc3QgciBvZlsuLi50Ll92YWx1ZXMsLi4udC5fcmVmc10pZS5hZGQocil9aWYocilmb3IoY29uc3QgdCBvZlsuLi5yLl92YWx1ZXMsLi4uci5fcmVmc10pZS5yZW1vdmUodCk7cmV0dXJuIGUubGVuZ3RoP2U6bnVsbH1yZW1vdmUoZSl7by5pc1Jlc29sdmFibGUoZSk/dGhpcy5fcmVmcy5kZWxldGUoZSk6KHRoaXMuX3ZhbHVlcy5kZWxldGUoZSksXCJzdHJpbmdcIj09dHlwZW9mIGUmJnRoaXMuX2xvd2VyY2FzZS5kZWxldGUoZS50b0xvd2VyQ2FzZSgpKSl9aGFzKGUsdCxyLHMpe3JldHVybiEhdGhpcy5nZXQoZSx0LHIscyl9Z2V0KGUsdCxyLHMpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4hMTtpZih0aGlzLl92YWx1ZXMuaGFzKGUpKXJldHVybnt2YWx1ZTplfTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmZSYmcyl7Y29uc3QgdD10aGlzLl9sb3dlcmNhc2UuZ2V0KGUudG9Mb3dlckNhc2UoKSk7aWYodClyZXR1cm57dmFsdWU6dH19aWYoIXRoaXMuX3JlZnMuc2l6ZSYmXCJvYmplY3RcIiE9dHlwZW9mIGUpcmV0dXJuITE7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUpZm9yKGNvbnN0IHQgb2YgdGhpcy5fdmFsdWVzKWlmKG4odCxlKSlyZXR1cm57dmFsdWU6dH07aWYodClmb3IoY29uc3QgbyBvZiB0aGlzLl9yZWZzKXtjb25zdCBhPW8ucmVzb2x2ZShlLHQscixudWxsLHtpbjohMH0pO2lmKHZvaWQgMD09PWEpY29udGludWU7Y29uc3QgaT1vLmluJiZcIm9iamVjdFwiPT10eXBlb2YgYT9BcnJheS5pc0FycmF5KGEpP2E6T2JqZWN0LmtleXMoYSk6W2FdO2Zvcihjb25zdCB0IG9mIGkpaWYodHlwZW9mIHQ9PXR5cGVvZiBlKWlmKHMmJmUmJlwic3RyaW5nXCI9PXR5cGVvZiBlKXtpZih0LnRvTG93ZXJDYXNlKCk9PT1lLnRvTG93ZXJDYXNlKCkpcmV0dXJue3ZhbHVlOnQscmVmOm99fWVsc2UgaWYobih0LGUpKXJldHVybnt2YWx1ZTp0LHJlZjpvfX1yZXR1cm4hMX1vdmVycmlkZSgpe3RoaXMuX292ZXJyaWRlPSEwfXZhbHVlcyhlKXtpZihlJiZlLmRpc3BsYXkpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgb2ZbLi4udGhpcy5fdmFsdWVzLC4uLnRoaXMuX3JlZnNdKXZvaWQgMCE9PXQmJmUucHVzaCh0KTtyZXR1cm4gZX1yZXR1cm4gQXJyYXkuZnJvbShbLi4udGhpcy5fdmFsdWVzLC4uLnRoaXMuX3JlZnNdKX1jbG9uZSgpe2NvbnN0IGU9bmV3IGEuVmFsdWVzKHRoaXMuX3ZhbHVlcyx0aGlzLl9yZWZzKTtyZXR1cm4gZS5fb3ZlcnJpZGU9dGhpcy5fb3ZlcnJpZGUsZX1jb25jYXQoZSl7cyghZS5fb3ZlcnJpZGUsXCJDYW5ub3QgY29uY2F0IG92ZXJyaWRlIHNldCBvZiB2YWx1ZXNcIik7Y29uc3QgdD1uZXcgYS5WYWx1ZXMoWy4uLnRoaXMuX3ZhbHVlcywuLi5lLl92YWx1ZXNdLFsuLi50aGlzLl9yZWZzLC4uLmUuX3JlZnNdKTtyZXR1cm4gdC5fb3ZlcnJpZGU9dGhpcy5fb3ZlcnJpZGUsdH1kZXNjcmliZSgpe2NvbnN0IGU9W107dGhpcy5fb3ZlcnJpZGUmJmUucHVzaCh7b3ZlcnJpZGU6ITB9KTtmb3IoY29uc3QgdCBvZiB0aGlzLl92YWx1ZXMudmFsdWVzKCkpZS5wdXNoKHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0P3t2YWx1ZTp0fTp0KTtmb3IoY29uc3QgdCBvZiB0aGlzLl9yZWZzLnZhbHVlcygpKWUucHVzaCh0LmRlc2NyaWJlKCkpO3JldHVybiBlfX0sYS5WYWx1ZXMucHJvdG90eXBlW28uc3ltYm9scy52YWx1ZXNdPSEwLGEuVmFsdWVzLnByb3RvdHlwZS5zbGljZT1hLlZhbHVlcy5wcm90b3R5cGUuY2xvbmUsYS5sb3dlcmNhc2VzPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bmV3IE1hcDtpZihlKWZvcihjb25zdCByIG9mIGUpXCJzdHJpbmdcIj09dHlwZW9mIHImJnQuc2V0KHIudG9Mb3dlckNhc2UoKSxyKTtyZXR1cm4gdH19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBzPXIoNDMpLG49cigwKSxvPXIoMiksYT1yKDQ0KSxpPXIoMyksbD1yKDEpLGM9cig4KSx1PXIoNCksZj1yKDUpLG09cig3KSxoPXtyZW5hbWVEZWZhdWx0czp7YWxpYXM6ITEsbXVsdGlwbGU6ITEsb3ZlcnJpZGU6ITF9fTtlLmV4cG9ydHM9aS5leHRlbmQoe3R5cGU6XCJfa2V5c1wiLHByb3BlcnRpZXM6e3R5cGVvZjpcIm9iamVjdFwifSxmbGFnczp7dW5rbm93bjp7ZGVmYXVsdDohMX19LHRlcm1zOntkZXBlbmRlbmNpZXM6e2luaXQ6bnVsbH0sa2V5czp7aW5pdDpudWxsLG1hbmlmZXN0OnttYXBwZWQ6e2Zyb206XCJzY2hlbWFcIix0bzpcImtleVwifX19LHBhdHRlcm5zOntpbml0Om51bGx9LHJlbmFtZXM6e2luaXQ6bnVsbH19LGFyZ3M6KGUsdCk9PmUua2V5cyh0KSx2YWxpZGF0ZShlLHtzY2hlbWE6dCxlcnJvcjpyLHN0YXRlOnMscHJlZnM6bn0pe2lmKCFlfHx0eXBlb2YgZSE9PXQuJF9wcm9wZXJ0eShcInR5cGVvZlwiKXx8QXJyYXkuaXNBcnJheShlKSlyZXR1cm57dmFsdWU6ZSxlcnJvcnM6cihcIm9iamVjdC5iYXNlXCIse3R5cGU6dC4kX3Byb3BlcnR5KFwidHlwZW9mXCIpfSl9O2lmKCEodC4kX3Rlcm1zLnJlbmFtZXN8fHQuJF90ZXJtcy5kZXBlbmRlbmNpZXN8fHQuJF90ZXJtcy5rZXlzfHx0LiRfdGVybXMucGF0dGVybnN8fHQuJF90ZXJtcy5leHRlcm5hbHMpKXJldHVybjtlPWguY2xvbmUoZSxuKTtjb25zdCBvPVtdO2lmKHQuJF90ZXJtcy5yZW5hbWVzJiYhaC5yZW5hbWUodCxlLHMsbixvKSlyZXR1cm57dmFsdWU6ZSxlcnJvcnM6b307aWYoIXQuJF90ZXJtcy5rZXlzJiYhdC4kX3Rlcm1zLnBhdHRlcm5zJiYhdC4kX3Rlcm1zLmRlcGVuZGVuY2llcylyZXR1cm57dmFsdWU6ZSxlcnJvcnM6b307Y29uc3QgYT1uZXcgU2V0KE9iamVjdC5rZXlzKGUpKTtpZih0LiRfdGVybXMua2V5cyl7Y29uc3Qgcj1bZSwuLi5zLmFuY2VzdG9yc107Zm9yKGNvbnN0IGkgb2YgdC4kX3Rlcm1zLmtleXMpe2NvbnN0IHQ9aS5rZXksbD1lW3RdO2EuZGVsZXRlKHQpO2NvbnN0IGM9cy5sb2NhbGl6ZShbLi4ucy5wYXRoLHRdLHIsaSksdT1pLnNjaGVtYS4kX3ZhbGlkYXRlKGwsYyxuKTtpZih1LmVycm9ycyl7aWYobi5hYm9ydEVhcmx5KXJldHVybnt2YWx1ZTplLGVycm9yczp1LmVycm9yc307by5wdXNoKC4uLnUuZXJyb3JzKX1lbHNlXCJzdHJpcFwiPT09aS5zY2hlbWEuX2ZsYWdzLnJlc3VsdHx8dm9pZCAwPT09dS52YWx1ZSYmdm9pZCAwIT09bD9kZWxldGUgZVt0XTp2b2lkIDAhPT11LnZhbHVlJiYoZVt0XT11LnZhbHVlKX19aWYoYS5zaXplfHx0Ll9mbGFncy5faGFzUGF0dGVybk1hdGNoKXtjb25zdCByPWgudW5rbm93bih0LGUsYSxvLHMsbik7aWYocilyZXR1cm4gcn1pZih0LiRfdGVybXMuZGVwZW5kZW5jaWVzKWZvcihjb25zdCByIG9mIHQuJF90ZXJtcy5kZXBlbmRlbmNpZXMpe2lmKHIua2V5JiZ2b2lkIDA9PT1yLmtleS5yZXNvbHZlKGUscyxuLG51bGwse3NoYWRvdzohMX0pKWNvbnRpbnVlO2NvbnN0IGE9aC5kZXBlbmRlbmNpZXNbci5yZWxdKHQscixlLHMsbik7aWYoYSl7Y29uc3Qgcj10LiRfY3JlYXRlRXJyb3IoYS5jb2RlLGUsYS5jb250ZXh0LHMsbik7aWYobi5hYm9ydEVhcmx5KXJldHVybnt2YWx1ZTplLGVycm9yczpyfTtvLnB1c2gocil9fXJldHVybnt2YWx1ZTplLGVycm9yczpvfX0scnVsZXM6e2FuZDp7bWV0aG9kKC4uLmUpe3JldHVybiBsLnZlcmlmeUZsYXQoZSxcImFuZFwiKSxoLmRlcGVuZGVuY3kodGhpcyxcImFuZFwiLG51bGwsZSl9fSxhcHBlbmQ6e21ldGhvZChlKXtyZXR1cm4gbnVsbD09ZXx8MD09PU9iamVjdC5rZXlzKGUpLmxlbmd0aD90aGlzOnRoaXMua2V5cyhlKX19LGFzc2VydDp7bWV0aG9kKGUsdCxyKXttLmlzVGVtcGxhdGUoZSl8fChlPWMucmVmKGUpKSxuKHZvaWQgMD09PXJ8fFwic3RyaW5nXCI9PXR5cGVvZiByLFwiTWVzc2FnZSBtdXN0IGJlIGEgc3RyaW5nXCIpLHQ9dGhpcy4kX2NvbXBpbGUodCx7YXBwZW5kUGF0aDohMH0pO2NvbnN0IHM9dGhpcy4kX2FkZFJ1bGUoe25hbWU6XCJhc3NlcnRcIixhcmdzOntzdWJqZWN0OmUsc2NoZW1hOnQsbWVzc2FnZTpyfX0pO3JldHVybiBzLiRfbXV0YXRlUmVnaXN0ZXIoZSkscy4kX211dGF0ZVJlZ2lzdGVyKHQpLHN9LHZhbGlkYXRlKGUse2Vycm9yOnQscHJlZnM6cixzdGF0ZTpzfSx7c3ViamVjdDpuLHNjaGVtYTpvLG1lc3NhZ2U6YX0pe2NvbnN0IGk9bi5yZXNvbHZlKGUscyxyKSxsPWYuaXNSZWYobik/bi5hYnNvbHV0ZShzKTpbXTtyZXR1cm4gby4kX21hdGNoKGkscy5sb2NhbGl6ZShsLFtlLC4uLnMuYW5jZXN0b3JzXSxvKSxyKT9lOnQoXCJvYmplY3QuYXNzZXJ0XCIse3N1YmplY3Q6bixtZXNzYWdlOmF9KX0sYXJnczpbXCJzdWJqZWN0XCIsXCJzY2hlbWFcIixcIm1lc3NhZ2VcIl0sbXVsdGk6ITB9LGluc3RhbmNlOnttZXRob2QoZSx0KXtyZXR1cm4gbihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLFwiY29uc3RydWN0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpLHQ9dHx8ZS5uYW1lLHRoaXMuJF9hZGRSdWxlKHtuYW1lOlwiaW5zdGFuY2VcIixhcmdzOntjb25zdHJ1Y3RvcjplLG5hbWU6dH19KX0sdmFsaWRhdGU6KGUsdCx7Y29uc3RydWN0b3I6cixuYW1lOnN9KT0+ZSBpbnN0YW5jZW9mIHI/ZTp0LmVycm9yKFwib2JqZWN0Lmluc3RhbmNlXCIse3R5cGU6cyx2YWx1ZTplfSksYXJnczpbXCJjb25zdHJ1Y3RvclwiLFwibmFtZVwiXX0sa2V5czp7bWV0aG9kKGUpe24odm9pZCAwPT09ZXx8XCJvYmplY3RcIj09dHlwZW9mIGUsXCJPYmplY3Qgc2NoZW1hIG11c3QgYmUgYSB2YWxpZCBvYmplY3RcIiksbighbC5pc1NjaGVtYShlKSxcIk9iamVjdCBzY2hlbWEgY2Fubm90IGJlIGEgam9pIHNjaGVtYVwiKTtjb25zdCB0PXRoaXMuY2xvbmUoKTtpZihlKWlmKE9iamVjdC5rZXlzKGUpLmxlbmd0aCl7dC4kX3Rlcm1zLmtleXM9dC4kX3Rlcm1zLmtleXM/dC4kX3Rlcm1zLmtleXMuZmlsdGVyKHQ9PiFlLmhhc093blByb3BlcnR5KHQua2V5KSk6bmV3IGguS2V5cztmb3IoY29uc3QgciBpbiBlKWwudHJ5V2l0aFBhdGgoKCk9PnQuJF90ZXJtcy5rZXlzLnB1c2goe2tleTpyLHNjaGVtYTp0aGlzLiRfY29tcGlsZShlW3JdKX0pLHIpfWVsc2UgdC4kX3Rlcm1zLmtleXM9bmV3IGguS2V5cztlbHNlIHQuJF90ZXJtcy5rZXlzPW51bGw7cmV0dXJuIHQuJF9tdXRhdGVSZWJ1aWxkKCl9fSxsZW5ndGg6e21ldGhvZChlKXtyZXR1cm4gdGhpcy4kX2FkZFJ1bGUoe25hbWU6XCJsZW5ndGhcIixhcmdzOntsaW1pdDplfSxvcGVyYXRvcjpcIj1cIn0pfSx2YWxpZGF0ZTooZSx0LHtsaW1pdDpyfSx7bmFtZTpzLG9wZXJhdG9yOm4sYXJnczpvfSk9PmwuY29tcGFyZShPYmplY3Qua2V5cyhlKS5sZW5ndGgscixuKT9lOnQuZXJyb3IoXCJvYmplY3QuXCIrcyx7bGltaXQ6by5saW1pdCx2YWx1ZTplfSksYXJnczpbe25hbWU6XCJsaW1pdFwiLHJlZjohMCxhc3NlcnQ6bC5saW1pdCxtZXNzYWdlOlwibXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXJcIn1dfSxtYXg6e21ldGhvZChlKXtyZXR1cm4gdGhpcy4kX2FkZFJ1bGUoe25hbWU6XCJtYXhcIixtZXRob2Q6XCJsZW5ndGhcIixhcmdzOntsaW1pdDplfSxvcGVyYXRvcjpcIjw9XCJ9KX19LG1pbjp7bWV0aG9kKGUpe3JldHVybiB0aGlzLiRfYWRkUnVsZSh7bmFtZTpcIm1pblwiLG1ldGhvZDpcImxlbmd0aFwiLGFyZ3M6e2xpbWl0OmV9LG9wZXJhdG9yOlwiPj1cIn0pfX0sbmFuZDp7bWV0aG9kKC4uLmUpe3JldHVybiBsLnZlcmlmeUZsYXQoZSxcIm5hbmRcIiksaC5kZXBlbmRlbmN5KHRoaXMsXCJuYW5kXCIsbnVsbCxlKX19LG9yOnttZXRob2QoLi4uZSl7cmV0dXJuIGwudmVyaWZ5RmxhdChlLFwib3JcIiksaC5kZXBlbmRlbmN5KHRoaXMsXCJvclwiLG51bGwsZSl9fSxveG9yOnttZXRob2QoLi4uZSl7cmV0dXJuIGguZGVwZW5kZW5jeSh0aGlzLFwib3hvclwiLG51bGwsZSl9fSxwYXR0ZXJuOnttZXRob2QoZSx0LHI9e30pe2NvbnN0IHM9ZSBpbnN0YW5jZW9mIFJlZ0V4cDtzfHwoZT10aGlzLiRfY29tcGlsZShlLHthcHBlbmRQYXRoOiEwfSkpLG4odm9pZCAwIT09dCxcIkludmFsaWQgcnVsZVwiKSxsLmFzc2VydE9wdGlvbnMocixbXCJmYWxsdGhyb3VnaFwiLFwibWF0Y2hlc1wiXSkscyYmbighZS5mbGFncy5pbmNsdWRlcyhcImdcIikmJiFlLmZsYWdzLmluY2x1ZGVzKFwieVwiKSxcInBhdHRlcm4gc2hvdWxkIG5vdCB1c2UgZ2xvYmFsIG9yIHN0aWNreSBtb2RlXCIpLHQ9dGhpcy4kX2NvbXBpbGUodCx7YXBwZW5kUGF0aDohMH0pO2NvbnN0IG89dGhpcy5jbG9uZSgpO28uJF90ZXJtcy5wYXR0ZXJucz1vLiRfdGVybXMucGF0dGVybnN8fFtdO2NvbnN0IGE9e1tzP1wicmVnZXhcIjpcInNjaGVtYVwiXTplLHJ1bGU6dH07cmV0dXJuIHIubWF0Y2hlcyYmKGEubWF0Y2hlcz10aGlzLiRfY29tcGlsZShyLm1hdGNoZXMpLFwiYXJyYXlcIiE9PWEubWF0Y2hlcy50eXBlJiYoYS5tYXRjaGVzPWEubWF0Y2hlcy4kX3Jvb3QuYXJyYXkoKS5pdGVtcyhhLm1hdGNoZXMpKSxvLiRfbXV0YXRlUmVnaXN0ZXIoYS5tYXRjaGVzKSxvLiRfc2V0RmxhZyhcIl9oYXNQYXR0ZXJuTWF0Y2hcIiwhMCx7Y2xvbmU6ITF9KSksci5mYWxsdGhyb3VnaCYmKGEuZmFsbHRocm91Z2g9ITApLG8uJF90ZXJtcy5wYXR0ZXJucy5wdXNoKGEpLG8uJF9tdXRhdGVSZWdpc3Rlcih0KSxvfX0scmVmOnttZXRob2QoKXtyZXR1cm4gdGhpcy4kX2FkZFJ1bGUoXCJyZWZcIil9LHZhbGlkYXRlOihlLHQpPT5mLmlzUmVmKGUpP2U6dC5lcnJvcihcIm9iamVjdC5yZWZUeXBlXCIse3ZhbHVlOmV9KX0scmVnZXg6e21ldGhvZCgpe3JldHVybiB0aGlzLiRfYWRkUnVsZShcInJlZ2V4XCIpfSx2YWxpZGF0ZTooZSx0KT0+ZSBpbnN0YW5jZW9mIFJlZ0V4cD9lOnQuZXJyb3IoXCJvYmplY3QucmVnZXhcIix7dmFsdWU6ZX0pfSxyZW5hbWU6e21ldGhvZChlLHQscj17fSl7bihcInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFJlZ0V4cCxcIlJlbmFtZSBtaXNzaW5nIHRoZSBmcm9tIGFyZ3VtZW50XCIpLG4oXCJzdHJpbmdcIj09dHlwZW9mIHR8fHQgaW5zdGFuY2VvZiBtLFwiSW52YWxpZCByZW5hbWUgdG8gYXJndW1lbnRcIiksbih0IT09ZSxcIkNhbm5vdCByZW5hbWUga2V5IHRvIHNhbWUgbmFtZTpcIixlKSxsLmFzc2VydE9wdGlvbnMocixbXCJhbGlhc1wiLFwiaWdub3JlVW5kZWZpbmVkXCIsXCJvdmVycmlkZVwiLFwibXVsdGlwbGVcIl0pO2NvbnN0IG89dGhpcy5jbG9uZSgpO28uJF90ZXJtcy5yZW5hbWVzPW8uJF90ZXJtcy5yZW5hbWVzfHxbXTtmb3IoY29uc3QgdCBvZiBvLiRfdGVybXMucmVuYW1lcyluKHQuZnJvbSE9PWUsXCJDYW5ub3QgcmVuYW1lIHRoZSBzYW1lIGtleSBtdWx0aXBsZSB0aW1lc1wiKTtyZXR1cm4gdCBpbnN0YW5jZW9mIG0mJm8uJF9tdXRhdGVSZWdpc3Rlcih0KSxvLiRfdGVybXMucmVuYW1lcy5wdXNoKHtmcm9tOmUsdG86dCxvcHRpb25zOnMoaC5yZW5hbWVEZWZhdWx0cyxyKX0pLG99fSxzY2hlbWE6e21ldGhvZChlPVwiYW55XCIpe3JldHVybiB0aGlzLiRfYWRkUnVsZSh7bmFtZTpcInNjaGVtYVwiLGFyZ3M6e3R5cGU6ZX19KX0sdmFsaWRhdGU6KGUsdCx7dHlwZTpyfSk9PiFsLmlzU2NoZW1hKGUpfHxcImFueVwiIT09ciYmZS50eXBlIT09cj90LmVycm9yKFwib2JqZWN0LnNjaGVtYVwiLHt0eXBlOnJ9KTplfSx1bmtub3duOnttZXRob2QoZSl7cmV0dXJuIHRoaXMuJF9zZXRGbGFnKFwidW5rbm93blwiLCExIT09ZSl9fSx3aXRoOnttZXRob2QoZSx0LHI9e30pe3JldHVybiBoLmRlcGVuZGVuY3kodGhpcyxcIndpdGhcIixlLHQscil9fSx3aXRob3V0OnttZXRob2QoZSx0LHI9e30pe3JldHVybiBoLmRlcGVuZGVuY3kodGhpcyxcIndpdGhvdXRcIixlLHQscil9fSx4b3I6e21ldGhvZCguLi5lKXtyZXR1cm4gbC52ZXJpZnlGbGF0KGUsXCJ4b3JcIiksaC5kZXBlbmRlbmN5KHRoaXMsXCJ4b3JcIixudWxsLGUpfX19LG92ZXJyaWRlczp7ZGVmYXVsdChlLHQpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1sLnN5bWJvbHMuZGVlcERlZmF1bHQpLHRoaXMuJF9zdXBlci5kZWZhdWx0KGUsdCl9fSxyZWJ1aWxkKGUpe2lmKGUuJF90ZXJtcy5rZXlzKXtjb25zdCB0PW5ldyBhLlNvcnRlcjtmb3IoY29uc3QgciBvZiBlLiRfdGVybXMua2V5cylsLnRyeVdpdGhQYXRoKCgpPT50LmFkZChyLHthZnRlcjpyLnNjaGVtYS4kX3Jvb3RSZWZlcmVuY2VzKCksZ3JvdXA6ci5rZXl9KSxyLmtleSk7ZS4kX3Rlcm1zLmtleXM9bmV3IGguS2V5cyguLi50Lm5vZGVzKX19LG1hbmlmZXN0OntidWlsZChlLHQpe2lmKHQua2V5cyYmKGU9ZS5rZXlzKHQua2V5cykpLHQuZGVwZW5kZW5jaWVzKWZvcihjb25zdHtyZWw6cixrZXk6cz1udWxsLHBlZXJzOm4sb3B0aW9uczpvfW9mIHQuZGVwZW5kZW5jaWVzKWU9aC5kZXBlbmRlbmN5KGUscixzLG4sbyk7aWYodC5wYXR0ZXJucylmb3IoY29uc3R7cmVnZXg6cixzY2hlbWE6cyxydWxlOm4sZmFsbHRocm91Z2g6byxtYXRjaGVzOmF9b2YgdC5wYXR0ZXJucyllPWUucGF0dGVybihyfHxzLG4se2ZhbGx0aHJvdWdoOm8sbWF0Y2hlczphfSk7aWYodC5yZW5hbWVzKWZvcihjb25zdHtmcm9tOnIsdG86cyxvcHRpb25zOm59b2YgdC5yZW5hbWVzKWU9ZS5yZW5hbWUocixzLG4pO3JldHVybiBlfX0sbWVzc2FnZXM6e1wib2JqZWN0LmFuZFwiOlwie3sjbGFiZWx9fSBjb250YWlucyB7eyNwcmVzZW50V2l0aExhYmVsc319IHdpdGhvdXQgaXRzIHJlcXVpcmVkIHBlZXJzIHt7I21pc3NpbmdXaXRoTGFiZWxzfX1cIixcIm9iamVjdC5hc3NlcnRcIjone3sjbGFiZWx9fSBpcyBpbnZhbGlkIGJlY2F1c2Uge2lmKCNzdWJqZWN0LmtleSwgYFwiYCArICNzdWJqZWN0LmtleSArIGBcIiBmYWlsZWQgdG8gYCArICgjbWVzc2FnZSB8fCBcInBhc3MgdGhlIGFzc2VydGlvbiB0ZXN0XCIpLCAjbWVzc2FnZSB8fCBcInRoZSBhc3NlcnRpb24gZmFpbGVkXCIpfScsXCJvYmplY3QuYmFzZVwiOlwie3sjbGFiZWx9fSBtdXN0IGJlIG9mIHR5cGUge3sjdHlwZX19XCIsXCJvYmplY3QuaW5zdGFuY2VcIjone3sjbGFiZWx9fSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFwie3sjdHlwZX19XCInLFwib2JqZWN0Lmxlbmd0aFwiOid7eyNsYWJlbH19IG11c3QgaGF2ZSB7eyNsaW1pdH19IGtleXtpZigjbGltaXQgPT0gMSwgXCJcIiwgXCJzXCIpfScsXCJvYmplY3QubWF4XCI6J3t7I2xhYmVsfX0gbXVzdCBoYXZlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB7eyNsaW1pdH19IGtleXtpZigjbGltaXQgPT0gMSwgXCJcIiwgXCJzXCIpfScsXCJvYmplY3QubWluXCI6J3t7I2xhYmVsfX0gbXVzdCBoYXZlIGF0IGxlYXN0IHt7I2xpbWl0fX0ga2V5e2lmKCNsaW1pdCA9PSAxLCBcIlwiLCBcInNcIil9JyxcIm9iamVjdC5taXNzaW5nXCI6XCJ7eyNsYWJlbH19IG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgb2Yge3sjcGVlcnNXaXRoTGFiZWxzfX1cIixcIm9iamVjdC5uYW5kXCI6J1wie3sjbWFpbldpdGhMYWJlbH19XCIgbXVzdCBub3QgZXhpc3Qgc2ltdWx0YW5lb3VzbHkgd2l0aCB7eyNwZWVyc1dpdGhMYWJlbHN9fScsXCJvYmplY3Qub3hvclwiOlwie3sjbGFiZWx9fSBjb250YWlucyBhIGNvbmZsaWN0IGJldHdlZW4gb3B0aW9uYWwgZXhjbHVzaXZlIHBlZXJzIHt7I3BlZXJzV2l0aExhYmVsc319XCIsXCJvYmplY3QucGF0dGVybi5tYXRjaFwiOlwie3sjbGFiZWx9fSBrZXlzIGZhaWxlZCB0byBtYXRjaCBwYXR0ZXJuIHJlcXVpcmVtZW50c1wiLFwib2JqZWN0LnJlZlR5cGVcIjpcInt7I2xhYmVsfX0gbXVzdCBiZSBhIEpvaSByZWZlcmVuY2VcIixcIm9iamVjdC5yZWdleFwiOlwie3sjbGFiZWx9fSBtdXN0IGJlIGEgUmVnRXhwIG9iamVjdFwiLFwib2JqZWN0LnJlbmFtZS5tdWx0aXBsZVwiOid7eyNsYWJlbH19IGNhbm5vdCByZW5hbWUgXCJ7eyNmcm9tfX1cIiBiZWNhdXNlIG11bHRpcGxlIHJlbmFtZXMgYXJlIGRpc2FibGVkIGFuZCBhbm90aGVyIGtleSB3YXMgYWxyZWFkeSByZW5hbWVkIHRvIFwie3sjdG99fVwiJyxcIm9iamVjdC5yZW5hbWUub3ZlcnJpZGVcIjone3sjbGFiZWx9fSBjYW5ub3QgcmVuYW1lIFwie3sjZnJvbX19XCIgYmVjYXVzZSBvdmVycmlkZSBpcyBkaXNhYmxlZCBhbmQgdGFyZ2V0IFwie3sjdG99fVwiIGV4aXN0cycsXCJvYmplY3Quc2NoZW1hXCI6XCJ7eyNsYWJlbH19IG11c3QgYmUgYSBKb2kgc2NoZW1hIG9mIHt7I3R5cGV9fSB0eXBlXCIsXCJvYmplY3QudW5rbm93blwiOlwie3sjbGFiZWx9fSBpcyBub3QgYWxsb3dlZFwiLFwib2JqZWN0LndpdGhcIjonXCJ7eyNtYWluV2l0aExhYmVsfX1cIiBtaXNzaW5nIHJlcXVpcmVkIHBlZXIgXCJ7eyNwZWVyV2l0aExhYmVsfX1cIicsXCJvYmplY3Qud2l0aG91dFwiOidcInt7I21haW5XaXRoTGFiZWx9fVwiIGNvbmZsaWN0IHdpdGggZm9yYmlkZGVuIHBlZXIgXCJ7eyNwZWVyV2l0aExhYmVsfX1cIicsXCJvYmplY3QueG9yXCI6XCJ7eyNsYWJlbH19IGNvbnRhaW5zIGEgY29uZmxpY3QgYmV0d2VlbiBleGNsdXNpdmUgcGVlcnMge3sjcGVlcnNXaXRoTGFiZWxzfX1cIn19KSxoLmNsb25lPWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUpe2lmKHQubm9uRW51bWVyYWJsZXMpcmV0dXJuIG8oZSx7c2hhbGxvdzohMH0pO2NvbnN0IHI9T2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkpO3JldHVybiBPYmplY3QuYXNzaWduKHIsZSkscn1jb25zdCByPWZ1bmN0aW9uKC4uLnQpe3JldHVybiBlLmFwcGx5KHRoaXMsdCl9O3JldHVybiByLnByb3RvdHlwZT1vKGUucHJvdG90eXBlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcIm5hbWVcIix7dmFsdWU6ZS5uYW1lLHdyaXRhYmxlOiExfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJsZW5ndGhcIix7dmFsdWU6ZS5sZW5ndGgsd3JpdGFibGU6ITF9KSxPYmplY3QuYXNzaWduKHIsZSkscn0saC5kZXBlbmRlbmN5PWZ1bmN0aW9uKGUsdCxyLHMsbyl7bihudWxsPT09cnx8XCJzdHJpbmdcIj09dHlwZW9mIHIsdCxcImtleSBtdXN0IGJlIGEgc3RyaW5nc1wiKSxvfHwobz1zLmxlbmd0aD4xJiZcIm9iamVjdFwiPT10eXBlb2Ygc1tzLmxlbmd0aC0xXT9zLnBvcCgpOnt9KSxsLmFzc2VydE9wdGlvbnMobyxbXCJzZXBhcmF0b3JcIl0pLHM9W10uY29uY2F0KHMpO2NvbnN0IGE9bC5kZWZhdWx0KG8uc2VwYXJhdG9yLFwiLlwiKSxpPVtdO2Zvcihjb25zdCBlIG9mIHMpbihcInN0cmluZ1wiPT10eXBlb2YgZSx0LFwicGVlcnMgbXVzdCBiZSBhIHN0cmluZyBvciBhIHJlZmVyZW5jZVwiKSxpLnB1c2goYy5yZWYoZSx7c2VwYXJhdG9yOmEsYW5jZXN0b3I6MCxwcmVmaXg6ITF9KSk7bnVsbCE9PXImJihyPWMucmVmKHIse3NlcGFyYXRvcjphLGFuY2VzdG9yOjAscHJlZml4OiExfSkpO2NvbnN0IHU9ZS5jbG9uZSgpO3JldHVybiB1LiRfdGVybXMuZGVwZW5kZW5jaWVzPXUuJF90ZXJtcy5kZXBlbmRlbmNpZXN8fFtdLHUuJF90ZXJtcy5kZXBlbmRlbmNpZXMucHVzaChuZXcgaC5EZXBlbmRlbmN5KHQscixpLHMpKSx1fSxoLmRlcGVuZGVuY2llcz17YW5kKGUsdCxyLHMsbil7Y29uc3Qgbz1bXSxhPVtdLGk9dC5wZWVycy5sZW5ndGg7Zm9yKGNvbnN0IGUgb2YgdC5wZWVycyl2b2lkIDA9PT1lLnJlc29sdmUocixzLG4sbnVsbCx7c2hhZG93OiExfSk/by5wdXNoKGUua2V5KTphLnB1c2goZS5rZXkpO2lmKG8ubGVuZ3RoIT09aSYmYS5sZW5ndGghPT1pKXJldHVybntjb2RlOlwib2JqZWN0LmFuZFwiLGNvbnRleHQ6e3ByZXNlbnQ6YSxwcmVzZW50V2l0aExhYmVsczpoLmtleXNUb0xhYmVscyhlLGEpLG1pc3Npbmc6byxtaXNzaW5nV2l0aExhYmVsczpoLmtleXNUb0xhYmVscyhlLG8pfX19LG5hbmQoZSx0LHIscyxuKXtjb25zdCBvPVtdO2Zvcihjb25zdCBlIG9mIHQucGVlcnMpdm9pZCAwIT09ZS5yZXNvbHZlKHIscyxuLG51bGwse3NoYWRvdzohMX0pJiZvLnB1c2goZS5rZXkpO2lmKG8ubGVuZ3RoIT09dC5wZWVycy5sZW5ndGgpcmV0dXJuO2NvbnN0IGE9dC5wYXRoc1swXSxpPXQucGF0aHMuc2xpY2UoMSk7cmV0dXJue2NvZGU6XCJvYmplY3QubmFuZFwiLGNvbnRleHQ6e21haW46YSxtYWluV2l0aExhYmVsOmgua2V5c1RvTGFiZWxzKGUsYSkscGVlcnM6aSxwZWVyc1dpdGhMYWJlbHM6aC5rZXlzVG9MYWJlbHMoZSxpKX19fSxvcihlLHQscixzLG4pe2Zvcihjb25zdCBlIG9mIHQucGVlcnMpaWYodm9pZCAwIT09ZS5yZXNvbHZlKHIscyxuLG51bGwse3NoYWRvdzohMX0pKXJldHVybjtyZXR1cm57Y29kZTpcIm9iamVjdC5taXNzaW5nXCIsY29udGV4dDp7cGVlcnM6dC5wYXRocyxwZWVyc1dpdGhMYWJlbHM6aC5rZXlzVG9MYWJlbHMoZSx0LnBhdGhzKX19fSxveG9yKGUsdCxyLHMsbil7Y29uc3Qgbz1bXTtmb3IoY29uc3QgZSBvZiB0LnBlZXJzKXZvaWQgMCE9PWUucmVzb2x2ZShyLHMsbixudWxsLHtzaGFkb3c6ITF9KSYmby5wdXNoKGUua2V5KTtpZighby5sZW5ndGh8fDE9PT1vLmxlbmd0aClyZXR1cm47Y29uc3QgYT17cGVlcnM6dC5wYXRocyxwZWVyc1dpdGhMYWJlbHM6aC5rZXlzVG9MYWJlbHMoZSx0LnBhdGhzKX07cmV0dXJuIGEucHJlc2VudD1vLGEucHJlc2VudFdpdGhMYWJlbHM9aC5rZXlzVG9MYWJlbHMoZSxvKSx7Y29kZTpcIm9iamVjdC5veG9yXCIsY29udGV4dDphfX0sd2l0aChlLHQscixzLG4pe2Zvcihjb25zdCBvIG9mIHQucGVlcnMpaWYodm9pZCAwPT09by5yZXNvbHZlKHIscyxuLG51bGwse3NoYWRvdzohMX0pKXJldHVybntjb2RlOlwib2JqZWN0LndpdGhcIixjb250ZXh0OnttYWluOnQua2V5LmtleSxtYWluV2l0aExhYmVsOmgua2V5c1RvTGFiZWxzKGUsdC5rZXkua2V5KSxwZWVyOm8ua2V5LHBlZXJXaXRoTGFiZWw6aC5rZXlzVG9MYWJlbHMoZSxvLmtleSl9fX0sd2l0aG91dChlLHQscixzLG4pe2Zvcihjb25zdCBvIG9mIHQucGVlcnMpaWYodm9pZCAwIT09by5yZXNvbHZlKHIscyxuLG51bGwse3NoYWRvdzohMX0pKXJldHVybntjb2RlOlwib2JqZWN0LndpdGhvdXRcIixjb250ZXh0OnttYWluOnQua2V5LmtleSxtYWluV2l0aExhYmVsOmgua2V5c1RvTGFiZWxzKGUsdC5rZXkua2V5KSxwZWVyOm8ua2V5LHBlZXJXaXRoTGFiZWw6aC5rZXlzVG9MYWJlbHMoZSxvLmtleSl9fX0seG9yKGUsdCxyLHMsbil7Y29uc3Qgbz1bXTtmb3IoY29uc3QgZSBvZiB0LnBlZXJzKXZvaWQgMCE9PWUucmVzb2x2ZShyLHMsbixudWxsLHtzaGFkb3c6ITF9KSYmby5wdXNoKGUua2V5KTtpZigxPT09by5sZW5ndGgpcmV0dXJuO2NvbnN0IGE9e3BlZXJzOnQucGF0aHMscGVlcnNXaXRoTGFiZWxzOmgua2V5c1RvTGFiZWxzKGUsdC5wYXRocyl9O3JldHVybiAwPT09by5sZW5ndGg/e2NvZGU6XCJvYmplY3QubWlzc2luZ1wiLGNvbnRleHQ6YX06KGEucHJlc2VudD1vLGEucHJlc2VudFdpdGhMYWJlbHM9aC5rZXlzVG9MYWJlbHMoZSxvKSx7Y29kZTpcIm9iamVjdC54b3JcIixjb250ZXh0OmF9KX19LGgua2V5c1RvTGFiZWxzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5tYXAodD0+ZS4kX21hcExhYmVscyh0KSk6ZS4kX21hcExhYmVscyh0KX0saC5yZW5hbWU9ZnVuY3Rpb24oZSx0LHIscyxuKXtjb25zdCBvPXt9O2Zvcihjb25zdCBhIG9mIGUuJF90ZXJtcy5yZW5hbWVzKXtjb25zdCBpPVtdLGw9XCJzdHJpbmdcIiE9dHlwZW9mIGEuZnJvbTtpZihsKWZvcihjb25zdCBlIGluIHQpe2lmKHZvaWQgMD09PXRbZV0mJmEub3B0aW9ucy5pZ25vcmVVbmRlZmluZWQpY29udGludWU7aWYoZT09PWEudG8pY29udGludWU7Y29uc3Qgcj1hLmZyb20uZXhlYyhlKTtyJiZpLnB1c2goe2Zyb206ZSx0bzphLnRvLG1hdGNoOnJ9KX1lbHNlIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGEuZnJvbSl8fHZvaWQgMD09PXRbYS5mcm9tXSYmYS5vcHRpb25zLmlnbm9yZVVuZGVmaW5lZHx8aS5wdXNoKGEpO2Zvcihjb25zdCBjIG9mIGkpe2NvbnN0IGk9Yy5mcm9tO2xldCB1PWMudG87aWYodSBpbnN0YW5jZW9mIG0mJih1PXUucmVuZGVyKHQscixzLGMubWF0Y2gpKSxpIT09dSl7aWYoIWEub3B0aW9ucy5tdWx0aXBsZSYmb1t1XSYmKG4ucHVzaChlLiRfY3JlYXRlRXJyb3IoXCJvYmplY3QucmVuYW1lLm11bHRpcGxlXCIsdCx7ZnJvbTppLHRvOnUscGF0dGVybjpsfSxyLHMpKSxzLmFib3J0RWFybHkpKXJldHVybiExO2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHUpJiYhYS5vcHRpb25zLm92ZXJyaWRlJiYhb1t1XSYmKG4ucHVzaChlLiRfY3JlYXRlRXJyb3IoXCJvYmplY3QucmVuYW1lLm92ZXJyaWRlXCIsdCx7ZnJvbTppLHRvOnUscGF0dGVybjpsfSxyLHMpKSxzLmFib3J0RWFybHkpKXJldHVybiExO3ZvaWQgMD09PXRbaV0/ZGVsZXRlIHRbdV06dFt1XT10W2ldLG9bdV09ITAsYS5vcHRpb25zLmFsaWFzfHxkZWxldGUgdFtpXX19fXJldHVybiEwfSxoLnVua25vd249ZnVuY3Rpb24oZSx0LHIscyxuLG8pe2lmKGUuJF90ZXJtcy5wYXR0ZXJucyl7bGV0IGE9ITE7Y29uc3QgaT1lLiRfdGVybXMucGF0dGVybnMubWFwKGU9PntpZihlLm1hdGNoZXMpcmV0dXJuIGE9ITAsW119KSxsPVt0LC4uLm4uYW5jZXN0b3JzXTtmb3IoY29uc3QgYSBvZiByKXtjb25zdCBjPXRbYV0sdT1bLi4ubi5wYXRoLGFdO2ZvcihsZXQgZj0wO2Y8ZS4kX3Rlcm1zLnBhdHRlcm5zLmxlbmd0aDsrK2Ype2NvbnN0IG09ZS4kX3Rlcm1zLnBhdHRlcm5zW2ZdO2lmKG0ucmVnZXgpe2NvbnN0IGU9bS5yZWdleC50ZXN0KGEpO2lmKG4ubWFpbnN0YXkudHJhY2VyLmRlYnVnKG4sXCJydWxlXCIsXCJwYXR0ZXJuLlwiLmNvbmNhdChmKSxlP1wicGFzc1wiOlwiZXJyb3JcIiksIWUpY29udGludWV9ZWxzZSBpZighbS5zY2hlbWEuJF9tYXRjaChhLG4ubmVzdChtLnNjaGVtYSxcInBhdHRlcm4uXCIuY29uY2F0KGYpKSxvKSljb250aW51ZTtyLmRlbGV0ZShhKTtjb25zdCBoPW4ubG9jYWxpemUodSxsLHtzY2hlbWE6bS5ydWxlLGtleTphfSksZD1tLnJ1bGUuJF92YWxpZGF0ZShjLGgsbyk7aWYoZC5lcnJvcnMpe2lmKG8uYWJvcnRFYXJseSlyZXR1cm57dmFsdWU6dCxlcnJvcnM6ZC5lcnJvcnN9O3MucHVzaCguLi5kLmVycm9ycyl9aWYobS5tYXRjaGVzJiZpW2ZdLnB1c2goYSksdFthXT1kLnZhbHVlLCFtLmZhbGx0aHJvdWdoKWJyZWFrfX1pZihhKWZvcihsZXQgcj0wO3I8aS5sZW5ndGg7KytyKXtjb25zdCBhPWlbcl07aWYoIWEpY29udGludWU7Y29uc3QgYz1lLiRfdGVybXMucGF0dGVybnNbcl0ubWF0Y2hlcyxmPW4ubG9jYWxpemUobi5wYXRoLGwsYyksbT1jLiRfdmFsaWRhdGUoYSxmLG8pO2lmKG0uZXJyb3JzKXtjb25zdCByPXUuZGV0YWlscyhtLmVycm9ycyx7b3ZlcnJpZGU6ITF9KTtyLm1hdGNoZXM9YTtjb25zdCBpPWUuJF9jcmVhdGVFcnJvcihcIm9iamVjdC5wYXR0ZXJuLm1hdGNoXCIsdCxyLG4sbyk7aWYoby5hYm9ydEVhcmx5KXJldHVybnt2YWx1ZTp0LGVycm9yczppfTtzLnB1c2goaSl9fX1pZighci5zaXplfHwhZS4kX3Rlcm1zLmtleXMmJiFlLiRfdGVybXMucGF0dGVybnMpcmV0dXJuO2lmKG8uc3RyaXBVbmtub3duJiYhZS5fZmxhZ3MudW5rbm93bnx8by5za2lwRnVuY3Rpb25zKXtjb25zdCBlPSEhby5zdHJpcFVua25vd24mJighMD09PW8uc3RyaXBVbmtub3dufHwhIW8uc3RyaXBVbmtub3duLm9iamVjdHMpO2Zvcihjb25zdCBzIG9mIHIpZT8oZGVsZXRlIHRbc10sci5kZWxldGUocykpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHRbc10mJnIuZGVsZXRlKHMpfWlmKCFsLmRlZmF1bHQoZS5fZmxhZ3MudW5rbm93bixvLmFsbG93VW5rbm93bikpZm9yKGNvbnN0IGEgb2Ygcil7Y29uc3Qgcj1uLmxvY2FsaXplKFsuLi5uLnBhdGgsYV0sW10pLGk9ZS4kX2NyZWF0ZUVycm9yKFwib2JqZWN0LnVua25vd25cIix0W2FdLHtjaGlsZDphfSxyLG8se2ZsYWdzOiExfSk7aWYoby5hYm9ydEVhcmx5KXJldHVybnt2YWx1ZTp0LGVycm9yczppfTtzLnB1c2goaSl9fSxoLkRlcGVuZGVuY3k9Y2xhc3N7Y29uc3RydWN0b3IoZSx0LHIscyl7dGhpcy5yZWw9ZSx0aGlzLmtleT10LHRoaXMucGVlcnM9cix0aGlzLnBhdGhzPXN9ZGVzY3JpYmUoKXtjb25zdCBlPXtyZWw6dGhpcy5yZWwscGVlcnM6dGhpcy5wYXRoc307cmV0dXJuIG51bGwhPT10aGlzLmtleSYmKGUua2V5PXRoaXMua2V5LmtleSksXCIuXCIhPT10aGlzLnBlZXJzWzBdLnNlcGFyYXRvciYmKGUub3B0aW9ucz17c2VwYXJhdG9yOnRoaXMucGVlcnNbMF0uc2VwYXJhdG9yfSksZX19LGguS2V5cz1jbGFzcyBleHRlbmRzIEFycmF5e2NvbmNhdChlKXtjb25zdCB0PXRoaXMuc2xpY2UoKSxyPW5ldyBNYXA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDsrK2Upci5zZXQodFtlXS5rZXksZSk7Zm9yKGNvbnN0IHMgb2YgZSl7Y29uc3QgZT1zLmtleSxuPXIuZ2V0KGUpO3ZvaWQgMCE9PW4/dFtuXT17a2V5OmUsc2NoZW1hOnRbbl0uc2NoZW1hLmNvbmNhdChzLnNjaGVtYSl9OnQucHVzaChzKX1yZXR1cm4gdH19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcz1yKDI0KSxuPXIoMjUpLG89e21pbkRvbWFpblNlZ21lbnRzOjIsbm9uQXNjaWlSeDovW15cXHgwMC1cXHg3Zl0vLGRvbWFpbkNvbnRyb2xSeDovW1xceDAwLVxceDIwQFxcOlxcL10vLHRsZFNlZ21lbnRSeDovXlthLXpBLVpdKD86W2EtekEtWjAtOVxcLV0qW2EtekEtWjAtOV0pPyQvLGRvbWFpblNlZ21lbnRSeDovXlthLXpBLVowLTldKD86W2EtekEtWjAtOVxcLV0qW2EtekEtWjAtOV0pPyQvLFVSTDpzLlVSTHx8VVJMfTt0LmFuYWx5emU9ZnVuY3Rpb24oZSx0PXt9KXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGlucHV0OiBkb21haW4gbXVzdCBiZSBhIHN0cmluZ1wiKTtpZighZSlyZXR1cm4gbi5jb2RlKFwiRE9NQUlOX05PTl9FTVBUWV9TVFJJTkdcIik7aWYoZS5sZW5ndGg+MjU2KXJldHVybiBuLmNvZGUoXCJET01BSU5fVE9PX0xPTkdcIik7aWYoISFvLm5vbkFzY2lpUngudGVzdChlKSl7aWYoITE9PT10LmFsbG93VW5pY29kZSlyZXR1cm4gbi5jb2RlKFwiRE9NQUlOX0lOVkFMSURfVU5JQ09ERV9DSEFSU1wiKTtlPWUubm9ybWFsaXplKFwiTkZDXCIpfWlmKG8uZG9tYWluQ29udHJvbFJ4LnRlc3QoZSkpcmV0dXJuIG4uY29kZShcIkRPTUFJTl9JTlZBTElEX0NIQVJTXCIpO2U9by5wdW55Y29kZShlKTtjb25zdCByPXQubWluRG9tYWluU2VnbWVudHN8fG8ubWluRG9tYWluU2VnbWVudHMscz1lLnNwbGl0KFwiLlwiKTtpZihzLmxlbmd0aDxyKXJldHVybiBuLmNvZGUoXCJET01BSU5fU0VHTUVOVFNfQ09VTlRcIik7Y29uc3QgYT10LnRsZHM7aWYoYSl7Y29uc3QgZT1zW3MubGVuZ3RoLTFdLnRvTG93ZXJDYXNlKCk7aWYoYS5kZW55JiZhLmRlbnkuaGFzKGUpfHxhLmFsbG93JiYhYS5hbGxvdy5oYXMoZSkpcmV0dXJuIG4uY29kZShcIkRPTUFJTl9GT1JCSURERU5fVExEU1wiKX1mb3IobGV0IGU9MDtlPHMubGVuZ3RoOysrZSl7Y29uc3QgdD1zW2VdO2lmKCF0Lmxlbmd0aClyZXR1cm4gbi5jb2RlKFwiRE9NQUlOX0VNUFRZX1NFR01FTlRcIik7aWYodC5sZW5ndGg+NjMpcmV0dXJuIG4uY29kZShcIkRPTUFJTl9MT05HX1NFR01FTlRcIik7aWYoZTxzLmxlbmd0aC0xKXtpZighby5kb21haW5TZWdtZW50UngudGVzdCh0KSlyZXR1cm4gbi5jb2RlKFwiRE9NQUlOX0lOVkFMSURfQ0hBUlNcIil9ZWxzZSBpZighby50bGRTZWdtZW50UngudGVzdCh0KSlyZXR1cm4gbi5jb2RlKFwiRE9NQUlOX0lOVkFMSURfVExEU19DSEFSU1wiKX1yZXR1cm4gbnVsbH0sdC5pc1ZhbGlkPWZ1bmN0aW9uKGUscil7cmV0dXJuIXQuYW5hbHl6ZShlLHIpfSxvLnB1bnljb2RlPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbmV3IG8uVVJMKFwiaHR0cDovL1wiLmNvbmNhdChlKSkuaG9zdH1jYXRjaCh0KXtyZXR1cm4gZX19fSxmdW5jdGlvbihlLHQpe30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuY29kZXM9e0VNUFRZX1NUUklORzpcIkFkZHJlc3MgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmdcIixGT1JCSURERU5fVU5JQ09ERTpcIkFkZHJlc3MgY29udGFpbnMgZm9yYmlkZGVuIFVuaWNvZGUgY2hhcmFjdGVyc1wiLE1VTFRJUExFX0FUX0NIQVI6XCJBZGRyZXNzIGNhbm5vdCBjb250YWluIG1vcmUgdGhhbiBvbmUgQCBjaGFyYWN0ZXJcIixNSVNTSU5HX0FUX0NIQVI6XCJBZGRyZXNzIG11c3QgY29udGFpbiBvbmUgQCBjaGFyYWN0ZXJcIixFTVBUWV9MT0NBTDpcIkFkZHJlc3MgbG9jYWwgcGFydCBjYW5ub3QgYmUgZW1wdHlcIixBRERSRVNTX1RPT19MT05HOlwiQWRkcmVzcyB0b28gbG9uZ1wiLExPQ0FMX1RPT19MT05HOlwiQWRkcmVzcyBsb2NhbCBwYXJ0IHRvbyBsb25nXCIsRU1QVFlfTE9DQUxfU0VHTUVOVDpcIkFkZHJlc3MgbG9jYWwgcGFydCBjb250YWlucyBlbXB0eSBkb3Qtc2VwYXJhdGVkIHNlZ21lbnRcIixJTlZBTElEX0xPQ0FMX0NIQVJTOlwiQWRkcmVzcyBsb2NhbCBwYXJ0IGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVyXCIsRE9NQUlOX05PTl9FTVBUWV9TVFJJTkc6XCJEb21haW4gbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmdcIixET01BSU5fVE9PX0xPTkc6XCJEb21haW4gdG9vIGxvbmdcIixET01BSU5fSU5WQUxJRF9VTklDT0RFX0NIQVJTOlwiRG9tYWluIGNvbnRhaW5zIGZvcmJpZGRlbiBVbmljb2RlIGNoYXJhY3RlcnNcIixET01BSU5fSU5WQUxJRF9DSEFSUzpcIkRvbWFpbiBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlclwiLERPTUFJTl9JTlZBTElEX1RMRFNfQ0hBUlM6XCJEb21haW4gY29udGFpbnMgaW52YWxpZCB0bGQgY2hhcmFjdGVyXCIsRE9NQUlOX1NFR01FTlRTX0NPVU5UOlwiRG9tYWluIGxhY2tzIHRoZSBtaW5pbXVtIHJlcXVpcmVkIG51bWJlciBvZiBzZWdtZW50c1wiLERPTUFJTl9GT1JCSURERU5fVExEUzpcIkRvbWFpbiB1c2VzIGZvcmJpZGRlbiBUTERcIixET01BSU5fRU1QVFlfU0VHTUVOVDpcIkRvbWFpbiBjb250YWlucyBlbXB0eSBkb3Qtc2VwYXJhdGVkIHNlZ21lbnRcIixET01BSU5fTE9OR19TRUdNRU5UOlwiRG9tYWluIGNvbnRhaW5zIGRvdC1zZXBhcmF0ZWQgc2VnbWVudCB0aGF0IGlzIHRvbyBsb25nXCJ9LHQuY29kZT1mdW5jdGlvbihlKXtyZXR1cm57Y29kZTplLGVycm9yOnQuY29kZXNbZV19fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IHM9cigwKSxuPXIoMjcpLG89e2dlbmVyYXRlOmZ1bmN0aW9uKCl7Y29uc3QgZT17fSx0PVwiIVxcXFwkJidcXFxcKFxcXFwpXFxcXCpcXFxcKyw7PVwiLHI9XCJcXFxcdy1cXFxcLn4lXFxcXGRBLUZhLWZcIit0K1wiOkBcIixzPVwiW1wiK3IrXCJdXCIsbj1cIig/OjB7MCwyfVxcXFxkfDA/WzEtOV1cXFxcZHwxXFxcXGRcXFxcZHwyWzAtNF1cXFxcZHwyNVswLTVdKVwiO2UuaXB2NGFkZHJlc3M9XCIoPzpcIituK1wiXFxcXC4pezN9XCIrbjtjb25zdCBvPVwiW1xcXFxkQS1GYS1mXXsxLDR9XCIsYT1cIig/OlwiK28rXCI6XCIrbytcInxcIitlLmlwdjRhZGRyZXNzK1wiKVwiLGk9XCIoPzpcIitvK1wiOil7Nn1cIithLGw9XCI6Oig/OlwiK28rXCI6KXs1fVwiK2EsYz1cIig/OlwiK28rXCIpPzo6KD86XCIrbytcIjopezR9XCIrYSx1PVwiKD86KD86XCIrbytcIjopezAsMX1cIitvK1wiKT86Oig/OlwiK28rXCI6KXszfVwiK2EsZj1cIig/Oig/OlwiK28rXCI6KXswLDJ9XCIrbytcIik/OjooPzpcIitvK1wiOil7Mn1cIithLG09XCIoPzooPzpcIitvK1wiOil7MCwzfVwiK28rXCIpPzo6XCIrbytcIjpcIithLGg9XCIoPzooPzpcIitvK1wiOil7MCw0fVwiK28rXCIpPzo6XCIrYTtlLmlwdjRDaWRyPVwiKD86XFxcXGR8WzEtMl1cXFxcZHwzWzAtMl0pXCIsZS5pcHY2Q2lkcj1cIig/OjB7MCwyfVxcXFxkfDA/WzEtOV1cXFxcZHwxWzAxXVxcXFxkfDEyWzAtOF0pXCIsZS5pcHY2YWRkcmVzcz1cIig/OlwiK2krXCJ8XCIrbCtcInxcIitjK1wifFwiK3UrXCJ8XCIrZitcInxcIittK1wifFwiK2grXCJ8KD86KD86W1xcXFxkQS1GYS1mXXsxLDR9Oil7MCw1fVtcXFxcZEEtRmEtZl17MSw0fSk/OjpbXFxcXGRBLUZhLWZdezEsNH18KD86KD86W1xcXFxkQS1GYS1mXXsxLDR9Oil7MCw2fVtcXFxcZEEtRmEtZl17MSw0fSk/OjopXCIsZS5pcHZGdXR1cmU9XCJ2W1xcXFxkQS1GYS1mXStcXFxcLltcXFxcdy1cXFxcLn5cIit0K1wiOl0rXCIsZS5zY2hlbWU9XCJbYS16QS1aXVthLXpBLVpcXFxcZCstXFxcXC5dKlwiLGUuc2NoZW1lUmVnZXg9bmV3IFJlZ0V4cChlLnNjaGVtZSk7Y29uc3QgZD1cIltcXFxcdy1cXFxcLn4lXFxcXGRBLUZhLWZcIit0K1wiOl0qXCIscD1cIig/OlwiKyhcIlxcXFxbKD86XCIrZS5pcHY2YWRkcmVzcytcInxcIitlLmlwdkZ1dHVyZStcIilcXFxcXVwiKStcInxcIitlLmlwdjRhZGRyZXNzK1wifFtcXFxcdy1cXFxcLn4lXFxcXGRBLUZhLWYhXFxcXCQmJ1xcXFwoXFxcXClcXFxcKlxcXFwrLDs9XXsxLDI1NX0pXCIsZz1cIig/OlwiK2QrXCJAKT9cIitwK1wiKD86OlxcXFxkKik/XCIseT1cIig/OlwiK2QrXCJAKT8oXCIrcCtcIikoPzo6XFxcXGQqKT9cIixiPXMrXCIqXCIsdj1zK1wiK1wiLF89XCIoPzpcXFxcL1wiK2IrXCIpKlwiLHc9XCJcXFxcLyg/OlwiK3YrXytcIik/XCIsJD12K18seD1cIltcXFxcdy1cXFxcLn4lXFxcXGRBLUZhLWYhXFxcXCQmJ1xcXFwoXFxcXClcXFxcKlxcXFwrLDs9QF0rXCIrXztyZXR1cm4gZS5oaWVyUGFydD1cIig/Oig/OlxcXFwvXFxcXC9cIitnK18rXCIpfFwiK3crXCJ8XCIrJCtcInwoPzpcXFxcL1xcXFwvXFxcXC9bXFxcXHctXFxcXC5+JVxcXFxkQS1GYS1mIVxcXFwkJidcXFxcKFxcXFwpXFxcXCpcXFxcKyw7PTpAXSooPzpcXFxcL1tcXFxcdy1cXFxcLn4lXFxcXGRBLUZhLWYhXFxcXCQmJ1xcXFwoXFxcXClcXFxcKlxcXFwrLDs9OkBdKikqKSlcIixlLmhpZXJQYXJ0Q2FwdHVyZT1cIig/Oig/OlxcXFwvXFxcXC9cIit5K18rXCIpfFwiK3crXCJ8XCIrJCtcIilcIixlLnJlbGF0aXZlUmVmPVwiKD86KD86XFxcXC9cXFxcL1wiK2crXytcIil8XCIrdytcInxcIit4K1wifClcIixlLnJlbGF0aXZlUmVmQ2FwdHVyZT1cIig/Oig/OlxcXFwvXFxcXC9cIit5K18rXCIpfFwiK3crXCJ8XCIreCtcInwpXCIsZS5xdWVyeT1cIltcIityK1wiXFxcXC9cXFxcP10qKD89I3wkKVwiLGUucXVlcnlXaXRoU3F1YXJlQnJhY2tldHM9XCJbXCIrcitcIlxcXFxbXFxcXF1cXFxcL1xcXFw/XSooPz0jfCQpXCIsZS5mcmFnbWVudD1cIltcIityK1wiXFxcXC9cXFxcP10qXCIsZX19O28ucmZjMzk4Nj1vLmdlbmVyYXRlKCksdC5pcD17djRDaWRyOm8ucmZjMzk4Ni5pcHY0Q2lkcix2NkNpZHI6by5yZmMzOTg2LmlwdjZDaWRyLGlwdjQ6by5yZmMzOTg2LmlwdjRhZGRyZXNzLGlwdjY6by5yZmMzOTg2LmlwdjZhZGRyZXNzLGlwdmZ1dHVyZTpvLnJmYzM5ODYuaXB2RnV0dXJlfSxvLmNyZWF0ZVJlZ2V4PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9by5yZmMzOTg2LHI9XCIoPzpcXFxcP1wiKyhlLmFsbG93UXVlcnlTcXVhcmVCcmFja2V0cz90LnF1ZXJ5V2l0aFNxdWFyZUJyYWNrZXRzOnQucXVlcnkpK1wiKT8oPzojXCIrdC5mcmFnbWVudCtcIik/XCIsYT1lLmRvbWFpbj90LnJlbGF0aXZlUmVmQ2FwdHVyZTp0LnJlbGF0aXZlUmVmO2lmKGUucmVsYXRpdmVPbmx5KXJldHVybiBvLndyYXAoYStyKTtsZXQgaT1cIlwiO2lmKGUuc2NoZW1lKXtzKGUuc2NoZW1lIGluc3RhbmNlb2YgUmVnRXhwfHxcInN0cmluZ1wiPT10eXBlb2YgZS5zY2hlbWV8fEFycmF5LmlzQXJyYXkoZS5zY2hlbWUpLFwic2NoZW1lIG11c3QgYmUgYSBSZWdFeHAsIFN0cmluZywgb3IgQXJyYXlcIik7Y29uc3Qgcj1bXS5jb25jYXQoZS5zY2hlbWUpO3Moci5sZW5ndGg+PTEsXCJzY2hlbWUgbXVzdCBoYXZlIGF0IGxlYXN0IDEgc2NoZW1lIHNwZWNpZmllZFwiKTtjb25zdCBvPVtdO2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7KytlKXtjb25zdCBhPXJbZV07cyhhIGluc3RhbmNlb2YgUmVnRXhwfHxcInN0cmluZ1wiPT10eXBlb2YgYSxcInNjaGVtZSBhdCBwb3NpdGlvbiBcIitlK1wiIG11c3QgYmUgYSBSZWdFeHAgb3IgU3RyaW5nXCIpLGEgaW5zdGFuY2VvZiBSZWdFeHA/by5wdXNoKGEuc291cmNlLnRvU3RyaW5nKCkpOihzKHQuc2NoZW1lUmVnZXgudGVzdChhKSxcInNjaGVtZSBhdCBwb3NpdGlvbiBcIitlK1wiIG11c3QgYmUgYSB2YWxpZCBzY2hlbWVcIiksby5wdXNoKG4oYSkpKX1pPW8uam9pbihcInxcIil9Y29uc3QgbD1cIig/OlwiKyhpP1wiKD86XCIraStcIilcIjp0LnNjaGVtZSkrXCI6XCIrKGUuZG9tYWluP3QuaGllclBhcnRDYXB0dXJlOnQuaGllclBhcnQpK1wiKVwiLGM9ZS5hbGxvd1JlbGF0aXZlP1wiKD86XCIrbCtcInxcIithK1wiKVwiOmw7cmV0dXJuIG8ud3JhcChjK3IsaSl9LG8ud3JhcD1mdW5jdGlvbihlLHQpe3JldHVybntyYXc6ZT1cIig/PS4pKD8haHR0cHM/Oi8kKVwiLmNvbmNhdChlKSxyZWdleDpuZXcgUmVnRXhwKFwiXlwiLmNvbmNhdChlLFwiJFwiKSksc2NoZW1lOnR9fSxvLnVyaVJlZ2V4PW8uY3JlYXRlUmVnZXgoe30pLHQucmVnZXg9ZnVuY3Rpb24oZT17fSl7cmV0dXJuIGUuc2NoZW1lfHxlLmFsbG93UmVsYXRpdmV8fGUucmVsYXRpdmVPbmx5fHxlLmFsbG93UXVlcnlTcXVhcmVCcmFja2V0c3x8ZS5kb21haW4/by5jcmVhdGVSZWdleChlKTpvLnVyaVJlZ2V4fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9bXFxeXFwkXFwuXFwqXFwrXFwtXFw/XFw9XFwhXFw6XFx8XFxcXFxcL1xcKFxcKVxcW1xcXVxce1xcfVxcLF0vZyxcIlxcXFwkJlwiKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oLi4uZSl7dHJ5e3JldHVybiBKU09OLnN0cmluZ2lmeS5hcHBseShudWxsLGUpfWNhdGNoKGUpe3JldHVyblwiW0Nhbm5vdCBkaXNwbGF5IG9iamVjdDogXCIrZS5tZXNzYWdlK1wiXVwifX19LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz1KU09OLnBhcnNlKCd7XCJ2ZXJzaW9uXCI6XCIxNy4xLjFcIn0nKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IHM9e307ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVyblwiXCI7bGV0IHQ9XCJcIjtmb3IobGV0IHI9MDtyPGUubGVuZ3RoOysrcil7Y29uc3Qgbj1lLmNoYXJDb2RlQXQocik7cy5pc1NhZmUobik/dCs9ZVtyXTp0Kz1zLmVzY2FwZUh0bWxDaGFyKG4pfXJldHVybiB0fSxzLmVzY2FwZUh0bWxDaGFyPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9cy5uYW1lZEh0bWxbZV07aWYodm9pZCAwIT09dClyZXR1cm4gdDtpZihlPj0yNTYpcmV0dXJuXCImI1wiK2UrXCI7XCI7Y29uc3Qgcj1lLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLFwiMFwiKTtyZXR1cm5cIiYjeFwiLmNvbmNhdChyLFwiO1wiKX0scy5pc1NhZmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXMuc2FmZUNoYXJDb2Rlc1tlXX0scy5uYW1lZEh0bWw9ezM4OlwiJmFtcDtcIiw2MDpcIiZsdDtcIiw2MjpcIiZndDtcIiwzNDpcIiZxdW90O1wiLDE2MDpcIiZuYnNwO1wiLDE2MjpcIiZjZW50O1wiLDE2MzpcIiZwb3VuZDtcIiwxNjQ6XCImY3VycmVuO1wiLDE2OTpcIiZjb3B5O1wiLDE3NDpcIiZyZWc7XCJ9LHMuc2FmZUNoYXJDb2Rlcz1mdW5jdGlvbigpe2NvbnN0IGU9e307Zm9yKGxldCB0PTMyO3Q8MTIzOysrdCkodD49OTd8fHQ+PTY1JiZ0PD05MHx8dD49NDgmJnQ8PTU3fHwzMj09PXR8fDQ2PT09dHx8NDQ9PT10fHw0NT09PXR8fDU4PT09dHx8OTU9PT10KSYmKGVbdF09bnVsbCk7cmV0dXJuIGV9KCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBzPXtvcGVyYXRvcnM6W1wiIVwiLFwiXlwiLFwiKlwiLFwiL1wiLFwiJVwiLFwiK1wiLFwiLVwiLFwiPFwiLFwiPD1cIixcIj5cIixcIj49XCIsXCI9PVwiLFwiIT1cIixcIiYmXCIsXCJ8fFwiLFwiPz9cIl0sb3BlcmF0b3JDaGFyYWN0ZXJzOltcIiFcIixcIl5cIixcIipcIixcIi9cIixcIiVcIixcIitcIixcIi1cIixcIjxcIixcIj1cIixcIj5cIixcIiZcIixcInxcIixcIj9cIl0sb3BlcmF0b3JzT3JkZXI6W1tcIl5cIl0sW1wiKlwiLFwiL1wiLFwiJVwiXSxbXCIrXCIsXCItXCJdLFtcIjxcIixcIjw9XCIsXCI+XCIsXCI+PVwiXSxbXCI9PVwiLFwiIT1cIl0sW1wiJiZcIl0sW1wifHxcIixcIj8/XCJdXSxvcGVyYXRvcnNQcmVmaXg6W1wiIVwiLFwiblwiXSxsaXRlcmFsczp7J1wiJzonXCInLFwiYFwiOlwiYFwiLFwiJ1wiOlwiJ1wiLFwiW1wiOlwiXVwifSxudW1iZXJSeDovXig/OlswLTldKlxcLj9bMC05XSopezF9JC8sdG9rZW5SeDovXltcXHdcXCRcXCNcXC5cXEBcXDpcXHtcXH1dKyQvLHN5bWJvbDpTeW1ib2woXCJmb3JtdWxhXCIpLHNldHRpbmdzOlN5bWJvbChcInNldHRpbmdzXCIpfTt0LlBhcnNlcj1jbGFzc3tjb25zdHJ1Y3RvcihlLHQ9e30pe2lmKCF0W3Muc2V0dGluZ3NdJiZ0LmNvbnN0YW50cylmb3IoY29uc3QgZSBpbiB0LmNvbnN0YW50cyl7Y29uc3Qgcj10LmNvbnN0YW50c1tlXTtpZihudWxsIT09ciYmIVtcImJvb2xlYW5cIixcIm51bWJlclwiLFwic3RyaW5nXCJdLmluY2x1ZGVzKHR5cGVvZiByKSl0aHJvdyBuZXcgRXJyb3IoXCJGb3JtdWxhIGNvbnN0YW50IFwiLmNvbmNhdChlLFwiIGNvbnRhaW5zIGludmFsaWQgXCIpLmNvbmNhdCh0eXBlb2YgcixcIiB2YWx1ZSB0eXBlXCIpKX10aGlzLnNldHRpbmdzPXRbcy5zZXR0aW5nc10/dDpPYmplY3QuYXNzaWduKHtbcy5zZXR0aW5nc106ITAsY29uc3RhbnRzOnt9LGZ1bmN0aW9uczp7fX0sdCksdGhpcy5zaW5nbGU9bnVsbCx0aGlzLl9wYXJ0cz1udWxsLHRoaXMuX3BhcnNlKGUpfV9wYXJzZShlKXtsZXQgcj1bXSxuPVwiXCIsbz0wLGE9ITE7Y29uc3QgaT1lPT57aWYobyl0aHJvdyBuZXcgRXJyb3IoXCJGb3JtdWxhIG1pc3NpbmcgY2xvc2luZyBwYXJlbnRoZXNpc1wiKTtjb25zdCBpPXIubGVuZ3RoP3Jbci5sZW5ndGgtMV06bnVsbDtpZihhfHxufHxlKXtpZihpJiZcInJlZmVyZW5jZVwiPT09aS50eXBlJiZcIilcIj09PWUpcmV0dXJuIGkudHlwZT1cImZ1bmN0aW9uXCIsaS52YWx1ZT10aGlzLl9zdWJGb3JtdWxhKG4saS52YWx1ZSksdm9pZChuPVwiXCIpO2lmKFwiKVwiPT09ZSl7Y29uc3QgZT1uZXcgdC5QYXJzZXIobix0aGlzLnNldHRpbmdzKTtyLnB1c2goe3R5cGU6XCJzZWdtZW50XCIsdmFsdWU6ZX0pfWVsc2UgaWYoYSl7aWYoXCJdXCI9PT1hKXJldHVybiByLnB1c2goe3R5cGU6XCJyZWZlcmVuY2VcIix2YWx1ZTpufSksdm9pZChuPVwiXCIpO3IucHVzaCh7dHlwZTpcImxpdGVyYWxcIix2YWx1ZTpufSl9ZWxzZSBpZihzLm9wZXJhdG9yQ2hhcmFjdGVycy5pbmNsdWRlcyhuKSlpJiZcIm9wZXJhdG9yXCI9PT1pLnR5cGUmJnMub3BlcmF0b3JzLmluY2x1ZGVzKGkudmFsdWUrbik/aS52YWx1ZSs9bjpyLnB1c2goe3R5cGU6XCJvcGVyYXRvclwiLHZhbHVlOm59KTtlbHNlIGlmKG4ubWF0Y2gocy5udW1iZXJSeCkpci5wdXNoKHt0eXBlOlwiY29uc3RhbnRcIix2YWx1ZTpwYXJzZUZsb2F0KG4pfSk7ZWxzZSBpZih2b2lkIDAhPT10aGlzLnNldHRpbmdzLmNvbnN0YW50c1tuXSlyLnB1c2goe3R5cGU6XCJjb25zdGFudFwiLHZhbHVlOnRoaXMuc2V0dGluZ3MuY29uc3RhbnRzW25dfSk7ZWxzZXtpZighbi5tYXRjaChzLnRva2VuUngpKXRocm93IG5ldyBFcnJvcihcIkZvcm11bGEgY29udGFpbnMgaW52YWxpZCB0b2tlbjogXCIuY29uY2F0KG4pKTtyLnB1c2goe3R5cGU6XCJyZWZlcmVuY2VcIix2YWx1ZTpufSl9bj1cIlwifX07Zm9yKGNvbnN0IHQgb2YgZSlhP3Q9PT1hPyhpKCksYT0hMSk6bis9dDpvP1wiKFwiPT09dD8obis9dCwrK28pOlwiKVwiPT09dD8oLS1vLG8/bis9dDppKHQpKTpuKz10OnQgaW4gcy5saXRlcmFscz9hPXMubGl0ZXJhbHNbdF06XCIoXCI9PT10PyhpKCksKytvKTpzLm9wZXJhdG9yQ2hhcmFjdGVycy5pbmNsdWRlcyh0KT8oaSgpLG49dCxpKCkpOlwiIFwiIT09dD9uKz10OmkoKTtpKCkscj1yLm1hcCgoZSx0KT0+XCJvcGVyYXRvclwiIT09ZS50eXBlfHxcIi1cIiE9PWUudmFsdWV8fHQmJlwib3BlcmF0b3JcIiE9PXJbdC0xXS50eXBlP2U6e3R5cGU6XCJvcGVyYXRvclwiLHZhbHVlOlwiblwifSk7bGV0IGw9ITE7Zm9yKGNvbnN0IGUgb2Ygcil7aWYoXCJvcGVyYXRvclwiPT09ZS50eXBlKXtpZihzLm9wZXJhdG9yc1ByZWZpeC5pbmNsdWRlcyhlLnZhbHVlKSljb250aW51ZTtpZighbCl0aHJvdyBuZXcgRXJyb3IoXCJGb3JtdWxhIGNvbnRhaW5zIGFuIG9wZXJhdG9yIGluIGludmFsaWQgcG9zaXRpb25cIik7aWYoIXMub3BlcmF0b3JzLmluY2x1ZGVzKGUudmFsdWUpKXRocm93IG5ldyBFcnJvcihcIkZvcm11bGEgY29udGFpbnMgYW4gdW5rbm93biBvcGVyYXRvciBcIi5jb25jYXQoZS52YWx1ZSkpfWVsc2UgaWYobCl0aHJvdyBuZXcgRXJyb3IoXCJGb3JtdWxhIG1pc3NpbmcgZXhwZWN0ZWQgb3BlcmF0b3JcIik7bD0hbH1pZighbCl0aHJvdyBuZXcgRXJyb3IoXCJGb3JtdWxhIGNvbnRhaW5zIGludmFsaWQgdHJhaWxpbmcgb3BlcmF0b3JcIik7MT09PXIubGVuZ3RoJiZbXCJyZWZlcmVuY2VcIixcImxpdGVyYWxcIixcImNvbnN0YW50XCJdLmluY2x1ZGVzKHJbMF0udHlwZSkmJih0aGlzLnNpbmdsZT17dHlwZTpcInJlZmVyZW5jZVwiPT09clswXS50eXBlP1wicmVmZXJlbmNlXCI6XCJ2YWx1ZVwiLHZhbHVlOnJbMF0udmFsdWV9KSx0aGlzLl9wYXJ0cz1yLm1hcChlPT57aWYoXCJvcGVyYXRvclwiPT09ZS50eXBlKXJldHVybiBzLm9wZXJhdG9yc1ByZWZpeC5pbmNsdWRlcyhlLnZhbHVlKT9lOmUudmFsdWU7aWYoXCJyZWZlcmVuY2VcIiE9PWUudHlwZSlyZXR1cm4gZS52YWx1ZTtpZih0aGlzLnNldHRpbmdzLnRva2VuUngmJiF0aGlzLnNldHRpbmdzLnRva2VuUngudGVzdChlLnZhbHVlKSl0aHJvdyBuZXcgRXJyb3IoXCJGb3JtdWxhIGNvbnRhaW5zIGludmFsaWQgcmVmZXJlbmNlIFwiLmNvbmNhdChlLnZhbHVlKSk7cmV0dXJuIHRoaXMuc2V0dGluZ3MucmVmZXJlbmNlP3RoaXMuc2V0dGluZ3MucmVmZXJlbmNlKGUudmFsdWUpOnMucmVmZXJlbmNlKGUudmFsdWUpfSl9X3N1YkZvcm11bGEoZSxyKXtjb25zdCBuPXRoaXMuc2V0dGluZ3MuZnVuY3Rpb25zW3JdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKFwiRm9ybXVsYSBjb250YWlucyB1bmtub3duIGZ1bmN0aW9uIFwiLmNvbmNhdChyKSk7bGV0IG89W107aWYoZSl7bGV0IHQ9XCJcIixuPTAsYT0hMTtjb25zdCBpPSgpPT57aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiRm9ybXVsYSBjb250YWlucyBmdW5jdGlvbiBcIi5jb25jYXQocixcIiB3aXRoIGludmFsaWQgYXJndW1lbnRzIFwiKS5jb25jYXQoZSkpO28ucHVzaCh0KSx0PVwiXCJ9O2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7KytyKXtjb25zdCBvPWVbcl07YT8odCs9byxvPT09YSYmKGE9ITEpKTpvIGluIHMubGl0ZXJhbHMmJiFuPyh0Kz1vLGE9cy5saXRlcmFsc1tvXSk6XCIsXCIhPT1vfHxuPyh0Kz1vLFwiKFwiPT09bz8rK246XCIpXCI9PT1vJiYtLW4pOmkoKX1pKCl9cmV0dXJuIG89by5tYXAoZT0+bmV3IHQuUGFyc2VyKGUsdGhpcy5zZXR0aW5ncykpLGZ1bmN0aW9uKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IHIgb2Ygbyl0LnB1c2goci5ldmFsdWF0ZShlKSk7cmV0dXJuIG4uY2FsbChlLC4uLnQpfX1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMuX3BhcnRzLnNsaWNlKCk7Zm9yKGxldCByPXQubGVuZ3RoLTI7cj49MDstLXIpe2NvbnN0IG49dFtyXTtpZihuJiZcIm9wZXJhdG9yXCI9PT1uLnR5cGUpe2NvbnN0IG89dFtyKzFdO3Quc3BsaWNlKHIrMSwxKTtjb25zdCBhPXMuZXZhbHVhdGUobyxlKTt0W3JdPXMuc2luZ2xlKG4udmFsdWUsYSl9fXJldHVybiBzLm9wZXJhdG9yc09yZGVyLmZvckVhY2gocj0+e2ZvcihsZXQgbj0xO248dC5sZW5ndGgtMTspaWYoci5pbmNsdWRlcyh0W25dKSl7Y29uc3Qgcj10W25dLG89cy5ldmFsdWF0ZSh0W24tMV0sZSksYT1zLmV2YWx1YXRlKHRbbisxXSxlKTt0LnNwbGljZShuLDIpO2NvbnN0IGk9cy5jYWxjdWxhdGUocixvLGEpO3Rbbi0xXT0wPT09aT8wOml9ZWxzZSBuKz0yfSkscy5ldmFsdWF0ZSh0WzBdLGUpfX0sdC5QYXJzZXIucHJvdG90eXBlW3Muc3ltYm9sXT0hMCxzLnJlZmVyZW5jZT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQmJnZvaWQgMCE9PXRbZV0/dFtlXTpudWxsfX0scy5ldmFsdWF0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBudWxsPT09ZT9udWxsOlwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZSh0KTplW3Muc3ltYm9sXT9lLmV2YWx1YXRlKHQpOmV9LHMuc2luZ2xlPWZ1bmN0aW9uKGUsdCl7aWYoXCIhXCI9PT1lKXJldHVybiF0O2NvbnN0IHI9LXQ7cmV0dXJuIDA9PT1yPzA6cn0scy5jYWxjdWxhdGU9ZnVuY3Rpb24oZSx0LHIpe2lmKFwiPz9cIj09PWUpcmV0dXJuIHMuZXhpc3RzKHQpP3Q6cjtpZihcInN0cmluZ1wiPT10eXBlb2YgdHx8XCJzdHJpbmdcIj09dHlwZW9mIHIpe2lmKFwiK1wiPT09ZSlyZXR1cm4odD1zLmV4aXN0cyh0KT90OlwiXCIpKyhyPXMuZXhpc3RzKHIpP3I6XCJcIil9ZWxzZSBzd2l0Y2goZSl7Y2FzZVwiXlwiOnJldHVybiBNYXRoLnBvdyh0LHIpO2Nhc2VcIipcIjpyZXR1cm4gdCpyO2Nhc2VcIi9cIjpyZXR1cm4gdC9yO2Nhc2VcIiVcIjpyZXR1cm4gdCVyO2Nhc2VcIitcIjpyZXR1cm4gdCtyO2Nhc2VcIi1cIjpyZXR1cm4gdC1yfXN3aXRjaChlKXtjYXNlXCI8XCI6cmV0dXJuIHQ8cjtjYXNlXCI8PVwiOnJldHVybiB0PD1yO2Nhc2VcIj5cIjpyZXR1cm4gdD5yO2Nhc2VcIj49XCI6cmV0dXJuIHQ+PXI7Y2FzZVwiPT1cIjpyZXR1cm4gdD09PXI7Y2FzZVwiIT1cIjpyZXR1cm4gdCE9PXI7Y2FzZVwiJiZcIjpyZXR1cm4gdCYmcjtjYXNlXCJ8fFwiOnJldHVybiB0fHxyfXJldHVybiBudWxsfSxzLmV4aXN0cz1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZX19LGZ1bmN0aW9uKGUsdCl7fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcz1yKDApLG49cigzKSxvPXIoMSksYT1yKDgpLGk9cig0KSxsPXIoNSksYz17fTtlLmV4cG9ydHM9bi5leHRlbmQoe3R5cGU6XCJhbHRlcm5hdGl2ZXNcIixmbGFnczp7bWF0Y2g6e2RlZmF1bHQ6XCJhbnlcIn19LHRlcm1zOnttYXRjaGVzOntpbml0OltdLHJlZ2lzdGVyOmwudG9TaWJsaW5nfX0sYXJnczooZSwuLi50KT0+MT09PXQubGVuZ3RoJiZBcnJheS5pc0FycmF5KHRbMF0pP2UudHJ5KC4uLnRbMF0pOmUudHJ5KC4uLnQpLHZhbGlkYXRlKGUsdCl7Y29uc3R7c2NoZW1hOnIsZXJyb3I6cyxzdGF0ZTpuLHByZWZzOm99PXQ7aWYoci5fZmxhZ3MubWF0Y2gpe2xldCB0LGE9MDtmb3IobGV0IHM9MDtzPHIuJF90ZXJtcy5tYXRjaGVzLmxlbmd0aDsrK3Mpe2NvbnN0IGk9ci4kX3Rlcm1zLm1hdGNoZXNbc10sbD1uLm5lc3QoaS5zY2hlbWEsXCJtYXRjaC5cIi5jb25jYXQocykpO2wuc25hcHNob3QoKTtjb25zdCBjPWkuc2NoZW1hLiRfdmFsaWRhdGUoZSxsLG8pO2MuZXJyb3JzP2wucmVzdG9yZSgpOigrK2EsdD1jLnZhbHVlKX1yZXR1cm4gYT9cIm9uZVwiPT09ci5fZmxhZ3MubWF0Y2g/MT09PWE/e3ZhbHVlOnR9OntlcnJvcnM6cyhcImFsdGVybmF0aXZlcy5vbmVcIil9OmE9PT1yLiRfdGVybXMubWF0Y2hlcy5sZW5ndGg/e3ZhbHVlOmV9OntlcnJvcnM6cyhcImFsdGVybmF0aXZlcy5hbGxcIil9OntlcnJvcnM6cyhcImFsdGVybmF0aXZlcy5hbnlcIil9fWNvbnN0IGE9W107Zm9yKGxldCB0PTA7dDxyLiRfdGVybXMubWF0Y2hlcy5sZW5ndGg7Kyt0KXtjb25zdCBzPXIuJF90ZXJtcy5tYXRjaGVzW3RdO2lmKHMuc2NoZW1hKXtjb25zdCByPW4ubmVzdChzLnNjaGVtYSxcIm1hdGNoLlwiLmNvbmNhdCh0KSk7ci5zbmFwc2hvdCgpO2NvbnN0IGk9cy5zY2hlbWEuJF92YWxpZGF0ZShlLHIsbyk7aWYoIWkuZXJyb3JzKXJldHVybiBpO3IucmVzdG9yZSgpLGEucHVzaCh7c2NoZW1hOnMuc2NoZW1hLHJlcG9ydHM6aS5lcnJvcnN9KTtjb250aW51ZX1jb25zdCBpPXMucmVmP3MucmVmLnJlc29sdmUoZSxuLG8pOmUsbD1zLmlzP1tzXTpzLnN3aXRjaDtmb3IobGV0IHI9MDtyPGwubGVuZ3RoOysrcil7Y29uc3QgYT1sW3JdLHtpczpjLHRoZW46dSxvdGhlcndpc2U6Zn09YSxtPVwibWF0Y2guXCIuY29uY2F0KHQpLmNvbmNhdChzLnN3aXRjaD9cIi5cIityOlwiXCIpO2lmKGMuJF9tYXRjaChpLG4ubmVzdChjLFwiXCIuY29uY2F0KG0sXCIuaXNcIikpLG8pKXtpZih1KXJldHVybiB1LiRfdmFsaWRhdGUoZSxuLm5lc3QodSxcIlwiLmNvbmNhdChtLFwiLnRoZW5cIikpLG8pfWVsc2UgaWYoZilyZXR1cm4gZi4kX3ZhbGlkYXRlKGUsbi5uZXN0KGYsXCJcIi5jb25jYXQobSxcIi5vdGhlcndpc2VcIikpLG8pfX1yZXR1cm4gYy5lcnJvcnMoYSx0KX0scnVsZXM6e2NvbmRpdGlvbmFsOnttZXRob2QoZSx0KXtzKCF0aGlzLl9mbGFncy5fZW5kZWRTd2l0Y2gsXCJVbnJlYWNoYWJsZSBjb25kaXRpb25cIikscyghdGhpcy5fZmxhZ3MubWF0Y2gsXCJDYW5ub3QgY29tYmluZSBtYXRjaCBtb2RlXCIsdGhpcy5fZmxhZ3MubWF0Y2gsXCJ3aXRoIGNvbmRpdGlvbmFsIHJ1bGVcIikscyh2b2lkIDA9PT10LmJyZWFrLFwiQ2Fubm90IHVzZSBicmVhayBvcHRpb24gd2l0aCBhbHRlcm5hdGl2ZXMgY29uZGl0aW9uYWxcIik7Y29uc3Qgcj10aGlzLmNsb25lKCksbj1hLndoZW4ocixlLHQpLG89bi5pcz9bbl06bi5zd2l0Y2g7Zm9yKGNvbnN0IGUgb2YgbylpZihlLnRoZW4mJmUub3RoZXJ3aXNlKXtyLiRfc2V0RmxhZyhcIl9lbmRlZFN3aXRjaFwiLCEwLHtjbG9uZTohMX0pO2JyZWFrfXJldHVybiByLiRfdGVybXMubWF0Y2hlcy5wdXNoKG4pLHIuJF9tdXRhdGVSZWJ1aWxkKCl9fSxtYXRjaDp7bWV0aG9kKGUpe2lmKHMoW1wiYW55XCIsXCJvbmVcIixcImFsbFwiXS5pbmNsdWRlcyhlKSxcIkludmFsaWQgYWx0ZXJuYXRpdmVzIG1hdGNoIG1vZGVcIixlKSxcImFueVwiIT09ZSlmb3IoY29uc3QgdCBvZiB0aGlzLiRfdGVybXMubWF0Y2hlcylzKHQuc2NoZW1hLFwiQ2Fubm90IGNvbWJpbmUgbWF0Y2ggbW9kZVwiLGUsXCJ3aXRoIGNvbmRpdGlvbmFsIHJ1bGVzXCIpO3JldHVybiB0aGlzLiRfc2V0RmxhZyhcIm1hdGNoXCIsZSl9fSx0cnk6e21ldGhvZCguLi5lKXtzKGUubGVuZ3RoLFwiTWlzc2luZyBhbHRlcm5hdGl2ZSBzY2hlbWFzXCIpLG8udmVyaWZ5RmxhdChlLFwidHJ5XCIpLHMoIXRoaXMuX2ZsYWdzLl9lbmRlZFN3aXRjaCxcIlVucmVhY2hhYmxlIGNvbmRpdGlvblwiKTtjb25zdCB0PXRoaXMuY2xvbmUoKTtmb3IoY29uc3QgciBvZiBlKXQuJF90ZXJtcy5tYXRjaGVzLnB1c2goe3NjaGVtYTp0LiRfY29tcGlsZShyKX0pO3JldHVybiB0LiRfbXV0YXRlUmVidWlsZCgpfX19LG92ZXJyaWRlczp7bGFiZWwoZSl7cmV0dXJuIHRoaXMuJF9zdXBlci5sYWJlbChlKS4kX21vZGlmeSh7ZWFjaDoodCxyKT0+XCJpc1wiIT09ci5wYXRoWzBdP3QubGFiZWwoZSk6dm9pZCAwLHJlZjohMX0pfX0scmVidWlsZChlKXtlLiRfbW9kaWZ5KHtlYWNoOnQ9PntvLmlzU2NoZW1hKHQpJiZcImFycmF5XCI9PT10LnR5cGUmJmUuJF9zZXRGbGFnKFwiX2FycmF5SXRlbXNcIiwhMCx7Y2xvbmU6ITF9KX19KX0sbWFuaWZlc3Q6e2J1aWxkKGUsdCl7aWYodC5tYXRjaGVzKWZvcihjb25zdCByIG9mIHQubWF0Y2hlcyl7Y29uc3R7c2NoZW1hOnQscmVmOnMsaXM6bixub3Q6byx0aGVuOmEsb3RoZXJ3aXNlOml9PXI7ZT10P2UudHJ5KHQpOnM/ZS5jb25kaXRpb25hbChzLHtpczpuLHRoZW46YSxub3Q6byxvdGhlcndpc2U6aSxzd2l0Y2g6ci5zd2l0Y2h9KTplLmNvbmRpdGlvbmFsKG4se3RoZW46YSxvdGhlcndpc2U6aX0pfXJldHVybiBlfX0sbWVzc2FnZXM6e1wiYWx0ZXJuYXRpdmVzLmFsbFwiOlwie3sjbGFiZWx9fSBkb2VzIG5vdCBtYXRjaCBhbGwgb2YgdGhlIHJlcXVpcmVkIHR5cGVzXCIsXCJhbHRlcm5hdGl2ZXMuYW55XCI6XCJ7eyNsYWJlbH19IGRvZXMgbm90IG1hdGNoIGFueSBvZiB0aGUgYWxsb3dlZCB0eXBlc1wiLFwiYWx0ZXJuYXRpdmVzLm1hdGNoXCI6XCJ7eyNsYWJlbH19IGRvZXMgbm90IG1hdGNoIGFueSBvZiB0aGUgYWxsb3dlZCB0eXBlc1wiLFwiYWx0ZXJuYXRpdmVzLm9uZVwiOlwie3sjbGFiZWx9fSBtYXRjaGVzIG1vcmUgdGhhbiBvbmUgYWxsb3dlZCB0eXBlXCIsXCJhbHRlcm5hdGl2ZXMudHlwZXNcIjpcInt7I2xhYmVsfX0gbXVzdCBiZSBvbmUgb2Yge3sjdHlwZXN9fVwifX0pLGMuZXJyb3JzPWZ1bmN0aW9uKGUse2Vycm9yOnQsc3RhdGU6cn0pe2lmKCFlLmxlbmd0aClyZXR1cm57ZXJyb3JzOnQoXCJhbHRlcm5hdGl2ZXMuYW55XCIpfTtpZigxPT09ZS5sZW5ndGgpcmV0dXJue2Vycm9yczplWzBdLnJlcG9ydHN9O2NvbnN0IHM9bmV3IFNldCxuPVtdO2Zvcihjb25zdHtyZXBvcnRzOm8sc2NoZW1hOmF9b2YgZSl7aWYoby5sZW5ndGg+MSlyZXR1cm4gYy51bm1hdGNoZWQoZSx0KTtjb25zdCBsPW9bMF07aWYobCBpbnN0YW5jZW9mIGkuUmVwb3J0PT0hMSlyZXR1cm4gYy51bm1hdGNoZWQoZSx0KTtpZihsLnN0YXRlLnBhdGgubGVuZ3RoIT09ci5wYXRoLmxlbmd0aCl7bi5wdXNoKHt0eXBlOmEudHlwZSxyZXBvcnQ6bH0pO2NvbnRpbnVlfWlmKFwiYW55Lm9ubHlcIj09PWwuY29kZSl7Zm9yKGNvbnN0IGUgb2YgbC5sb2NhbC52YWxpZHMpcy5hZGQoZSk7Y29udGludWV9Y29uc3RbdSxmXT1sLmNvZGUuc3BsaXQoXCIuXCIpO1wiYmFzZVwiPT09Zj9zLmFkZCh1KTpuLnB1c2goe3R5cGU6YS50eXBlLHJlcG9ydDpsfSl9cmV0dXJuIG4ubGVuZ3RoPzE9PT1uLmxlbmd0aD97ZXJyb3JzOm5bMF0ucmVwb3J0fTpjLnVubWF0Y2hlZChlLHQpOntlcnJvcnM6dChcImFsdGVybmF0aXZlcy50eXBlc1wiLHt0eXBlczpbLi4uc119KX19LGMudW5tYXRjaGVkPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1bXTtmb3IoY29uc3QgdCBvZiBlKXIucHVzaCguLi50LnJlcG9ydHMpO3JldHVybntlcnJvcnM6dChcImFsdGVybmF0aXZlcy5tYXRjaFwiLGkuZGV0YWlscyhyLHtvdmVycmlkZTohMX0pKX19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcz1yKDApLG49cigyKSxvPXIoMTApLGE9cigyMCksaT1yKDE1KSxsPXIoMSksYz1yKDgpLHU9cig0KSxmPXIoMTcpLG09cigxOCksaD1yKDkpLGQ9cigzNSkscD1yKDUpLGc9cigxOSkseT1yKDM2KSxiPXIoMjEpLHY9e0Jhc2U6Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy50eXBlPWUsdGhpcy4kX3Jvb3Q9bnVsbCx0aGlzLl9kZWZpbml0aW9uPXt9LHRoaXMuX2lkcz1uZXcgZC5JZHMsdGhpcy5fcHJlZmVyZW5jZXM9bnVsbCx0aGlzLl9yZWZzPW5ldyBwLk1hbmFnZXIsdGhpcy5fY2FjaGU9bnVsbCx0aGlzLl92YWxpZHM9bnVsbCx0aGlzLl9pbnZhbGlkcz1udWxsLHRoaXMuX2ZsYWdzPXt9LHRoaXMuX3J1bGVzPVtdLHRoaXMuX3NpbmdsZVJ1bGVzPW5ldyBNYXAsdGhpcy4kX3Rlcm1zPXt9LHRoaXMuJF90ZW1wPXtydWxlc2V0Om51bGwsd2hlbnM6e319fWRlc2NyaWJlKCl7cmV0dXJuIHMoXCJmdW5jdGlvblwiPT10eXBlb2YgbS5kZXNjcmliZSxcIk1hbmlmZXN0IGZ1bmN0aW9uYWxpdHkgZGlzYWJsZWRcIiksbS5kZXNjcmliZSh0aGlzKX1hbGxvdyguLi5lKXtyZXR1cm4gbC52ZXJpZnlGbGF0KGUsXCJhbGxvd1wiKSx0aGlzLl92YWx1ZXMoZSxcIl92YWxpZHNcIil9YWx0ZXIoZSl7cyhlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmIUFycmF5LmlzQXJyYXkoZSksXCJJbnZhbGlkIHRhcmdldHMgYXJndW1lbnRcIikscyghdGhpcy5faW5SdWxlc2V0KCksXCJDYW5ub3Qgc2V0IGFsdGVyYXRpb25zIGluc2lkZSBhIHJ1bGVzZXRcIik7Y29uc3QgdD10aGlzLmNsb25lKCk7dC4kX3Rlcm1zLmFsdGVyYXRpb25zPXQuJF90ZXJtcy5hbHRlcmF0aW9uc3x8W107Zm9yKGNvbnN0IHIgaW4gZSl7Y29uc3Qgbj1lW3JdO3MoXCJmdW5jdGlvblwiPT10eXBlb2YgbixcIkFsdGVyYXRpb24gYWRqdXN0ZXIgZm9yXCIscixcIm11c3QgYmUgYSBmdW5jdGlvblwiKSx0LiRfdGVybXMuYWx0ZXJhdGlvbnMucHVzaCh7dGFyZ2V0OnIsYWRqdXN0ZXI6bn0pfXJldHVybiB0LiRfdGVtcC5ydWxlc2V0PSExLHR9Y2FzdChlKXtyZXR1cm4gcyghMT09PWV8fFwic3RyaW5nXCI9PXR5cGVvZiBlLFwiSW52YWxpZCB0byB2YWx1ZVwiKSxzKCExPT09ZXx8dGhpcy5fZGVmaW5pdGlvbi5jYXN0W2VdLFwiVHlwZVwiLHRoaXMudHlwZSxcImRvZXMgbm90IHN1cHBvcnQgY2FzdGluZyB0b1wiLGUpLHRoaXMuJF9zZXRGbGFnKFwiY2FzdFwiLCExPT09ZT92b2lkIDA6ZSl9ZGVmYXVsdChlLHQpe3JldHVybiB0aGlzLl9kZWZhdWx0KFwiZGVmYXVsdFwiLGUsdCl9ZGVzY3JpcHRpb24oZSl7cmV0dXJuIHMoZSYmXCJzdHJpbmdcIj09dHlwZW9mIGUsXCJEZXNjcmlwdGlvbiBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZ1wiKSx0aGlzLiRfc2V0RmxhZyhcImRlc2NyaXB0aW9uXCIsZSl9ZW1wdHkoZSl7Y29uc3QgdD10aGlzLmNsb25lKCk7cmV0dXJuIHZvaWQgMCE9PWUmJihlPXQuJF9jb21waWxlKGUse292ZXJyaWRlOiExfSkpLHQuJF9zZXRGbGFnKFwiZW1wdHlcIixlLHtjbG9uZTohMX0pfWVycm9yKGUpe3JldHVybiBzKGUsXCJNaXNzaW5nIGVycm9yXCIpLHMoZSBpbnN0YW5jZW9mIEVycm9yfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLFwiTXVzdCBwcm92aWRlIGEgdmFsaWQgRXJyb3Igb2JqZWN0IG9yIGEgZnVuY3Rpb25cIiksdGhpcy4kX3NldEZsYWcoXCJlcnJvclwiLGUpfWV4YW1wbGUoZSx0PXt9KXtyZXR1cm4gcyh2b2lkIDAhPT1lLFwiTWlzc2luZyBleGFtcGxlXCIpLGwuYXNzZXJ0T3B0aW9ucyh0LFtcIm92ZXJyaWRlXCJdKSx0aGlzLl9pbm5lcihcImV4YW1wbGVzXCIsZSx7c2luZ2xlOiEwLG92ZXJyaWRlOnQub3ZlcnJpZGV9KX1leHRlcm5hbChlLHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiYocyghdCxcIkNhbm5vdCBjb21iaW5lIG9wdGlvbnMgd2l0aCBkZXNjcmlwdGlvblwiKSx0PWUuZGVzY3JpcHRpb24sZT1lLm1ldGhvZCkscyhcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLFwiTWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvblwiKSxzKHZvaWQgMD09PXR8fHQmJlwic3RyaW5nXCI9PXR5cGVvZiB0LFwiRGVzY3JpcHRpb24gbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmdcIiksdGhpcy5faW5uZXIoXCJleHRlcm5hbHNcIix7bWV0aG9kOmUsZGVzY3JpcHRpb246dH0se3NpbmdsZTohMH0pfWZhaWxvdmVyKGUsdCl7cmV0dXJuIHRoaXMuX2RlZmF1bHQoXCJmYWlsb3ZlclwiLGUsdCl9Zm9yYmlkZGVuKCl7cmV0dXJuIHRoaXMucHJlc2VuY2UoXCJmb3JiaWRkZW5cIil9aWQoZSl7cmV0dXJuIGU/KHMoXCJzdHJpbmdcIj09dHlwZW9mIGUsXCJpZCBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZ1wiKSxzKC9eW15cXC5dKyQvLnRlc3QoZSksXCJpZCBjYW5ub3QgY29udGFpbiBwZXJpb2QgY2hhcmFjdGVyXCIpLHRoaXMuJF9zZXRGbGFnKFwiaWRcIixlKSk6dGhpcy4kX3NldEZsYWcoXCJpZFwiLHZvaWQgMCl9aW52YWxpZCguLi5lKXtyZXR1cm4gdGhpcy5fdmFsdWVzKGUsXCJfaW52YWxpZHNcIil9bGFiZWwoZSl7cmV0dXJuIHMoZSYmXCJzdHJpbmdcIj09dHlwZW9mIGUsXCJMYWJlbCBuYW1lIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nXCIpLHRoaXMuJF9zZXRGbGFnKFwibGFiZWxcIixlKX1tZXRhKGUpe3JldHVybiBzKHZvaWQgMCE9PWUsXCJNZXRhIGNhbm5vdCBiZSB1bmRlZmluZWRcIiksdGhpcy5faW5uZXIoXCJtZXRhc1wiLGUse3NpbmdsZTohMH0pfW5vdGUoLi4uZSl7cyhlLmxlbmd0aCxcIk1pc3Npbmcgbm90ZXNcIik7Zm9yKGNvbnN0IHQgb2YgZSlzKHQmJlwic3RyaW5nXCI9PXR5cGVvZiB0LFwiTm90ZXMgbXVzdCBiZSBub24tZW1wdHkgc3RyaW5nc1wiKTtyZXR1cm4gdGhpcy5faW5uZXIoXCJub3Rlc1wiLGUpfW9ubHkoZT0hMCl7cmV0dXJuIHMoXCJib29sZWFuXCI9PXR5cGVvZiBlLFwiSW52YWxpZCBtb2RlOlwiLGUpLHRoaXMuJF9zZXRGbGFnKFwib25seVwiLGUpfW9wdGlvbmFsKCl7cmV0dXJuIHRoaXMucHJlc2VuY2UoXCJvcHRpb25hbFwiKX1wcmVmcyhlKXtzKGUsXCJNaXNzaW5nIHByZWZlcmVuY2VzXCIpLHModm9pZCAwPT09ZS5jb250ZXh0LFwiQ2Fubm90IG92ZXJyaWRlIGNvbnRleHRcIikscyh2b2lkIDA9PT1lLmV4dGVybmFscyxcIkNhbm5vdCBvdmVycmlkZSBleHRlcm5hbHNcIikscyh2b2lkIDA9PT1lLndhcm5pbmdzLFwiQ2Fubm90IG92ZXJyaWRlIHdhcm5pbmdzXCIpLHModm9pZCAwPT09ZS5kZWJ1ZyxcIkNhbm5vdCBvdmVycmlkZSBkZWJ1Z1wiKSxsLmNoZWNrUHJlZmVyZW5jZXMoZSk7Y29uc3QgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuX3ByZWZlcmVuY2VzPWwucHJlZmVyZW5jZXModC5fcHJlZmVyZW5jZXMsZSksdH1wcmVzZW5jZShlKXtyZXR1cm4gcyhbXCJvcHRpb25hbFwiLFwicmVxdWlyZWRcIixcImZvcmJpZGRlblwiXS5pbmNsdWRlcyhlKSxcIlVua25vd24gcHJlc2VuY2UgbW9kZVwiLGUpLHRoaXMuJF9zZXRGbGFnKFwicHJlc2VuY2VcIixlKX1yYXcoZT0hMCl7cmV0dXJuIHRoaXMuJF9zZXRGbGFnKFwicmVzdWx0XCIsZT9cInJhd1wiOnZvaWQgMCl9cmVzdWx0KGUpe3JldHVybiBzKFtcInJhd1wiLFwic3RyaXBcIl0uaW5jbHVkZXMoZSksXCJVbmtub3duIHJlc3VsdCBtb2RlXCIsZSksdGhpcy4kX3NldEZsYWcoXCJyZXN1bHRcIixlKX1yZXF1aXJlZCgpe3JldHVybiB0aGlzLnByZXNlbmNlKFwicmVxdWlyZWRcIil9c3RyaWN0KGUpe2NvbnN0IHQ9dGhpcy5jbG9uZSgpLHI9dm9pZCAwIT09ZSYmIWU7cmV0dXJuIHQuX3ByZWZlcmVuY2VzPWwucHJlZmVyZW5jZXModC5fcHJlZmVyZW5jZXMse2NvbnZlcnQ6cn0pLHR9c3RyaXAoZT0hMCl7cmV0dXJuIHRoaXMuJF9zZXRGbGFnKFwicmVzdWx0XCIsZT9cInN0cmlwXCI6dm9pZCAwKX10YWcoLi4uZSl7cyhlLmxlbmd0aCxcIk1pc3NpbmcgdGFnc1wiKTtmb3IoY29uc3QgdCBvZiBlKXModCYmXCJzdHJpbmdcIj09dHlwZW9mIHQsXCJUYWdzIG11c3QgYmUgbm9uLWVtcHR5IHN0cmluZ3NcIik7cmV0dXJuIHRoaXMuX2lubmVyKFwidGFnc1wiLGUpfXVuaXQoZSl7cmV0dXJuIHMoZSYmXCJzdHJpbmdcIj09dHlwZW9mIGUsXCJVbml0IG5hbWUgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmdcIiksdGhpcy4kX3NldEZsYWcoXCJ1bml0XCIsZSl9dmFsaWQoLi4uZSl7bC52ZXJpZnlGbGF0KGUsXCJ2YWxpZFwiKTtjb25zdCB0PXRoaXMuYWxsb3coLi4uZSk7cmV0dXJuIHQuJF9zZXRGbGFnKFwib25seVwiLCEhdC5fdmFsaWRzLHtjbG9uZTohMX0pLHR9d2hlbihlLHQpe2NvbnN0IHI9dGhpcy5jbG9uZSgpO3IuJF90ZXJtcy53aGVuc3x8KHIuJF90ZXJtcy53aGVucz1bXSk7Y29uc3Qgbj1jLndoZW4ocixlLHQpO2lmKCFbXCJhbnlcIixcImxpbmtcIl0uaW5jbHVkZXMoci50eXBlKSl7Y29uc3QgZT1uLmlzP1tuXTpuLnN3aXRjaDtmb3IoY29uc3QgdCBvZiBlKXMoIXQudGhlbnx8XCJhbnlcIj09PXQudGhlbi50eXBlfHx0LnRoZW4udHlwZT09PXIudHlwZSxcIkNhbm5vdCBjb21iaW5lXCIsci50eXBlLFwid2l0aFwiLHQudGhlbiYmdC50aGVuLnR5cGUpLHMoIXQub3RoZXJ3aXNlfHxcImFueVwiPT09dC5vdGhlcndpc2UudHlwZXx8dC5vdGhlcndpc2UudHlwZT09PXIudHlwZSxcIkNhbm5vdCBjb21iaW5lXCIsci50eXBlLFwid2l0aFwiLHQub3RoZXJ3aXNlJiZ0Lm90aGVyd2lzZS50eXBlKX1yZXR1cm4gci4kX3Rlcm1zLndoZW5zLnB1c2gobiksci4kX211dGF0ZVJlYnVpbGQoKX1jYWNoZShlKXtzKCF0aGlzLl9pblJ1bGVzZXQoKSxcIkNhbm5vdCBzZXQgY2FjaGluZyBpbnNpZGUgYSBydWxlc2V0XCIpLHMoIXRoaXMuX2NhY2hlLFwiQ2Fubm90IG92ZXJyaWRlIHNjaGVtYSBjYWNoZVwiKTtjb25zdCB0PXRoaXMuY2xvbmUoKTtyZXR1cm4gdC5fY2FjaGU9ZXx8aS5wcm92aWRlci5wcm92aXNpb24oKSx0LiRfdGVtcC5ydWxlc2V0PSExLHR9Y2xvbmUoKXtjb25zdCBlPU9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpKTtyZXR1cm4gdGhpcy5fYXNzaWduKGUpfWNvbmNhdChlKXtzKGwuaXNTY2hlbWEoZSksXCJJbnZhbGlkIHNjaGVtYSBvYmplY3RcIikscyhcImFueVwiPT09dGhpcy50eXBlfHxcImFueVwiPT09ZS50eXBlfHxlLnR5cGU9PT10aGlzLnR5cGUsXCJDYW5ub3QgbWVyZ2UgdHlwZVwiLHRoaXMudHlwZSxcIndpdGggYW5vdGhlciB0eXBlOlwiLGUudHlwZSkscyghdGhpcy5faW5SdWxlc2V0KCksXCJDYW5ub3QgY29uY2F0ZW5hdGUgb250byBhIHNjaGVtYSB3aXRoIG9wZW4gcnVsZXNldFwiKSxzKCFlLl9pblJ1bGVzZXQoKSxcIkNhbm5vdCBjb25jYXRlbmF0ZSBhIHNjaGVtYSB3aXRoIG9wZW4gcnVsZXNldFwiKTtsZXQgdD10aGlzLmNsb25lKCk7aWYoXCJhbnlcIj09PXRoaXMudHlwZSYmXCJhbnlcIiE9PWUudHlwZSl7Y29uc3Qgcj1lLmNsb25lKCk7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModCkpXCJ0eXBlXCIhPT1lJiYocltlXT10W2VdKTt0PXJ9dC5faWRzLmNvbmNhdChlLl9pZHMpLHQuX3JlZnMucmVnaXN0ZXIoZSxwLnRvU2libGluZyksdC5fcHJlZmVyZW5jZXM9dC5fcHJlZmVyZW5jZXM/bC5wcmVmZXJlbmNlcyh0Ll9wcmVmZXJlbmNlcyxlLl9wcmVmZXJlbmNlcyk6ZS5fcHJlZmVyZW5jZXMsdC5fdmFsaWRzPWIubWVyZ2UodC5fdmFsaWRzLGUuX3ZhbGlkcyxlLl9pbnZhbGlkcyksdC5faW52YWxpZHM9Yi5tZXJnZSh0Ll9pbnZhbGlkcyxlLl9pbnZhbGlkcyxlLl92YWxpZHMpO2Zvcihjb25zdCByIG9mIGUuX3NpbmdsZVJ1bGVzLmtleXMoKSl0Ll9zaW5nbGVSdWxlcy5oYXMocikmJih0Ll9ydWxlcz10Ll9ydWxlcy5maWx0ZXIoZT0+ZS5rZWVwfHxlLm5hbWUhPT1yKSx0Ll9zaW5nbGVSdWxlcy5kZWxldGUocikpO2Zvcihjb25zdCByIG9mIGUuX3J1bGVzKWUuX2RlZmluaXRpb24ucnVsZXNbci5tZXRob2RdLm11bHRpfHx0Ll9zaW5nbGVSdWxlcy5zZXQoci5uYW1lLHIpLHQuX3J1bGVzLnB1c2gocik7aWYodC5fZmxhZ3MuZW1wdHkmJmUuX2ZsYWdzLmVtcHR5KXt0Ll9mbGFncy5lbXB0eT10Ll9mbGFncy5lbXB0eS5jb25jYXQoZS5fZmxhZ3MuZW1wdHkpO2NvbnN0IHI9T2JqZWN0LmFzc2lnbih7fSxlLl9mbGFncyk7ZGVsZXRlIHIuZW1wdHksYSh0Ll9mbGFncyxyKX1lbHNlIGlmKGUuX2ZsYWdzLmVtcHR5KXt0Ll9mbGFncy5lbXB0eT1lLl9mbGFncy5lbXB0eTtjb25zdCByPU9iamVjdC5hc3NpZ24oe30sZS5fZmxhZ3MpO2RlbGV0ZSByLmVtcHR5LGEodC5fZmxhZ3Mscil9ZWxzZSBhKHQuX2ZsYWdzLGUuX2ZsYWdzKTtmb3IoY29uc3QgciBpbiBlLiRfdGVybXMpe2NvbnN0IHM9ZS4kX3Rlcm1zW3JdO3M/dC4kX3Rlcm1zW3JdP3QuJF90ZXJtc1tyXT10LiRfdGVybXNbcl0uY29uY2F0KHMpOnQuJF90ZXJtc1tyXT1zLnNsaWNlKCk6dC4kX3Rlcm1zW3JdfHwodC4kX3Rlcm1zW3JdPXMpfXJldHVybiB0aGlzLiRfcm9vdC5fdHJhY2VyJiZ0aGlzLiRfcm9vdC5fdHJhY2VyLl9jb21iaW5lKHQsW3RoaXMsZV0pLHQuJF9tdXRhdGVSZWJ1aWxkKCl9ZXh0ZW5kKGUpe3JldHVybiBzKCFlLmJhc2UsXCJDYW5ub3QgZXh0ZW5kIHR5cGUgd2l0aCBhbm90aGVyIGJhc2VcIiksZi50eXBlKHRoaXMsZSl9ZXh0cmFjdChlKXtyZXR1cm4gZT1BcnJheS5pc0FycmF5KGUpP2U6ZS5zcGxpdChcIi5cIiksdGhpcy5faWRzLnJlYWNoKGUpfWZvcmsoZSx0KXtzKCF0aGlzLl9pblJ1bGVzZXQoKSxcIkNhbm5vdCBmb3JrIGluc2lkZSBhIHJ1bGVzZXRcIik7bGV0IHI9dGhpcztmb3IobGV0IHMgb2ZbXS5jb25jYXQoZSkpcz1BcnJheS5pc0FycmF5KHMpP3M6cy5zcGxpdChcIi5cIikscj1yLl9pZHMuZm9yayhzLHQscik7cmV0dXJuIHIuJF90ZW1wLnJ1bGVzZXQ9ITEscn1ydWxlKGUpe2NvbnN0IHQ9dGhpcy5fZGVmaW5pdGlvbjtsLmFzc2VydE9wdGlvbnMoZSxPYmplY3Qua2V5cyh0Lm1vZGlmaWVycykpLHMoITEhPT10aGlzLiRfdGVtcC5ydWxlc2V0LFwiQ2Fubm90IGFwcGx5IHJ1bGVzIHRvIGVtcHR5IHJ1bGVzZXQgb3IgdGhlIGxhc3QgcnVsZSBhZGRlZCBkb2VzIG5vdCBzdXBwb3J0IHJ1bGUgcHJvcGVydGllc1wiKTtjb25zdCByPW51bGw9PT10aGlzLiRfdGVtcC5ydWxlc2V0P3RoaXMuX3J1bGVzLmxlbmd0aC0xOnRoaXMuJF90ZW1wLnJ1bGVzZXQ7cyhyPj0wJiZyPHRoaXMuX3J1bGVzLmxlbmd0aCxcIkNhbm5vdCBhcHBseSBydWxlcyB0byBlbXB0eSBydWxlc2V0XCIpO2NvbnN0IG89dGhpcy5jbG9uZSgpO2ZvcihsZXQgYT1yO2E8by5fcnVsZXMubGVuZ3RoOysrYSl7Y29uc3Qgcj1vLl9ydWxlc1thXSxpPW4ocik7Zm9yKGNvbnN0IG4gaW4gZSl0Lm1vZGlmaWVyc1tuXShpLGVbbl0pLHMoaS5uYW1lPT09ci5uYW1lLFwiQ2Fubm90IGNoYW5nZSBydWxlIG5hbWVcIik7by5fcnVsZXNbYV09aSxvLl9zaW5nbGVSdWxlcy5nZXQoaS5uYW1lKT09PXImJm8uX3NpbmdsZVJ1bGVzLnNldChpLm5hbWUsaSl9cmV0dXJuIG8uJF90ZW1wLnJ1bGVzZXQ9ITEsby4kX211dGF0ZVJlYnVpbGQoKX1nZXQgcnVsZXNldCgpe3MoIXRoaXMuX2luUnVsZXNldCgpLFwiQ2Fubm90IHN0YXJ0IGEgbmV3IHJ1bGVzZXQgd2l0aG91dCBjbG9zaW5nIHRoZSBwcmV2aW91cyBvbmVcIik7Y29uc3QgZT10aGlzLmNsb25lKCk7cmV0dXJuIGUuJF90ZW1wLnJ1bGVzZXQ9ZS5fcnVsZXMubGVuZ3RoLGV9Z2V0ICQoKXtyZXR1cm4gdGhpcy5ydWxlc2V0fXRhaWxvcihlKXtlPVtdLmNvbmNhdChlKSxzKCF0aGlzLl9pblJ1bGVzZXQoKSxcIkNhbm5vdCB0YWlsb3IgaW5zaWRlIGEgcnVsZXNldFwiKTtsZXQgdD10aGlzO2lmKHRoaXMuJF90ZXJtcy5hbHRlcmF0aW9ucylmb3IoY29uc3R7dGFyZ2V0OnIsYWRqdXN0ZXI6bn1vZiB0aGlzLiRfdGVybXMuYWx0ZXJhdGlvbnMpZS5pbmNsdWRlcyhyKSYmKHQ9bih0KSxzKGwuaXNTY2hlbWEodCksXCJBbHRlcmF0aW9uIGFkanVzdGVyIGZvclwiLHIsXCJmYWlsZWQgdG8gcmV0dXJuIGEgc2NoZW1hIG9iamVjdFwiKSk7cmV0dXJuIHQ9dC4kX21vZGlmeSh7ZWFjaDp0PT50LnRhaWxvcihlKSxyZWY6ITF9KSx0LiRfdGVtcC5ydWxlc2V0PSExLHQuJF9tdXRhdGVSZWJ1aWxkKCl9dHJhY2VyKCl7cmV0dXJuIGcubG9jYXRpb24/Zy5sb2NhdGlvbih0aGlzKTp0aGlzfXZhbGlkYXRlKGUsdCl7cmV0dXJuIHkuZW50cnkoZSx0aGlzLHQpfXZhbGlkYXRlQXN5bmMoZSx0KXtyZXR1cm4geS5lbnRyeUFzeW5jKGUsdGhpcyx0KX0kX2FkZFJ1bGUoZSl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXtuYW1lOmV9KSxzKGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLFwiSW52YWxpZCBvcHRpb25zXCIpLHMoZS5uYW1lJiZcInN0cmluZ1wiPT10eXBlb2YgZS5uYW1lLFwiSW52YWxpZCBydWxlIG5hbWVcIik7Zm9yKGNvbnN0IHQgaW4gZSlzKFwiX1wiIT09dFswXSxcIkNhbm5vdCBzZXQgcHJpdmF0ZSBydWxlIHByb3BlcnRpZXNcIik7Y29uc3QgdD1PYmplY3QuYXNzaWduKHt9LGUpO3QuX3Jlc29sdmU9W10sdC5tZXRob2Q9dC5tZXRob2R8fHQubmFtZTtjb25zdCByPXRoaXMuX2RlZmluaXRpb24ucnVsZXNbdC5tZXRob2RdLG49dC5hcmdzO3MocixcIlVua25vd24gcnVsZVwiLHQubWV0aG9kKTtjb25zdCBvPXRoaXMuY2xvbmUoKTtpZihuKXtzKDE9PT1PYmplY3Qua2V5cyhuKS5sZW5ndGh8fE9iamVjdC5rZXlzKG4pLmxlbmd0aD09PXRoaXMuX2RlZmluaXRpb24ucnVsZXNbdC5uYW1lXS5hcmdzLmxlbmd0aCxcIkludmFsaWQgcnVsZSBkZWZpbml0aW9uIGZvclwiLHRoaXMudHlwZSx0Lm5hbWUpO2Zvcihjb25zdCBlIGluIG4pe2xldCBhPW5bZV07aWYodm9pZCAwIT09YSl7aWYoci5hcmdzQnlOYW1lKXtjb25zdCBpPXIuYXJnc0J5TmFtZS5nZXQoZSk7aWYoaS5yZWYmJmwuaXNSZXNvbHZhYmxlKGEpKXQuX3Jlc29sdmUucHVzaChlKSxvLiRfbXV0YXRlUmVnaXN0ZXIoYSk7ZWxzZSBpZihpLm5vcm1hbGl6ZSYmKGE9aS5ub3JtYWxpemUoYSksbltlXT1hKSxpLmFzc2VydCl7Y29uc3QgdD1sLnZhbGlkYXRlQXJnKGEsZSxpKTtzKCF0LHQsXCJvciByZWZlcmVuY2VcIil9fW5bZV09YX1lbHNlIGRlbGV0ZSBuW2VdfX1yZXR1cm4gci5tdWx0aXx8KG8uX3J1bGVSZW1vdmUodC5uYW1lLHtjbG9uZTohMX0pLG8uX3NpbmdsZVJ1bGVzLnNldCh0Lm5hbWUsdCkpLCExPT09by4kX3RlbXAucnVsZXNldCYmKG8uJF90ZW1wLnJ1bGVzZXQ9bnVsbCksci5wcmlvcml0eT9vLl9ydWxlcy51bnNoaWZ0KHQpOm8uX3J1bGVzLnB1c2godCksb30kX2NvbXBpbGUoZSx0KXtyZXR1cm4gYy5zY2hlbWEodGhpcy4kX3Jvb3QsZSx0KX0kX2NyZWF0ZUVycm9yKGUsdCxyLHMsbixvPXt9KXtjb25zdCBhPSExIT09by5mbGFncz90aGlzLl9mbGFnczp7fSxpPW8ubWVzc2FnZXM/aC5tZXJnZSh0aGlzLl9kZWZpbml0aW9uLm1lc3NhZ2VzLG8ubWVzc2FnZXMpOnRoaXMuX2RlZmluaXRpb24ubWVzc2FnZXM7cmV0dXJuIG5ldyB1LlJlcG9ydChlLHQscixhLGkscyxuKX0kX2dldEZsYWcoZSl7cmV0dXJuIHRoaXMuX2ZsYWdzW2VdfSRfZ2V0UnVsZShlKXtyZXR1cm4gdGhpcy5fc2luZ2xlUnVsZXMuZ2V0KGUpfSRfbWFwTGFiZWxzKGUpe3JldHVybiBlPUFycmF5LmlzQXJyYXkoZSk/ZTplLnNwbGl0KFwiLlwiKSx0aGlzLl9pZHMubGFiZWxzKGUpfSRfbWF0Y2goZSx0LHIscyl7KHI9T2JqZWN0LmFzc2lnbih7fSxyKSkuYWJvcnRFYXJseT0hMCxyLl9leHRlcm5hbHM9ITEsdC5zbmFwc2hvdCgpO2NvbnN0IG49IXkudmFsaWRhdGUoZSx0aGlzLHQscixzKS5lcnJvcnM7cmV0dXJuIHQucmVzdG9yZSgpLG59JF9tb2RpZnkoZSl7cmV0dXJuIGwuYXNzZXJ0T3B0aW9ucyhlLFtcImVhY2hcIixcIm9uY2VcIixcInJlZlwiLFwic2NoZW1hXCJdKSxkLnNjaGVtYSh0aGlzLGUpfHx0aGlzfSRfbXV0YXRlUmVidWlsZCgpe3MoIXRoaXMuX2luUnVsZXNldCgpLFwiQ2Fubm90IGFkZCB0aGlzIHJ1bGUgaW5zaWRlIGEgcnVsZXNldFwiKSx0aGlzLl9yZWZzLnJlc2V0KCksdGhpcy5faWRzLnJlc2V0KCk7cmV0dXJuIHRoaXMuJF9tb2RpZnkoe2VhY2g6KGUse3NvdXJjZTp0LG5hbWU6cixwYXRoOnMsa2V5Om59KT0+e2NvbnN0IG89dGhpcy5fZGVmaW5pdGlvblt0XVtyXSYmdGhpcy5fZGVmaW5pdGlvblt0XVtyXS5yZWdpc3RlcjshMSE9PW8mJnRoaXMuJF9tdXRhdGVSZWdpc3RlcihlLHtmYW1pbHk6byxrZXk6bn0pfX0pLHRoaXMuX2RlZmluaXRpb24ucmVidWlsZCYmdGhpcy5fZGVmaW5pdGlvbi5yZWJ1aWxkKHRoaXMpLHRoaXMuJF90ZW1wLnJ1bGVzZXQ9ITEsdGhpc30kX211dGF0ZVJlZ2lzdGVyKGUse2ZhbWlseTp0LGtleTpyfT17fSl7dGhpcy5fcmVmcy5yZWdpc3RlcihlLHQpLHRoaXMuX2lkcy5yZWdpc3RlcihlLHtrZXk6cn0pfSRfcHJvcGVydHkoZSl7cmV0dXJuIHRoaXMuX2RlZmluaXRpb24ucHJvcGVydGllc1tlXX0kX3JlYWNoKGUpe3JldHVybiB0aGlzLl9pZHMucmVhY2goZSl9JF9yb290UmVmZXJlbmNlcygpe3JldHVybiB0aGlzLl9yZWZzLnJvb3RzKCl9JF9zZXRGbGFnKGUsdCxyPXt9KXtzKFwiX1wiPT09ZVswXXx8IXRoaXMuX2luUnVsZXNldCgpLFwiQ2Fubm90IHNldCBmbGFnIGluc2lkZSBhIHJ1bGVzZXRcIik7Y29uc3Qgbj10aGlzLl9kZWZpbml0aW9uLmZsYWdzW2VdfHx7fTtpZihvKHQsbi5kZWZhdWx0KSYmKHQ9dm9pZCAwKSxvKHQsdGhpcy5fZmxhZ3NbZV0pKXJldHVybiB0aGlzO2NvbnN0IGE9ITEhPT1yLmNsb25lP3RoaXMuY2xvbmUoKTp0aGlzO3JldHVybiB2b2lkIDAhPT10PyhhLl9mbGFnc1tlXT10LGEuJF9tdXRhdGVSZWdpc3Rlcih0KSk6ZGVsZXRlIGEuX2ZsYWdzW2VdLFwiX1wiIT09ZVswXSYmKGEuJF90ZW1wLnJ1bGVzZXQ9ITEpLGF9JF92YWxpZGF0ZShlLHQscil7cmV0dXJuIHkudmFsaWRhdGUoZSx0aGlzLHQscil9X2Fzc2lnbihlKXtlLnR5cGU9dGhpcy50eXBlLGUuJF9yb290PXRoaXMuJF9yb290LGUuJF90ZW1wPU9iamVjdC5hc3NpZ24oe30sdGhpcy4kX3RlbXApLGUuJF90ZW1wLndoZW5zPXt9LGUuX2lkcz10aGlzLl9pZHMuY2xvbmUoKSxlLl9wcmVmZXJlbmNlcz10aGlzLl9wcmVmZXJlbmNlcyxlLl92YWxpZHM9dGhpcy5fdmFsaWRzJiZ0aGlzLl92YWxpZHMuY2xvbmUoKSxlLl9pbnZhbGlkcz10aGlzLl9pbnZhbGlkcyYmdGhpcy5faW52YWxpZHMuY2xvbmUoKSxlLl9ydWxlcz10aGlzLl9ydWxlcy5zbGljZSgpLGUuX3NpbmdsZVJ1bGVzPW4odGhpcy5fc2luZ2xlUnVsZXMse3NoYWxsb3c6ITB9KSxlLl9yZWZzPXRoaXMuX3JlZnMuY2xvbmUoKSxlLl9mbGFncz1PYmplY3QuYXNzaWduKHt9LHRoaXMuX2ZsYWdzKSxlLl9jYWNoZT1udWxsLGUuJF90ZXJtcz17fTtmb3IoY29uc3QgdCBpbiB0aGlzLiRfdGVybXMpZS4kX3Rlcm1zW3RdPXRoaXMuJF90ZXJtc1t0XT90aGlzLiRfdGVybXNbdF0uc2xpY2UoKTpudWxsO2UuJF9zdXBlcj17fTtmb3IoY29uc3QgdCBpbiB0aGlzLiRfc3VwZXIpZS4kX3N1cGVyW3RdPXRoaXMuX3N1cGVyW3RdLmJpbmQoZSk7cmV0dXJuIGV9X2RlZmF1bHQoZSx0LHI9e30pe3JldHVybiBsLmFzc2VydE9wdGlvbnMocixcImxpdGVyYWxcIikscyh2b2lkIDAhPT10LFwiTWlzc2luZ1wiLGUsXCJ2YWx1ZVwiKSxzKFwiZnVuY3Rpb25cIj09dHlwZW9mIHR8fCFyLmxpdGVyYWwsXCJPbmx5IGZ1bmN0aW9uIHZhbHVlIHN1cHBvcnRzIGxpdGVyYWwgb3B0aW9uXCIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnIubGl0ZXJhbCYmKHQ9e1tsLnN5bWJvbHMubGl0ZXJhbF06ITAsbGl0ZXJhbDp0fSksdGhpcy4kX3NldEZsYWcoZSx0KX1fZ2VuZXJhdGUoZSx0LHIpe2lmKCF0aGlzLiRfdGVybXMud2hlbnMpcmV0dXJue3NjaGVtYTp0aGlzfTtjb25zdCBzPVtdLG49W107Zm9yKGxldCBvPTA7bzx0aGlzLiRfdGVybXMud2hlbnMubGVuZ3RoOysrbyl7Y29uc3QgYT10aGlzLiRfdGVybXMud2hlbnNbb107aWYoYS5jb25jYXQpe3MucHVzaChhLmNvbmNhdCksbi5wdXNoKFwiXCIuY29uY2F0KG8sXCIuY29uY2F0XCIpKTtjb250aW51ZX1jb25zdCBpPWEucmVmP2EucmVmLnJlc29sdmUoZSx0LHIpOmUsbD1hLmlzP1thXTphLnN3aXRjaCxjPW4ubGVuZ3RoO2ZvcihsZXQgYz0wO2M8bC5sZW5ndGg7KytjKXtjb25zdHtpczp1LHRoZW46ZixvdGhlcndpc2U6bX09bFtjXSxoPVwiXCIuY29uY2F0KG8pLmNvbmNhdChhLnN3aXRjaD9cIi5cIitjOlwiXCIpO2lmKHUuJF9tYXRjaChpLHQubmVzdCh1LFwiXCIuY29uY2F0KGgsXCIuaXNcIikpLHIpKXtpZihmKXtjb25zdCBvPXQubG9jYWxpemUoWy4uLnQucGF0aCxcIlwiLmNvbmNhdChoLFwiLnRoZW5cIildLHQuYW5jZXN0b3JzLHQuc2NoZW1hcykse3NjaGVtYTphLGlkOml9PWYuX2dlbmVyYXRlKGUsbyxyKTtzLnB1c2goYSksbi5wdXNoKFwiXCIuY29uY2F0KGgsXCIudGhlblwiKS5jb25jYXQoaT9cIihcIi5jb25jYXQoaSxcIilcIik6XCJcIikpO2JyZWFrfX1lbHNlIGlmKG0pe2NvbnN0IG89dC5sb2NhbGl6ZShbLi4udC5wYXRoLFwiXCIuY29uY2F0KGgsXCIub3RoZXJ3aXNlXCIpXSx0LmFuY2VzdG9ycyx0LnNjaGVtYXMpLHtzY2hlbWE6YSxpZDppfT1tLl9nZW5lcmF0ZShlLG8scik7cy5wdXNoKGEpLG4ucHVzaChcIlwiLmNvbmNhdChoLFwiLm90aGVyd2lzZVwiKS5jb25jYXQoaT9cIihcIi5jb25jYXQoaSxcIilcIik6XCJcIikpO2JyZWFrfX1pZihhLmJyZWFrJiZuLmxlbmd0aD5jKWJyZWFrfWNvbnN0IG89bi5qb2luKFwiLCBcIik7aWYodC5tYWluc3RheS50cmFjZXIuZGVidWcodCxcInJ1bGVcIixcIndoZW5cIixvKSwhbylyZXR1cm57c2NoZW1hOnRoaXN9O2lmKCF0Lm1haW5zdGF5LnRyYWNlci5hY3RpdmUmJnRoaXMuJF90ZW1wLndoZW5zW29dKXJldHVybntzY2hlbWE6dGhpcy4kX3RlbXAud2hlbnNbb10saWQ6b307bGV0IGE9dGhpczt0aGlzLl9kZWZpbml0aW9uLmdlbmVyYXRlJiYoYT10aGlzLl9kZWZpbml0aW9uLmdlbmVyYXRlKHRoaXMsZSx0LHIpKTtmb3IoY29uc3QgZSBvZiBzKWE9YS5jb25jYXQoZSk7cmV0dXJuIHRoaXMuJF9yb290Ll90cmFjZXImJnRoaXMuJF9yb290Ll90cmFjZXIuX2NvbWJpbmUoYSxbdGhpcywuLi5zXSksdGhpcy4kX3RlbXAud2hlbnNbb109YSx7c2NoZW1hOmEsaWQ6b319X2lubmVyKGUsdCxyPXt9KXtzKCF0aGlzLl9pblJ1bGVzZXQoKSxcIkNhbm5vdCBzZXQgXCIuY29uY2F0KGUsXCIgaW5zaWRlIGEgcnVsZXNldFwiKSk7Y29uc3Qgbj10aGlzLmNsb25lKCk7cmV0dXJuIG4uJF90ZXJtc1tlXSYmIXIub3ZlcnJpZGV8fChuLiRfdGVybXNbZV09W10pLHIuc2luZ2xlP24uJF90ZXJtc1tlXS5wdXNoKHQpOm4uJF90ZXJtc1tlXS5wdXNoKC4uLnQpLG4uJF90ZW1wLnJ1bGVzZXQ9ITEsbn1faW5SdWxlc2V0KCl7cmV0dXJuIG51bGwhPT10aGlzLiRfdGVtcC5ydWxlc2V0JiYhMSE9PXRoaXMuJF90ZW1wLnJ1bGVzZXR9X3J1bGVSZW1vdmUoZSx0PXt9KXtpZighdGhpcy5fc2luZ2xlUnVsZXMuaGFzKGUpKXJldHVybiB0aGlzO2NvbnN0IHI9ITEhPT10LmNsb25lP3RoaXMuY2xvbmUoKTp0aGlzO3IuX3NpbmdsZVJ1bGVzLmRlbGV0ZShlKTtjb25zdCBzPVtdO2ZvcihsZXQgdD0wO3Q8ci5fcnVsZXMubGVuZ3RoOysrdCl7Y29uc3Qgbj1yLl9ydWxlc1t0XTtuLm5hbWUhPT1lfHxuLmtlZXA/cy5wdXNoKG4pOnIuX2luUnVsZXNldCgpJiZ0PHIuJF90ZW1wLnJ1bGVzZXQmJi0tci4kX3RlbXAucnVsZXNldH1yZXR1cm4gci5fcnVsZXM9cyxyfV92YWx1ZXMoZSx0KXtsLnZlcmlmeUZsYXQoZSx0LnNsaWNlKDEsLTEpKTtjb25zdCByPXRoaXMuY2xvbmUoKSxuPWVbMF09PT1sLnN5bWJvbHMub3ZlcnJpZGU7aWYobiYmKGU9ZS5zbGljZSgxKSksIXJbdF0mJmUubGVuZ3RoP3JbdF09bmV3IGI6biYmKHJbdF09ZS5sZW5ndGg/bmV3IGI6bnVsbCxyLiRfbXV0YXRlUmVidWlsZCgpKSwhclt0XSlyZXR1cm4gcjtuJiZyW3RdLm92ZXJyaWRlKCk7Zm9yKGNvbnN0IG4gb2YgZSl7cyh2b2lkIDAhPT1uLFwiQ2Fubm90IGNhbGwgYWxsb3cvdmFsaWQvaW52YWxpZCB3aXRoIHVuZGVmaW5lZFwiKSxzKG4hPT1sLnN5bWJvbHMub3ZlcnJpZGUsXCJPdmVycmlkZSBtdXN0IGJlIHRoZSBmaXJzdCB2YWx1ZVwiKTtjb25zdCBlPVwiX2ludmFsaWRzXCI9PT10P1wiX3ZhbGlkc1wiOlwiX2ludmFsaWRzXCI7cltlXSYmKHJbZV0ucmVtb3ZlKG4pLHJbZV0ubGVuZ3RofHwocyhcIl92YWxpZHNcIj09PXR8fCFyLl9mbGFncy5vbmx5LFwiU2V0dGluZyBpbnZhbGlkIHZhbHVlXCIsbixcImxlYXZlcyBzY2hlbWEgcmVqZWN0aW5nIGFsbCB2YWx1ZXMgZHVlIHRvIHByZXZpb3VzIHZhbGlkIHJ1bGVcIikscltlXT1udWxsKSksclt0XS5hZGQobixyLl9yZWZzKX1yZXR1cm4gcn19fTt2LkJhc2UucHJvdG90eXBlW2wuc3ltYm9scy5hbnldPXt2ZXJzaW9uOmwudmVyc2lvbixjb21waWxlOmMuY29tcGlsZSxyb290OlwiJF9yb290XCJ9LHYuQmFzZS5wcm90b3R5cGUuaXNJbW11dGFibGU9ITAsdi5CYXNlLnByb3RvdHlwZS5kZW55PXYuQmFzZS5wcm90b3R5cGUuaW52YWxpZCx2LkJhc2UucHJvdG90eXBlLmRpc2FsbG93PXYuQmFzZS5wcm90b3R5cGUuaW52YWxpZCx2LkJhc2UucHJvdG90eXBlLmVxdWFsPXYuQmFzZS5wcm90b3R5cGUudmFsaWQsdi5CYXNlLnByb3RvdHlwZS5leGlzdD12LkJhc2UucHJvdG90eXBlLnJlcXVpcmVkLHYuQmFzZS5wcm90b3R5cGUubm90PXYuQmFzZS5wcm90b3R5cGUuaW52YWxpZCx2LkJhc2UucHJvdG90eXBlLm9wdGlvbnM9di5CYXNlLnByb3RvdHlwZS5wcmVmcyx2LkJhc2UucHJvdG90eXBlLnByZWZlcmVuY2VzPXYuQmFzZS5wcm90b3R5cGUucHJlZnMsZS5leHBvcnRzPW5ldyB2LkJhc2V9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBzKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocz1zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixzKX1yZXR1cm4gcn1mdW5jdGlvbiBuKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1jb25zdCBvPXIoMCksYT1yKDEpLGk9cig1KSxsPXt9O3QuSWRzPWwuSWRzPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5fYnlJZD1uZXcgTWFwLHRoaXMuX2J5S2V5PW5ldyBNYXAsdGhpcy5fc2NoZW1hQ2hhaW49ITF9Y2xvbmUoKXtjb25zdCBlPW5ldyBsLklkcztyZXR1cm4gZS5fYnlJZD1uZXcgTWFwKHRoaXMuX2J5SWQpLGUuX2J5S2V5PW5ldyBNYXAodGhpcy5fYnlLZXkpLGUuX3NjaGVtYUNoYWluPXRoaXMuX3NjaGVtYUNoYWluLGV9Y29uY2F0KGUpe2UuX3NjaGVtYUNoYWluJiYodGhpcy5fc2NoZW1hQ2hhaW49ITApO2Zvcihjb25zdFt0LHJdb2YgZS5fYnlJZC5lbnRyaWVzKCkpbyghdGhpcy5fYnlLZXkuaGFzKHQpLFwiU2NoZW1hIGlkIGNvbmZsaWN0cyB3aXRoIGV4aXN0aW5nIGtleTpcIix0KSx0aGlzLl9ieUlkLnNldCh0LHIpO2Zvcihjb25zdFt0LHJdb2YgZS5fYnlLZXkuZW50cmllcygpKW8oIXRoaXMuX2J5SWQuaGFzKHQpLFwiU2NoZW1hIGtleSBjb25mbGljdHMgd2l0aCBleGlzdGluZyBpZDpcIix0KSx0aGlzLl9ieUtleS5zZXQodCxyKX1mb3JrKGUsdCxyKXtjb25zdCBzPXRoaXMuX2NvbGxlY3QoZSk7cy5wdXNoKHtzY2hlbWE6cn0pO2NvbnN0IG49cy5zaGlmdCgpO2xldCBpPXtpZDpuLmlkLHNjaGVtYTp0KG4uc2NoZW1hKX07byhhLmlzU2NoZW1hKGkuc2NoZW1hKSxcImFkanVzdGVyIGZ1bmN0aW9uIGZhaWxlZCB0byByZXR1cm4gYSBqb2kgc2NoZW1hIHR5cGVcIik7Zm9yKGNvbnN0IGUgb2YgcylpPXtpZDplLmlkLHNjaGVtYTpsLmZvcmsoZS5zY2hlbWEsaS5pZCxpLnNjaGVtYSl9O3JldHVybiBpLnNjaGVtYX1sYWJlbHMoZSx0PVtdKXtjb25zdCByPWVbMF0scz10aGlzLl9nZXQocik7aWYoIXMpcmV0dXJuWy4uLnQsLi4uZV0uam9pbihcIi5cIik7Y29uc3Qgbj1lLnNsaWNlKDEpO3JldHVybiB0PVsuLi50LHMuc2NoZW1hLl9mbGFncy5sYWJlbHx8cl0sbi5sZW5ndGg/cy5zY2hlbWEuX2lkcy5sYWJlbHMobix0KTp0LmpvaW4oXCIuXCIpfXJlYWNoKGUsdD1bXSl7Y29uc3Qgcj1lWzBdLHM9dGhpcy5fZ2V0KHIpO28ocyxcIlNjaGVtYSBkb2VzIG5vdCBjb250YWluIHBhdGhcIixbLi4udCwuLi5lXS5qb2luKFwiLlwiKSk7Y29uc3Qgbj1lLnNsaWNlKDEpO3JldHVybiBuLmxlbmd0aD9zLnNjaGVtYS5faWRzLnJlYWNoKG4sWy4uLnQscl0pOnMuc2NoZW1hfXJlZ2lzdGVyKGUse2tleTp0fT17fSl7aWYoIWV8fCFhLmlzU2NoZW1hKGUpKXJldHVybjsoZS4kX3Byb3BlcnR5KFwic2NoZW1hQ2hhaW5cIil8fGUuX2lkcy5fc2NoZW1hQ2hhaW4pJiYodGhpcy5fc2NoZW1hQ2hhaW49ITApO2NvbnN0IHI9ZS5fZmxhZ3MuaWQ7aWYocil7Y29uc3QgdD10aGlzLl9ieUlkLmdldChyKTtvKCF0fHx0LnNjaGVtYT09PWUsXCJDYW5ub3QgYWRkIGRpZmZlcmVudCBzY2hlbWFzIHdpdGggdGhlIHNhbWUgaWQ6XCIsciksbyghdGhpcy5fYnlLZXkuaGFzKHIpLFwiU2NoZW1hIGlkIGNvbmZsaWN0cyB3aXRoIGV4aXN0aW5nIGtleTpcIixyKSx0aGlzLl9ieUlkLnNldChyLHtzY2hlbWE6ZSxpZDpyfSl9dCYmKG8oIXRoaXMuX2J5S2V5Lmhhcyh0KSxcIlNjaGVtYSBhbHJlYWR5IGNvbnRhaW5zIGtleTpcIix0KSxvKCF0aGlzLl9ieUlkLmhhcyh0KSxcIlNjaGVtYSBrZXkgY29uZmxpY3RzIHdpdGggZXhpc3RpbmcgaWQ6XCIsdCksdGhpcy5fYnlLZXkuc2V0KHQse3NjaGVtYTplLGlkOnR9KSl9cmVzZXQoKXt0aGlzLl9ieUlkPW5ldyBNYXAsdGhpcy5fYnlLZXk9bmV3IE1hcCx0aGlzLl9zY2hlbWFDaGFpbj0hMX1fY29sbGVjdChlLHQ9W10scj1bXSl7Y29uc3Qgcz1lWzBdLG49dGhpcy5fZ2V0KHMpO28obixcIlNjaGVtYSBkb2VzIG5vdCBjb250YWluIHBhdGhcIixbLi4udCwuLi5lXS5qb2luKFwiLlwiKSkscj1bbiwuLi5yXTtjb25zdCBhPWUuc2xpY2UoMSk7cmV0dXJuIGEubGVuZ3RoP24uc2NoZW1hLl9pZHMuX2NvbGxlY3QoYSxbLi4udCxzXSxyKTpyfV9nZXQoZSl7cmV0dXJuIHRoaXMuX2J5SWQuZ2V0KGUpfHx0aGlzLl9ieUtleS5nZXQoZSl9fSxsLmZvcms9ZnVuY3Rpb24oZSxyLHMpe2NvbnN0IG49dC5zY2hlbWEoZSx7ZWFjaDooZSx7a2V5OnR9KT0+e2lmKHI9PT0oZS5fZmxhZ3MuaWR8fHQpKXJldHVybiBzfSxyZWY6ITF9KTtyZXR1cm4gbj9uLiRfbXV0YXRlUmVidWlsZCgpOmV9LHQuc2NoZW1hPWZ1bmN0aW9uKGUsdCl7bGV0IHI7Zm9yKGNvbnN0IHMgaW4gZS5fZmxhZ3Mpe2lmKFwiX1wiPT09c1swXSljb250aW51ZTtjb25zdCBuPWwuc2NhbihlLl9mbGFnc1tzXSx7c291cmNlOlwiZmxhZ3NcIixuYW1lOnN9LHQpO3ZvaWQgMCE9PW4mJihyPXJ8fGUuY2xvbmUoKSxyLl9mbGFnc1tzXT1uKX1mb3IobGV0IHM9MDtzPGUuX3J1bGVzLmxlbmd0aDsrK3Mpe2NvbnN0IG49ZS5fcnVsZXNbc10sbz1sLnNjYW4obi5hcmdzLHtzb3VyY2U6XCJydWxlc1wiLG5hbWU6bi5uYW1lfSx0KTtpZih2b2lkIDAhPT1vKXtyPXJ8fGUuY2xvbmUoKTtjb25zdCB0PU9iamVjdC5hc3NpZ24oe30sbik7dC5hcmdzPW8sci5fcnVsZXNbc109dCxyLl9zaW5nbGVSdWxlcy5nZXQobi5uYW1lKT09PW4mJnIuX3NpbmdsZVJ1bGVzLnNldChuLm5hbWUsdCl9fWZvcihjb25zdCBzIGluIGUuJF90ZXJtcyl7aWYoXCJfXCI9PT1zWzBdKWNvbnRpbnVlO2NvbnN0IG49bC5zY2FuKGUuJF90ZXJtc1tzXSx7c291cmNlOlwidGVybXNcIixuYW1lOnN9LHQpO3ZvaWQgMCE9PW4mJihyPXJ8fGUuY2xvbmUoKSxyLiRfdGVybXNbc109bil9cmV0dXJuIHJ9LGwuc2Nhbj1mdW5jdGlvbihlLHQscixvLGMpe2NvbnN0IHU9b3x8W107aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlKXJldHVybjtsZXQgZjtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IobGV0IHM9MDtzPGUubGVuZ3RoOysrcyl7Y29uc3Qgbj1cInRlcm1zXCI9PT10LnNvdXJjZSYmXCJrZXlzXCI9PT10Lm5hbWUmJmVbc10ua2V5LG89bC5zY2FuKGVbc10sdCxyLFtzLC4uLnVdLG4pO3ZvaWQgMCE9PW8mJihmPWZ8fGUuc2xpY2UoKSxmW3NdPW8pfXJldHVybiBmfWlmKCExIT09ci5zY2hlbWEmJmEuaXNTY2hlbWEoZSl8fCExIT09ci5yZWYmJmkuaXNSZWYoZSkpe2NvbnN0IG89ci5lYWNoKGUsZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/cyhPYmplY3QociksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe24oZSx0LHJbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOnMoT2JqZWN0KHIpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9KHt9LHQse3BhdGg6dSxrZXk6Y30pKTtpZihvPT09ZSlyZXR1cm47cmV0dXJuIG99Zm9yKGNvbnN0IHMgaW4gZSl7aWYoXCJfXCI9PT1zWzBdKWNvbnRpbnVlO2NvbnN0IG49bC5zY2FuKGVbc10sdCxyLFtzLC4uLnVdLGMpO3ZvaWQgMCE9PW4mJihmPWZ8fE9iamVjdC5hc3NpZ24oe30sZSksZltzXT1uKX1yZXR1cm4gZn19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBzPXIoMCksbj1yKDIpLG89cigzNyksYT1yKDYpLGk9cigxKSxsPXIoNCksYz1yKDM4KSx1PXtyZXN1bHQ6U3ltYm9sKFwicmVzdWx0XCIpfTt0LmVudHJ5PWZ1bmN0aW9uKGUsdCxyKXtsZXQgbj1pLmRlZmF1bHRzO3ImJihzKHZvaWQgMD09PXIud2FybmluZ3MsXCJDYW5ub3Qgb3ZlcnJpZGUgd2FybmluZ3MgcHJlZmVyZW5jZSBpbiBzeW5jaHJvbm91cyB2YWxpZGF0aW9uXCIpLG49aS5wcmVmZXJlbmNlcyhpLmRlZmF1bHRzLHIpKTtjb25zdCBvPXUuZW50cnkoZSx0LG4pO3MoIW8ubWFpbnN0YXkuZXh0ZXJuYWxzLmxlbmd0aCxcIlNjaGVtYSB3aXRoIGV4dGVybmFsIHJ1bGVzIG11c3QgdXNlIHZhbGlkYXRlQXN5bmMoKVwiKTtjb25zdCBhPXt2YWx1ZTpvLnZhbHVlfTtyZXR1cm4gby5lcnJvciYmKGEuZXJyb3I9by5lcnJvciksby5tYWluc3RheS53YXJuaW5ncy5sZW5ndGgmJihhLndhcm5pbmc9bC5kZXRhaWxzKG8ubWFpbnN0YXkud2FybmluZ3MpKSxvLm1haW5zdGF5LmRlYnVnJiYoYS5kZWJ1Zz1vLm1haW5zdGF5LmRlYnVnKSxhfSx0LmVudHJ5QXN5bmM9YXN5bmMgZnVuY3Rpb24oZSx0LHIpe2xldCBzPWkuZGVmYXVsdHM7ciYmKHM9aS5wcmVmZXJlbmNlcyhpLmRlZmF1bHRzLHIpKTtjb25zdCBuPXUuZW50cnkoZSx0LHMpLG89bi5tYWluc3RheTtpZihuLmVycm9yKXRocm93IG8uZGVidWcmJihuLmVycm9yLmRlYnVnPW8uZGVidWcpLG4uZXJyb3I7aWYoby5leHRlcm5hbHMubGVuZ3RoKXtsZXQgZT1uLnZhbHVlO2Zvcihjb25zdHttZXRob2Q6dCxwYXRoOnIsbGFiZWw6c31vZiBvLmV4dGVybmFscyl7bGV0IG4sbyxpPWU7ci5sZW5ndGgmJihuPXJbci5sZW5ndGgtMV0sbz1hKGUsci5zbGljZSgwLC0xKSksaT1vW25dKTt0cnl7Y29uc3Qgcj1hd2FpdCB0KGkpO2lmKHZvaWQgMD09PXJ8fHI9PT1pKWNvbnRpbnVlO28/b1tuXT1yOmU9cn1jYXRjaChlKXt0aHJvdyBlLm1lc3NhZ2UrPVwiIChcIi5jb25jYXQocyxcIilcIiksZX19bi52YWx1ZT1lfWlmKCFzLndhcm5pbmdzJiYhcy5kZWJ1ZylyZXR1cm4gbi52YWx1ZTtjb25zdCBjPXt2YWx1ZTpuLnZhbHVlfTtyZXR1cm4gby53YXJuaW5ncy5sZW5ndGgmJihjLndhcm5pbmc9bC5kZXRhaWxzKG8ud2FybmluZ3MpKSxvLmRlYnVnJiYoYy5kZWJ1Zz1vLmRlYnVnKSxjfSx1LmVudHJ5PWZ1bmN0aW9uKGUscixzKXtjb25zdHt0cmFjZXI6bixjbGVhbnVwOm99PXUudHJhY2VyKHIscyksYT17ZXh0ZXJuYWxzOltdLHdhcm5pbmdzOltdLHRyYWNlcjpuLGRlYnVnOnMuZGVidWc/W106bnVsbCxsaW5rczpyLl9pZHMuX3NjaGVtYUNoYWluP25ldyBNYXA6bnVsbH0saT1yLl9pZHMuX3NjaGVtYUNoYWluP1t7c2NoZW1hOnJ9XTpudWxsLGY9bmV3IGMoW10sW10se21haW5zdGF5OmEsc2NoZW1hczppfSksbT10LnZhbGlkYXRlKGUscixmLHMpO28mJnIuJF9yb290LnVudHJhY2UoKTtjb25zdCBoPWwucHJvY2VzcyhtLmVycm9ycyxlLHMpO3JldHVybnt2YWx1ZTptLnZhbHVlLGVycm9yOmgsbWFpbnN0YXk6YX19LHUudHJhY2VyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuJF9yb290Ll90cmFjZXI/e3RyYWNlcjplLiRfcm9vdC5fdHJhY2VyLl9yZWdpc3RlcihlKX06dC5kZWJ1Zz8ocyhlLiRfcm9vdC50cmFjZSxcIkRlYnVnIG1vZGUgbm90IHN1cHBvcnRlZFwiKSx7dHJhY2VyOmUuJF9yb290LnRyYWNlKCkuX3JlZ2lzdGVyKGUpLGNsZWFudXA6ITB9KTp7dHJhY2VyOnUuaWdub3JlfX0sdC52YWxpZGF0ZT1mdW5jdGlvbihlLHQscixzLG49e30pe2lmKHQuJF90ZXJtcy53aGVucyYmKHQ9dC5fZ2VuZXJhdGUoZSxyLHMpLnNjaGVtYSksdC5fcHJlZmVyZW5jZXMmJihzPXUucHJlZnModCxzKSksdC5fY2FjaGUmJnMuY2FjaGUpe2NvbnN0IHM9dC5fY2FjaGUuZ2V0KGUpO2lmKHIubWFpbnN0YXkudHJhY2VyLmRlYnVnKHIsXCJ2YWxpZGF0ZVwiLFwiY2FjaGVkXCIsISFzKSxzKXJldHVybiBzfWNvbnN0IG89KG4sbyxhKT0+dC4kX2NyZWF0ZUVycm9yKG4sZSxvLGF8fHIscyksYT17b3JpZ2luYWw6ZSxwcmVmczpzLHNjaGVtYTp0LHN0YXRlOnIsZXJyb3I6byx3YXJuOihlLHQscyk9PnIubWFpbnN0YXkud2FybmluZ3MucHVzaChvKGUsdCxzKSksbWVzc2FnZToobixvKT0+dC4kX2NyZWF0ZUVycm9yKFwiY3VzdG9tXCIsZSxvLHIscyx7bWVzc2FnZXM6bn0pfTtyLm1haW5zdGF5LnRyYWNlci5lbnRyeSh0LHIpO2NvbnN0IGw9dC5fZGVmaW5pdGlvbjtpZihsLnByZXBhcmUmJnZvaWQgMCE9PWUmJnMuY29udmVydCl7Y29uc3QgdD1sLnByZXBhcmUoZSxhKTtpZih0KXtpZihyLm1haW5zdGF5LnRyYWNlci52YWx1ZShyLFwicHJlcGFyZVwiLGUsdC52YWx1ZSksdC5lcnJvcnMpcmV0dXJuIHUuZmluYWxpemUodC52YWx1ZSxbXS5jb25jYXQodC5lcnJvcnMpLGEpO2U9dC52YWx1ZX19aWYobC5jb2VyY2UmJnZvaWQgMCE9PWUmJnMuY29udmVydCYmKCFsLmNvZXJjZS5mcm9tfHxsLmNvZXJjZS5mcm9tLmluY2x1ZGVzKHR5cGVvZiBlKSkpe2NvbnN0IHQ9bC5jb2VyY2UubWV0aG9kKGUsYSk7aWYodCl7aWYoci5tYWluc3RheS50cmFjZXIudmFsdWUocixcImNvZXJjZWRcIixlLHQudmFsdWUpLHQuZXJyb3JzKXJldHVybiB1LmZpbmFsaXplKHQudmFsdWUsW10uY29uY2F0KHQuZXJyb3JzKSxhKTtlPXQudmFsdWV9fWNvbnN0IGM9dC5fZmxhZ3MuZW1wdHk7YyYmYy4kX21hdGNoKHUudHJpbShlLHQpLHIubmVzdChjKSxpLmRlZmF1bHRzKSYmKHIubWFpbnN0YXkudHJhY2VyLnZhbHVlKHIsXCJlbXB0eVwiLGUsdm9pZCAwKSxlPXZvaWQgMCk7Y29uc3QgZj1uLnByZXNlbmNlfHx0Ll9mbGFncy5wcmVzZW5jZXx8KHQuX2ZsYWdzLl9lbmRlZFN3aXRjaD9cImlnbm9yZVwiOnMucHJlc2VuY2UpO2lmKHZvaWQgMD09PWUpe2lmKFwiZm9yYmlkZGVuXCI9PT1mKXJldHVybiB1LmZpbmFsaXplKGUsbnVsbCxhKTtpZihcInJlcXVpcmVkXCI9PT1mKXJldHVybiB1LmZpbmFsaXplKGUsW3QuJF9jcmVhdGVFcnJvcihcImFueS5yZXF1aXJlZFwiLGUsbnVsbCxyLHMpXSxhKTtpZihcIm9wdGlvbmFsXCI9PT1mKXtpZih0Ll9mbGFncy5kZWZhdWx0IT09aS5zeW1ib2xzLmRlZXBEZWZhdWx0KXJldHVybiB1LmZpbmFsaXplKGUsbnVsbCxhKTtyLm1haW5zdGF5LnRyYWNlci52YWx1ZShyLFwiZGVmYXVsdFwiLGUse30pLGU9e319fWVsc2UgaWYoXCJmb3JiaWRkZW5cIj09PWYpcmV0dXJuIHUuZmluYWxpemUoZSxbdC4kX2NyZWF0ZUVycm9yKFwiYW55LnVua25vd25cIixlLG51bGwscixzKV0sYSk7Y29uc3QgbT1bXTtpZih0Ll92YWxpZHMpe2NvbnN0IG49dC5fdmFsaWRzLmdldChlLHIscyx0Ll9mbGFncy5pbnNlbnNpdGl2ZSk7aWYobilyZXR1cm4gcy5jb252ZXJ0JiYoci5tYWluc3RheS50cmFjZXIudmFsdWUocixcInZhbGlkc1wiLGUsbi52YWx1ZSksZT1uLnZhbHVlKSxyLm1haW5zdGF5LnRyYWNlci5maWx0ZXIodCxyLFwidmFsaWRcIixuKSx1LmZpbmFsaXplKGUsbnVsbCxhKTtpZih0Ll9mbGFncy5vbmx5KXtjb25zdCBuPXQuJF9jcmVhdGVFcnJvcihcImFueS5vbmx5XCIsZSx7dmFsaWRzOnQuX3ZhbGlkcy52YWx1ZXMoe2Rpc3BsYXk6ITB9KX0scixzKTtpZihzLmFib3J0RWFybHkpcmV0dXJuIHUuZmluYWxpemUoZSxbbl0sYSk7bS5wdXNoKG4pfX1pZih0Ll9pbnZhbGlkcyl7Y29uc3Qgbj10Ll9pbnZhbGlkcy5nZXQoZSxyLHMsdC5fZmxhZ3MuaW5zZW5zaXRpdmUpO2lmKG4pe3IubWFpbnN0YXkudHJhY2VyLmZpbHRlcih0LHIsXCJpbnZhbGlkXCIsbik7Y29uc3Qgbz10LiRfY3JlYXRlRXJyb3IoXCJhbnkuaW52YWxpZFwiLGUse2ludmFsaWRzOnQuX2ludmFsaWRzLnZhbHVlcyh7ZGlzcGxheTohMH0pfSxyLHMpO2lmKHMuYWJvcnRFYXJseSlyZXR1cm4gdS5maW5hbGl6ZShlLFtvXSxhKTttLnB1c2gobyl9fWlmKGwudmFsaWRhdGUpe2NvbnN0IHQ9bC52YWxpZGF0ZShlLGEpO2lmKHQmJihyLm1haW5zdGF5LnRyYWNlci52YWx1ZShyLFwiYmFzZVwiLGUsdC52YWx1ZSksZT10LnZhbHVlLHQuZXJyb3JzKSl7aWYoIUFycmF5LmlzQXJyYXkodC5lcnJvcnMpKXJldHVybiBtLnB1c2godC5lcnJvcnMpLHUuZmluYWxpemUoZSxtLGEpO2lmKHQuZXJyb3JzLmxlbmd0aClyZXR1cm4gbS5wdXNoKC4uLnQuZXJyb3JzKSx1LmZpbmFsaXplKGUsbSxhKX19cmV0dXJuIHQuX3J1bGVzLmxlbmd0aD91LnJ1bGVzKGUsbSxhKTp1LmZpbmFsaXplKGUsbSxhKX0sdS5ydWxlcz1mdW5jdGlvbihlLHQscil7Y29uc3R7c2NoZW1hOnMsc3RhdGU6bixwcmVmczpvfT1yO2Zvcihjb25zdCBhIG9mIHMuX3J1bGVzKXtjb25zdCBsPXMuX2RlZmluaXRpb24ucnVsZXNbYS5tZXRob2RdO2lmKGwuY29udmVydCYmby5jb252ZXJ0KXtuLm1haW5zdGF5LnRyYWNlci5sb2cocyxuLFwicnVsZVwiLGEubmFtZSxcImZ1bGxcIik7Y29udGludWV9bGV0IGMsZj1hLmFyZ3M7aWYoYS5fcmVzb2x2ZS5sZW5ndGgpe2Y9T2JqZWN0LmFzc2lnbih7fSxmKTtmb3IoY29uc3QgdCBvZiBhLl9yZXNvbHZlKXtjb25zdCByPWwuYXJnc0J5TmFtZS5nZXQodCksYT1mW3RdLnJlc29sdmUoZSxuLG8pLHU9ci5ub3JtYWxpemU/ci5ub3JtYWxpemUoYSk6YSxtPWkudmFsaWRhdGVBcmcodSxudWxsLHIpO2lmKG0pe2M9cy4kX2NyZWF0ZUVycm9yKFwiYW55LnJlZlwiLGEse2FyZzp0LHJlZjpmW3RdLHJlYXNvbjptfSxuLG8pO2JyZWFrfWZbdF09dX19Yz1jfHxsLnZhbGlkYXRlKGUscixmLGEpO2NvbnN0IG09dS5ydWxlKGMsYSk7aWYobS5lcnJvcnMpe2lmKG4ubWFpbnN0YXkudHJhY2VyLmxvZyhzLG4sXCJydWxlXCIsYS5uYW1lLFwiZXJyb3JcIiksYS53YXJuKXtuLm1haW5zdGF5Lndhcm5pbmdzLnB1c2goLi4ubS5lcnJvcnMpO2NvbnRpbnVlfWlmKG8uYWJvcnRFYXJseSlyZXR1cm4gdS5maW5hbGl6ZShlLG0uZXJyb3JzLHIpO3QucHVzaCguLi5tLmVycm9ycyl9ZWxzZSBuLm1haW5zdGF5LnRyYWNlci5sb2cocyxuLFwicnVsZVwiLGEubmFtZSxcInBhc3NcIiksbi5tYWluc3RheS50cmFjZXIudmFsdWUobixcInJ1bGVcIixlLG0udmFsdWUsYS5uYW1lKSxlPW0udmFsdWV9cmV0dXJuIHUuZmluYWxpemUoZSx0LHIpfSx1LnJ1bGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIGwuUmVwb3J0Pyh1LmVycm9yKGUsdCkse2Vycm9yczpbZV0sdmFsdWU6bnVsbH0pOkFycmF5LmlzQXJyYXkoZSkmJihlWzBdaW5zdGFuY2VvZiBsLlJlcG9ydHx8ZVswXWluc3RhbmNlb2YgRXJyb3IpPyhlLmZvckVhY2goZT0+dS5lcnJvcihlLHQpKSx7ZXJyb3JzOmUsdmFsdWU6bnVsbH0pOntlcnJvcnM6bnVsbCx2YWx1ZTplfX0sdS5lcnJvcj1mdW5jdGlvbihlLHQpe3JldHVybiB0Lm1lc3NhZ2UmJmUuX3NldFRlbXBsYXRlKHQubWVzc2FnZSksZX0sdS5maW5hbGl6ZT1mdW5jdGlvbihlLHQscil7dD10fHxbXTtjb25zdHtzY2hlbWE6bixzdGF0ZTpvLHByZWZzOmF9PXI7aWYodC5sZW5ndGgpe2NvbnN0IHM9dS5kZWZhdWx0KFwiZmFpbG92ZXJcIix2b2lkIDAsdCxyKTt2b2lkIDAhPT1zJiYoby5tYWluc3RheS50cmFjZXIudmFsdWUobyxcImZhaWxvdmVyXCIsZSxzKSxlPXMsdD1bXSl9aWYodC5sZW5ndGgmJm4uX2ZsYWdzLmVycm9yKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4uX2ZsYWdzLmVycm9yKXt0PW4uX2ZsYWdzLmVycm9yKHQpLEFycmF5LmlzQXJyYXkodCl8fCh0PVt0XSk7Zm9yKGNvbnN0IGUgb2YgdClzKGUgaW5zdGFuY2VvZiBFcnJvcnx8ZSBpbnN0YW5jZW9mIGwuUmVwb3J0LFwiZXJyb3IoKSBtdXN0IHJldHVybiBhbiBFcnJvciBvYmplY3RcIil9ZWxzZSB0PVtuLl9mbGFncy5lcnJvcl07aWYodm9pZCAwPT09ZSl7Y29uc3Qgcz11LmRlZmF1bHQoXCJkZWZhdWx0XCIsZSx0LHIpO28ubWFpbnN0YXkudHJhY2VyLnZhbHVlKG8sXCJkZWZhdWx0XCIsZSxzKSxlPXN9aWYobi5fZmxhZ3MuY2FzdCYmdm9pZCAwIT09ZSl7Y29uc3QgdD1uLl9kZWZpbml0aW9uLmNhc3Rbbi5fZmxhZ3MuY2FzdF07aWYodC5mcm9tKGUpKXtjb25zdCBzPXQudG8oZSxyKTtvLm1haW5zdGF5LnRyYWNlci52YWx1ZShvLFwiY2FzdFwiLGUscyxuLl9mbGFncy5jYXN0KSxlPXN9fWlmKG4uJF90ZXJtcy5leHRlcm5hbHMmJmEuZXh0ZXJuYWxzJiYhMSE9PWEuX2V4dGVybmFscylmb3IoY29uc3R7bWV0aG9kOmV9b2Ygbi4kX3Rlcm1zLmV4dGVybmFscylvLm1haW5zdGF5LmV4dGVybmFscy5wdXNoKHttZXRob2Q6ZSxwYXRoOm8ucGF0aCxsYWJlbDpsLmxhYmVsKG4uX2ZsYWdzLG8sYSl9KTtjb25zdCBpPXt2YWx1ZTplLGVycm9yczp0Lmxlbmd0aD90Om51bGx9O3JldHVybiBuLl9mbGFncy5yZXN1bHQmJihpLnZhbHVlPVwic3RyaXBcIj09PW4uX2ZsYWdzLnJlc3VsdD92b2lkIDA6ci5vcmlnaW5hbCxvLm1haW5zdGF5LnRyYWNlci52YWx1ZShvLG4uX2ZsYWdzLnJlc3VsdCxlLGkudmFsdWUpLG8uc2hhZG93KGUsbi5fZmxhZ3MucmVzdWx0KSksbi5fY2FjaGUmJiExIT09YS5jYWNoZSYmIW4uX3JlZnMubGVuZ3RoJiZuLl9jYWNoZS5zZXQoci5vcmlnaW5hbCxpKSxpfSx1LnByZWZzPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj10PT09aS5kZWZhdWx0cztyZXR1cm4gciYmZS5fcHJlZmVyZW5jZXNbaS5zeW1ib2xzLnByZWZzXT9lLl9wcmVmZXJlbmNlc1tpLnN5bWJvbHMucHJlZnNdOih0PWkucHJlZmVyZW5jZXModCxlLl9wcmVmZXJlbmNlcyksciYmKGUuX3ByZWZlcmVuY2VzW2kuc3ltYm9scy5wcmVmc109dCksdCl9LHUuZGVmYXVsdD1mdW5jdGlvbihlLHQscixzKXtjb25zdHtzY2hlbWE6byxzdGF0ZTphLHByZWZzOmx9PXMsYz1vLl9mbGFnc1tlXTtpZihsLm5vRGVmYXVsdHN8fHZvaWQgMD09PWMpcmV0dXJuIHQ7aWYoYS5tYWluc3RheS50cmFjZXIubG9nKG8sYSxcInJ1bGVcIixlLFwiZnVsbFwiKSwhYylyZXR1cm4gYztpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBjKXtjb25zdCB0PWMubGVuZ3RoP1tuKGEuYW5jZXN0b3JzWzBdKSxzXTpbXTt0cnl7cmV0dXJuIGMoLi4udCl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgci5wdXNoKG8uJF9jcmVhdGVFcnJvcihcImFueS5cIi5jb25jYXQoZSksbnVsbCx7ZXJyb3I6dH0sYSxsKSl9fXJldHVyblwib2JqZWN0XCIhPXR5cGVvZiBjP2M6Y1tpLnN5bWJvbHMubGl0ZXJhbF0/Yy5saXRlcmFsOmkuaXNSZXNvbHZhYmxlKGMpP2MucmVzb2x2ZSh0LGEsbCk6bihjKX0sdS50cmltPWZ1bmN0aW9uKGUsdCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIGU7Y29uc3Qgcj10LiRfZ2V0UnVsZShcInRyaW1cIik7cmV0dXJuIHImJnIuYXJncy5lbmFibGVkP2UudHJpbSgpOmV9LHUuaWdub3JlPXthY3RpdmU6ITEsZGVidWc6byxlbnRyeTpvLGZpbHRlcjpvLGxvZzpvLHJlc29sdmU6byx2YWx1ZTpvfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbigpe319LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBzPXIoMiksbj1yKDYpLG89cigxKSxhPXt2YWx1ZTpTeW1ib2woXCJ2YWx1ZVwiKX07ZS5leHBvcnRzPWEuU3RhdGU9Y2xhc3N7Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMucGF0aD1lLHRoaXMuYW5jZXN0b3JzPXQsdGhpcy5tYWluc3RheT1yLm1haW5zdGF5LHRoaXMuc2NoZW1hcz1yLnNjaGVtYXMsdGhpcy5kZWJ1Zz1udWxsfWxvY2FsaXplKGUsdD1udWxsLHI9bnVsbCl7Y29uc3Qgcz1uZXcgYS5TdGF0ZShlLHQsdGhpcyk7cmV0dXJuIHImJnMuc2NoZW1hcyYmKHMuc2NoZW1hcz1bYS5zY2hlbWFzKHIpLC4uLnMuc2NoZW1hc10pLHN9bmVzdChlLHQpe2NvbnN0IHI9bmV3IGEuU3RhdGUodGhpcy5wYXRoLHRoaXMuYW5jZXN0b3JzLHRoaXMpO3JldHVybiByLnNjaGVtYXM9ci5zY2hlbWFzJiZbYS5zY2hlbWFzKGUpLC4uLnIuc2NoZW1hc10sci5kZWJ1Zz10LHJ9c2hhZG93KGUsdCl7dGhpcy5tYWluc3RheS5zaGFkb3c9dGhpcy5tYWluc3RheS5zaGFkb3d8fG5ldyBhLlNoYWRvdyx0aGlzLm1haW5zdGF5LnNoYWRvdy5zZXQodGhpcy5wYXRoLGUsdCl9c25hcHNob3QoKXt0aGlzLm1haW5zdGF5LnNoYWRvdyYmKHRoaXMuX3NuYXBzaG90PXModGhpcy5tYWluc3RheS5zaGFkb3cubm9kZSh0aGlzLnBhdGgpKSl9cmVzdG9yZSgpe3RoaXMubWFpbnN0YXkuc2hhZG93JiYodGhpcy5tYWluc3RheS5zaGFkb3cub3ZlcnJpZGUodGhpcy5wYXRoLHRoaXMuX3NuYXBzaG90KSx0aGlzLl9zbmFwc2hvdD12b2lkIDApfX0sYS5zY2hlbWFzPWZ1bmN0aW9uKGUpe3JldHVybiBvLmlzU2NoZW1hKGUpP3tzY2hlbWE6ZX06ZX0sYS5TaGFkb3c9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLl92YWx1ZXM9bnVsbH1zZXQoZSx0LHIpe2lmKCFlLmxlbmd0aClyZXR1cm47aWYoXCJzdHJpcFwiPT09ciYmXCJudW1iZXJcIj09dHlwZW9mIGVbZS5sZW5ndGgtMV0pcmV0dXJuO3RoaXMuX3ZhbHVlcz10aGlzLl92YWx1ZXN8fG5ldyBNYXA7bGV0IHM9dGhpcy5fdmFsdWVzO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7Kyt0KXtjb25zdCByPWVbdF07bGV0IG49cy5nZXQocik7bnx8KG49bmV3IE1hcCxzLnNldChyLG4pKSxzPW59c1thLnZhbHVlXT10fWdldChlKXtjb25zdCB0PXRoaXMubm9kZShlKTtpZih0KXJldHVybiB0W2EudmFsdWVdfW5vZGUoZSl7aWYodGhpcy5fdmFsdWVzKXJldHVybiBuKHRoaXMuX3ZhbHVlcyxlLHtpdGVyYWJsZXM6ITB9KX1vdmVycmlkZShlLHQpe2lmKCF0aGlzLl92YWx1ZXMpcmV0dXJuO2NvbnN0IHI9ZS5zbGljZSgwLC0xKSxzPWVbZS5sZW5ndGgtMV0sbz1uKHRoaXMuX3ZhbHVlcyxyLHtpdGVyYWJsZXM6ITB9KTt0P28uc2V0KHMsdCk6byYmby5kZWxldGUocyl9fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IHM9cigwKSxuPXIoMTApLG89cig2KSxhPXIoMyksaT1yKDEpLGw9cig4KSxjPXt9O2UuZXhwb3J0cz1hLmV4dGVuZCh7dHlwZTpcImFycmF5XCIsZmxhZ3M6e3NpbmdsZTp7ZGVmYXVsdDohMX0sc3BhcnNlOntkZWZhdWx0OiExfX0sdGVybXM6e2l0ZW1zOntpbml0OltdLG1hbmlmZXN0Olwic2NoZW1hXCJ9LG9yZGVyZWQ6e2luaXQ6W10sbWFuaWZlc3Q6XCJzY2hlbWFcIn0sX2V4Y2x1c2lvbnM6e2luaXQ6W119LF9pbmNsdXNpb25zOntpbml0OltdfSxfcmVxdWlyZWRzOntpbml0OltdfX0sY29lcmNlOntmcm9tOlwib2JqZWN0XCIsbWV0aG9kKGUse3NjaGVtYTp0LHN0YXRlOnIscHJlZnM6c30pe2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybjtjb25zdCBuPXQuJF9nZXRSdWxlKFwic29ydFwiKTtyZXR1cm4gbj9jLnNvcnQodCxlLG4uYXJncy5vcHRpb25zLHIscyk6dm9pZCAwfX0sdmFsaWRhdGUoZSx7c2NoZW1hOnQsZXJyb3I6cn0pe2lmKCFBcnJheS5pc0FycmF5KGUpKXtpZih0Ll9mbGFncy5zaW5nbGUpe2NvbnN0IHQ9W2VdO3JldHVybiB0W2kuc3ltYm9scy5hcnJheVNpbmdsZV09ITAse3ZhbHVlOnR9fXJldHVybntlcnJvcnM6cihcImFycmF5LmJhc2VcIil9fWlmKHQuJF9nZXRSdWxlKFwiaXRlbXNcIil8fHQuJF90ZXJtcy5leHRlcm5hbHMpcmV0dXJue3ZhbHVlOmUuc2xpY2UoKX19LHJ1bGVzOntoYXM6e21ldGhvZChlKXtlPXRoaXMuJF9jb21waWxlKGUse2FwcGVuZFBhdGg6ITB9KTtjb25zdCB0PXRoaXMuJF9hZGRSdWxlKHtuYW1lOlwiaGFzXCIsYXJnczp7c2NoZW1hOmV9fSk7cmV0dXJuIHQuJF9tdXRhdGVSZWdpc3RlcihlKSx0fSx2YWxpZGF0ZShlLHtzdGF0ZTp0LHByZWZzOnIsZXJyb3I6c30se3NjaGVtYTpufSl7Y29uc3Qgbz1bZSwuLi50LmFuY2VzdG9yc107Zm9yKGxldCBzPTA7czxlLmxlbmd0aDsrK3Mpe2NvbnN0IGE9dC5sb2NhbGl6ZShbLi4udC5wYXRoLHNdLG8sbik7aWYobi4kX21hdGNoKGVbc10sYSxyKSlyZXR1cm4gZX1jb25zdCBhPW4uX2ZsYWdzLmxhYmVsO3JldHVybiBhP3MoXCJhcnJheS5oYXNLbm93blwiLHtwYXR0ZXJuTGFiZWw6YX0pOnMoXCJhcnJheS5oYXNVbmtub3duXCIsbnVsbCl9LG11bHRpOiEwfSxpdGVtczp7bWV0aG9kKC4uLmUpe2kudmVyaWZ5RmxhdChlLFwiaXRlbXNcIik7Y29uc3QgdD10aGlzLiRfYWRkUnVsZShcIml0ZW1zXCIpO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7KytyKXtjb25zdCBzPWkudHJ5V2l0aFBhdGgoKCk9PnRoaXMuJF9jb21waWxlKGVbcl0pLHIse2FwcGVuZDohMH0pO3QuJF90ZXJtcy5pdGVtcy5wdXNoKHMpfXJldHVybiB0LiRfbXV0YXRlUmVidWlsZCgpfSx2YWxpZGF0ZShlLHtzY2hlbWE6dCxlcnJvcjpyLHN0YXRlOnMscHJlZnM6bn0pe2NvbnN0IG89dC4kX3Rlcm1zLl9yZXF1aXJlZHMuc2xpY2UoKSxhPXQuJF90ZXJtcy5vcmRlcmVkLnNsaWNlKCksbD1bLi4udC4kX3Rlcm1zLl9pbmNsdXNpb25zLC4uLm9dLHU9IWVbaS5zeW1ib2xzLmFycmF5U2luZ2xlXTtkZWxldGUgZVtpLnN5bWJvbHMuYXJyYXlTaW5nbGVdO2NvbnN0IGY9W107bGV0IG09ZS5sZW5ndGg7Zm9yKGxldCBpPTA7aTxtOysraSl7Y29uc3QgaD1lW2ldO2xldCBkPSExLHA9ITE7Y29uc3QgZz11P2k6bmV3IE51bWJlcihpKSx5PVsuLi5zLnBhdGgsZ107aWYoIXQuX2ZsYWdzLnNwYXJzZSYmdm9pZCAwPT09aCl7aWYoZi5wdXNoKHIoXCJhcnJheS5zcGFyc2VcIix7a2V5OmcscGF0aDp5LHBvczppLHZhbHVlOnZvaWQgMH0scy5sb2NhbGl6ZSh5KSkpLG4uYWJvcnRFYXJseSlyZXR1cm4gZjthLnNoaWZ0KCk7Y29udGludWV9Y29uc3QgYj1bZSwuLi5zLmFuY2VzdG9yc107Zm9yKGNvbnN0IGUgb2YgdC4kX3Rlcm1zLl9leGNsdXNpb25zKWlmKGUuJF9tYXRjaChoLHMubG9jYWxpemUoeSxiLGUpLG4se3ByZXNlbmNlOlwiaWdub3JlXCJ9KSl7aWYoZi5wdXNoKHIoXCJhcnJheS5leGNsdWRlc1wiLHtwb3M6aSx2YWx1ZTpofSxzLmxvY2FsaXplKHkpKSksbi5hYm9ydEVhcmx5KXJldHVybiBmO2Q9ITAsYS5zaGlmdCgpO2JyZWFrfWlmKGQpY29udGludWU7aWYodC4kX3Rlcm1zLm9yZGVyZWQubGVuZ3RoKXtpZihhLmxlbmd0aCl7Y29uc3Qgbz1hLnNoaWZ0KCksbD1vLiRfdmFsaWRhdGUoaCxzLmxvY2FsaXplKHksYixvKSxuKTtpZihsLmVycm9ycyl7aWYoZi5wdXNoKC4uLmwuZXJyb3JzKSxuLmFib3J0RWFybHkpcmV0dXJuIGZ9ZWxzZSBpZihcInN0cmlwXCI9PT1vLl9mbGFncy5yZXN1bHQpYy5mYXN0U3BsaWNlKGUsaSksLS1pLC0tbTtlbHNle2lmKCF0Ll9mbGFncy5zcGFyc2UmJnZvaWQgMD09PWwudmFsdWUpe2lmKGYucHVzaChyKFwiYXJyYXkuc3BhcnNlXCIse2tleTpnLHBhdGg6eSxwb3M6aSx2YWx1ZTp2b2lkIDB9LHMubG9jYWxpemUoeSkpKSxuLmFib3J0RWFybHkpcmV0dXJuIGY7Y29udGludWV9ZVtpXT1sLnZhbHVlfWNvbnRpbnVlfWlmKCF0LiRfdGVybXMuaXRlbXMubGVuZ3RoKXtpZihmLnB1c2gocihcImFycmF5Lm9yZGVyZWRMZW5ndGhcIix7cG9zOmksbGltaXQ6dC4kX3Rlcm1zLm9yZGVyZWQubGVuZ3RofSkpLG4uYWJvcnRFYXJseSlyZXR1cm4gZjticmVha319Y29uc3Qgdj1bXTtsZXQgXz1vLmxlbmd0aDtmb3IobGV0IGE9MDthPF87KythKXtjb25zdCBsPXMubG9jYWxpemUoeSxiLG9bYV0pO2wuc25hcHNob3QoKTtjb25zdCB1PW9bYV0uJF92YWxpZGF0ZShoLGwsbik7aWYodlthXT11LCF1LmVycm9ycyl7aWYoZVtpXT11LnZhbHVlLHA9ITAsYy5mYXN0U3BsaWNlKG8sYSksLS1hLC0tXywhdC5fZmxhZ3Muc3BhcnNlJiZ2b2lkIDA9PT11LnZhbHVlJiYoZi5wdXNoKHIoXCJhcnJheS5zcGFyc2VcIix7a2V5OmcscGF0aDp5LHBvczppLHZhbHVlOnZvaWQgMH0scy5sb2NhbGl6ZSh5KSkpLG4uYWJvcnRFYXJseSkpcmV0dXJuIGY7YnJlYWt9bC5yZXN0b3JlKCl9aWYocCljb250aW51ZTtjb25zdCB3PW4uc3RyaXBVbmtub3duJiYhIW4uc3RyaXBVbmtub3duLmFycmF5c3x8ITE7Xz1sLmxlbmd0aDtmb3IoY29uc3QgYSBvZiBsKXtsZXQgbDtjb25zdCB1PW8uaW5kZXhPZihhKTtpZigtMSE9PXUpbD12W3VdO2Vsc2V7Y29uc3Qgbz1zLmxvY2FsaXplKHksYixhKTtpZihvLnNuYXBzaG90KCksbD1hLiRfdmFsaWRhdGUoaCxvLG4pLCFsLmVycm9ycyl7XCJzdHJpcFwiPT09YS5fZmxhZ3MucmVzdWx0PyhjLmZhc3RTcGxpY2UoZSxpKSwtLWksLS1tKTp0Ll9mbGFncy5zcGFyc2V8fHZvaWQgMCE9PWwudmFsdWU/ZVtpXT1sLnZhbHVlOihmLnB1c2gocihcImFycmF5LnNwYXJzZVwiLHtrZXk6ZyxwYXRoOnkscG9zOmksdmFsdWU6dm9pZCAwfSxzLmxvY2FsaXplKHkpKSksZD0hMCkscD0hMDticmVha31vLnJlc3RvcmUoKX1pZigxPT09Xyl7aWYodyl7Yy5mYXN0U3BsaWNlKGUsaSksLS1pLC0tbSxwPSEwO2JyZWFrfWlmKGYucHVzaCguLi5sLmVycm9ycyksbi5hYm9ydEVhcmx5KXJldHVybiBmO2Q9ITA7YnJlYWt9fWlmKCFkJiYodC4kX3Rlcm1zLl9pbmNsdXNpb25zLmxlbmd0aCYmIXApKXtpZih3KXtjLmZhc3RTcGxpY2UoZSxpKSwtLWksLS1tO2NvbnRpbnVlfWlmKGYucHVzaChyKFwiYXJyYXkuaW5jbHVkZXNcIix7cG9zOmksdmFsdWU6aH0scy5sb2NhbGl6ZSh5KSkpLG4uYWJvcnRFYXJseSlyZXR1cm4gZn19cmV0dXJuIG8ubGVuZ3RoJiZjLmZpbGxNaXNzZWRFcnJvcnModCxmLG8sZSxzLG4pLGEubGVuZ3RoJiZjLmZpbGxPcmRlcmVkRXJyb3JzKHQsZixhLGUscyxuKSxmLmxlbmd0aD9mOmV9LHByaW9yaXR5OiEwLG1hbmlmZXN0OiExfSxsZW5ndGg6e21ldGhvZChlKXtyZXR1cm4gdGhpcy4kX2FkZFJ1bGUoe25hbWU6XCJsZW5ndGhcIixhcmdzOntsaW1pdDplfSxvcGVyYXRvcjpcIj1cIn0pfSx2YWxpZGF0ZTooZSx0LHtsaW1pdDpyfSx7bmFtZTpzLG9wZXJhdG9yOm4sYXJnczpvfSk9PmkuY29tcGFyZShlLmxlbmd0aCxyLG4pP2U6dC5lcnJvcihcImFycmF5LlwiK3Mse2xpbWl0Om8ubGltaXQsdmFsdWU6ZX0pLGFyZ3M6W3tuYW1lOlwibGltaXRcIixyZWY6ITAsYXNzZXJ0OmkubGltaXQsbWVzc2FnZTpcIm11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyXCJ9XX0sbWF4OnttZXRob2QoZSl7cmV0dXJuIHRoaXMuJF9hZGRSdWxlKHtuYW1lOlwibWF4XCIsbWV0aG9kOlwibGVuZ3RoXCIsYXJnczp7bGltaXQ6ZX0sb3BlcmF0b3I6XCI8PVwifSl9fSxtaW46e21ldGhvZChlKXtyZXR1cm4gdGhpcy4kX2FkZFJ1bGUoe25hbWU6XCJtaW5cIixtZXRob2Q6XCJsZW5ndGhcIixhcmdzOntsaW1pdDplfSxvcGVyYXRvcjpcIj49XCJ9KX19LG9yZGVyZWQ6e21ldGhvZCguLi5lKXtpLnZlcmlmeUZsYXQoZSxcIm9yZGVyZWRcIik7Y29uc3QgdD10aGlzLiRfYWRkUnVsZShcIml0ZW1zXCIpO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7KytyKXtjb25zdCBzPWkudHJ5V2l0aFBhdGgoKCk9PnRoaXMuJF9jb21waWxlKGVbcl0pLHIse2FwcGVuZDohMH0pO2MudmFsaWRhdGVTaW5nbGUocyx0KSx0LiRfbXV0YXRlUmVnaXN0ZXIocyksdC4kX3Rlcm1zLm9yZGVyZWQucHVzaChzKX1yZXR1cm4gdC4kX211dGF0ZVJlYnVpbGQoKX19LHNpbmdsZTp7bWV0aG9kKGUpe2NvbnN0IHQ9dm9pZCAwPT09ZXx8ISFlO3JldHVybiBzKCF0fHwhdGhpcy5fZmxhZ3MuX2FycmF5SXRlbXMsXCJDYW5ub3Qgc3BlY2lmeSBzaW5nbGUgcnVsZSB3aGVuIGFycmF5IGhhcyBhcnJheSBpdGVtc1wiKSx0aGlzLiRfc2V0RmxhZyhcInNpbmdsZVwiLHQpfX0sc29ydDp7bWV0aG9kKGU9e30pe2kuYXNzZXJ0T3B0aW9ucyhlLFtcImJ5XCIsXCJvcmRlclwiXSk7Y29uc3QgdD17b3JkZXI6ZS5vcmRlcnx8XCJhc2NlbmRpbmdcIn07cmV0dXJuIGUuYnkmJih0LmJ5PWwucmVmKGUuYnkse2FuY2VzdG9yOjB9KSxzKCF0LmJ5LmFuY2VzdG9yLFwiQ2Fubm90IHNvcnQgYnkgYW5jZXN0b3JcIikpLHRoaXMuJF9hZGRSdWxlKHtuYW1lOlwic29ydFwiLGFyZ3M6e29wdGlvbnM6dH19KX0sdmFsaWRhdGUoZSx7ZXJyb3I6dCxzdGF0ZTpyLHByZWZzOnMsc2NoZW1hOm59LHtvcHRpb25zOm99KXtjb25zdHt2YWx1ZTphLGVycm9yczppfT1jLnNvcnQobixlLG8scixzKTtpZihpKXJldHVybiBpO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7KytyKWlmKGVbcl0hPT1hW3JdKXJldHVybiB0KFwiYXJyYXkuc29ydFwiLHtvcmRlcjpvLm9yZGVyLGJ5Om8uYnk/by5ieS5rZXk6XCJ2YWx1ZVwifSk7cmV0dXJuIGV9LGNvbnZlcnQ6ITB9LHNwYXJzZTp7bWV0aG9kKGUpe2NvbnN0IHQ9dm9pZCAwPT09ZXx8ISFlO3JldHVybiB0aGlzLl9mbGFncy5zcGFyc2U9PT10P3RoaXM6KHQ/dGhpcy5jbG9uZSgpOnRoaXMuJF9hZGRSdWxlKFwiaXRlbXNcIikpLiRfc2V0RmxhZyhcInNwYXJzZVwiLHQse2Nsb25lOiExfSl9fSx1bmlxdWU6e21ldGhvZChlLHQ9e30pe3MoIWV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGV8fFwic3RyaW5nXCI9PXR5cGVvZiBlLFwiY29tcGFyYXRvciBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmdcIiksaS5hc3NlcnRPcHRpb25zKHQsW1wiaWdub3JlVW5kZWZpbmVkXCIsXCJzZXBhcmF0b3JcIl0pO2NvbnN0IHI9e25hbWU6XCJ1bmlxdWVcIixhcmdzOntvcHRpb25zOnQsY29tcGFyYXRvcjplfX07aWYoZSlpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7Y29uc3Qgcz1pLmRlZmF1bHQodC5zZXBhcmF0b3IsXCIuXCIpO3IucGF0aD1zP2Uuc3BsaXQocyk6W2VdfWVsc2Ugci5jb21wYXJhdG9yPWU7cmV0dXJuIHRoaXMuJF9hZGRSdWxlKHIpfSx2YWxpZGF0ZShlLHtzdGF0ZTp0LGVycm9yOnIsc2NoZW1hOmF9LHtjb21wYXJhdG9yOmksb3B0aW9uczpsfSx7Y29tcGFyYXRvcjpjLHBhdGg6dX0pe2NvbnN0IGY9e3N0cmluZzpPYmplY3QuY3JlYXRlKG51bGwpLG51bWJlcjpPYmplY3QuY3JlYXRlKG51bGwpLHVuZGVmaW5lZDpPYmplY3QuY3JlYXRlKG51bGwpLGJvb2xlYW46T2JqZWN0LmNyZWF0ZShudWxsKSxvYmplY3Q6bmV3IE1hcCxmdW5jdGlvbjpuZXcgTWFwLGN1c3RvbTpuZXcgTWFwfSxtPWN8fG4saD1sLmlnbm9yZVVuZGVmaW5lZDtmb3IobGV0IG49MDtuPGUubGVuZ3RoOysrbil7Y29uc3QgYT11P28oZVtuXSx1KTplW25dLGw9Yz9mLmN1c3RvbTpmW3R5cGVvZiBhXTtpZihzKGwsXCJGYWlsZWQgdG8gZmluZCB1bmlxdWUgbWFwIGNvbnRhaW5lciBmb3IgdHlwZVwiLHR5cGVvZiBhKSxsIGluc3RhbmNlb2YgTWFwKXtjb25zdCBzPWwuZW50cmllcygpO2xldCBvO2Zvcig7IShvPXMubmV4dCgpKS5kb25lOylpZihtKG8udmFsdWVbMF0sYSkpe2NvbnN0IHM9dC5sb2NhbGl6ZShbLi4udC5wYXRoLG5dLFtlLC4uLnQuYW5jZXN0b3JzXSksYT17cG9zOm4sdmFsdWU6ZVtuXSxkdXBlUG9zOm8udmFsdWVbMV0sZHVwZVZhbHVlOmVbby52YWx1ZVsxXV19O3JldHVybiB1JiYoYS5wYXRoPWkpLHIoXCJhcnJheS51bmlxdWVcIixhLHMpfWwuc2V0KGEsbil9ZWxzZXtpZigoIWh8fHZvaWQgMCE9PWEpJiZ2b2lkIDAhPT1sW2FdKXtjb25zdCBzPXtwb3M6bix2YWx1ZTplW25dLGR1cGVQb3M6bFthXSxkdXBlVmFsdWU6ZVtsW2FdXX07cmV0dXJuIHUmJihzLnBhdGg9aSkscihcImFycmF5LnVuaXF1ZVwiLHMsdC5sb2NhbGl6ZShbLi4udC5wYXRoLG5dLFtlLC4uLnQuYW5jZXN0b3JzXSkpfWxbYV09bn19cmV0dXJuIGV9LGFyZ3M6W1wiY29tcGFyYXRvclwiLFwib3B0aW9uc1wiXSxtdWx0aTohMH19LGNhc3Q6e3NldDp7ZnJvbTpBcnJheS5pc0FycmF5LHRvOihlLHQpPT5uZXcgU2V0KGUpfX0scmVidWlsZChlKXtlLiRfdGVybXMuX2luY2x1c2lvbnM9W10sZS4kX3Rlcm1zLl9leGNsdXNpb25zPVtdLGUuJF90ZXJtcy5fcmVxdWlyZWRzPVtdO2Zvcihjb25zdCB0IG9mIGUuJF90ZXJtcy5pdGVtcyljLnZhbGlkYXRlU2luZ2xlKHQsZSksXCJyZXF1aXJlZFwiPT09dC5fZmxhZ3MucHJlc2VuY2U/ZS4kX3Rlcm1zLl9yZXF1aXJlZHMucHVzaCh0KTpcImZvcmJpZGRlblwiPT09dC5fZmxhZ3MucHJlc2VuY2U/ZS4kX3Rlcm1zLl9leGNsdXNpb25zLnB1c2godCk6ZS4kX3Rlcm1zLl9pbmNsdXNpb25zLnB1c2godCk7Zm9yKGNvbnN0IHQgb2YgZS4kX3Rlcm1zLm9yZGVyZWQpYy52YWxpZGF0ZVNpbmdsZSh0LGUpfSxtYW5pZmVzdDp7YnVpbGQ6KGUsdCk9Pih0Lml0ZW1zJiYoZT1lLml0ZW1zKC4uLnQuaXRlbXMpKSx0Lm9yZGVyZWQmJihlPWUub3JkZXJlZCguLi50Lm9yZGVyZWQpKSxlKX0sbWVzc2FnZXM6e1wiYXJyYXkuYmFzZVwiOlwie3sjbGFiZWx9fSBtdXN0IGJlIGFuIGFycmF5XCIsXCJhcnJheS5leGNsdWRlc1wiOlwie3sjbGFiZWx9fSBjb250YWlucyBhbiBleGNsdWRlZCB2YWx1ZVwiLFwiYXJyYXkuaGFzS25vd25cIjone3sjbGFiZWx9fSBkb2VzIG5vdCBjb250YWluIGF0IGxlYXN0IG9uZSByZXF1aXJlZCBtYXRjaCBmb3IgdHlwZSBcInsjcGF0dGVybkxhYmVsfVwiJyxcImFycmF5Lmhhc1Vua25vd25cIjpcInt7I2xhYmVsfX0gZG9lcyBub3QgY29udGFpbiBhdCBsZWFzdCBvbmUgcmVxdWlyZWQgbWF0Y2hcIixcImFycmF5LmluY2x1ZGVzXCI6XCJ7eyNsYWJlbH19IGRvZXMgbm90IG1hdGNoIGFueSBvZiB0aGUgYWxsb3dlZCB0eXBlc1wiLFwiYXJyYXkuaW5jbHVkZXNSZXF1aXJlZEJvdGhcIjpcInt7I2xhYmVsfX0gZG9lcyBub3QgY29udGFpbiB7eyNrbm93bk1pc3Nlc319IGFuZCB7eyN1bmtub3duTWlzc2VzfX0gb3RoZXIgcmVxdWlyZWQgdmFsdWUocylcIixcImFycmF5LmluY2x1ZGVzUmVxdWlyZWRLbm93bnNcIjpcInt7I2xhYmVsfX0gZG9lcyBub3QgY29udGFpbiB7eyNrbm93bk1pc3Nlc319XCIsXCJhcnJheS5pbmNsdWRlc1JlcXVpcmVkVW5rbm93bnNcIjpcInt7I2xhYmVsfX0gZG9lcyBub3QgY29udGFpbiB7eyN1bmtub3duTWlzc2VzfX0gcmVxdWlyZWQgdmFsdWUocylcIixcImFycmF5Lmxlbmd0aFwiOlwie3sjbGFiZWx9fSBtdXN0IGNvbnRhaW4ge3sjbGltaXR9fSBpdGVtc1wiLFwiYXJyYXkubWF4XCI6XCJ7eyNsYWJlbH19IG11c3QgY29udGFpbiBsZXNzIHRoYW4gb3IgZXF1YWwgdG8ge3sjbGltaXR9fSBpdGVtc1wiLFwiYXJyYXkubWluXCI6XCJ7eyNsYWJlbH19IG11c3QgY29udGFpbiBhdCBsZWFzdCB7eyNsaW1pdH19IGl0ZW1zXCIsXCJhcnJheS5vcmRlcmVkTGVuZ3RoXCI6XCJ7eyNsYWJlbH19IG11c3QgY29udGFpbiBhdCBtb3N0IHt7I2xpbWl0fX0gaXRlbXNcIixcImFycmF5LnNvcnRcIjpcInt7I2xhYmVsfX0gbXVzdCBiZSBzb3J0ZWQgaW4geyNvcmRlcn0gb3JkZXIgYnkge3sjYnl9fVwiLFwiYXJyYXkuc29ydC5taXNtYXRjaGluZ1wiOlwie3sjbGFiZWx9fSBjYW5ub3QgYmUgc29ydGVkIGR1ZSB0byBtaXNtYXRjaGluZyB0eXBlc1wiLFwiYXJyYXkuc29ydC51bnN1cHBvcnRlZFwiOlwie3sjbGFiZWx9fSBjYW5ub3QgYmUgc29ydGVkIGR1ZSB0byB1bnN1cHBvcnRlZCB0eXBlIHsjdHlwZX1cIixcImFycmF5LnNwYXJzZVwiOlwie3sjbGFiZWx9fSBtdXN0IG5vdCBiZSBhIHNwYXJzZSBhcnJheSBpdGVtXCIsXCJhcnJheS51bmlxdWVcIjpcInt7I2xhYmVsfX0gY29udGFpbnMgYSBkdXBsaWNhdGUgdmFsdWVcIn19KSxjLmZpbGxNaXNzZWRFcnJvcnM9ZnVuY3Rpb24oZSx0LHIscyxuLG8pe2NvbnN0IGE9W107bGV0IGk9MDtmb3IoY29uc3QgZSBvZiByKXtjb25zdCB0PWUuX2ZsYWdzLmxhYmVsO3Q/YS5wdXNoKHQpOisraX1hLmxlbmd0aD9pP3QucHVzaChlLiRfY3JlYXRlRXJyb3IoXCJhcnJheS5pbmNsdWRlc1JlcXVpcmVkQm90aFwiLHMse2tub3duTWlzc2VzOmEsdW5rbm93bk1pc3NlczppfSxuLG8pKTp0LnB1c2goZS4kX2NyZWF0ZUVycm9yKFwiYXJyYXkuaW5jbHVkZXNSZXF1aXJlZEtub3duc1wiLHMse2tub3duTWlzc2VzOmF9LG4sbykpOnQucHVzaChlLiRfY3JlYXRlRXJyb3IoXCJhcnJheS5pbmNsdWRlc1JlcXVpcmVkVW5rbm93bnNcIixzLHt1bmtub3duTWlzc2VzOml9LG4sbykpfSxjLmZpbGxPcmRlcmVkRXJyb3JzPWZ1bmN0aW9uKGUsdCxyLHMsbixvKXtjb25zdCBhPVtdO2Zvcihjb25zdCBlIG9mIHIpXCJyZXF1aXJlZFwiPT09ZS5fZmxhZ3MucHJlc2VuY2UmJmEucHVzaChlKTthLmxlbmd0aCYmYy5maWxsTWlzc2VkRXJyb3JzKGUsdCxhLHMsbixvKX0sYy5mYXN0U3BsaWNlPWZ1bmN0aW9uKGUsdCl7bGV0IHI9dDtmb3IoO3I8ZS5sZW5ndGg7KWVbcisrXT1lW3JdOy0tZS5sZW5ndGh9LGMudmFsaWRhdGVTaW5nbGU9ZnVuY3Rpb24oZSx0KXsoXCJhcnJheVwiPT09ZS50eXBlfHxlLl9mbGFncy5fYXJyYXlJdGVtcykmJihzKCF0Ll9mbGFncy5zaW5nbGUsXCJDYW5ub3Qgc3BlY2lmeSBhcnJheSBpdGVtIHdpdGggc2luZ2xlIHJ1bGUgZW5hYmxlZFwiKSx0LiRfc2V0RmxhZyhcIl9hcnJheUl0ZW1zXCIsITAse2Nsb25lOiExfSkpfSxjLnNvcnQ9ZnVuY3Rpb24oZSx0LHIscyxuKXtjb25zdCBvPVwiYXNjZW5kaW5nXCI9PT1yLm9yZGVyPzE6LTEsYT0tMSpvLGk9byxsPShsLHUpPT57bGV0IGY9Yy5jb21wYXJlKGwsdSxhLGkpO2lmKG51bGwhPT1mKXJldHVybiBmO2lmKHIuYnkmJihsPXIuYnkucmVzb2x2ZShsLHMsbiksdT1yLmJ5LnJlc29sdmUodSxzLG4pKSxmPWMuY29tcGFyZShsLHUsYSxpKSxudWxsIT09ZilyZXR1cm4gZjtjb25zdCBtPXR5cGVvZiBsO2lmKG0hPT10eXBlb2YgdSl0aHJvdyBlLiRfY3JlYXRlRXJyb3IoXCJhcnJheS5zb3J0Lm1pc21hdGNoaW5nXCIsdCxudWxsLHMsbik7aWYoXCJudW1iZXJcIiE9PW0mJlwic3RyaW5nXCIhPT1tKXRocm93IGUuJF9jcmVhdGVFcnJvcihcImFycmF5LnNvcnQudW5zdXBwb3J0ZWRcIix0LHt0eXBlOm19LHMsbik7cmV0dXJuXCJudW1iZXJcIj09PW0/KGwtdSkqbzpsPHU/YTppfTt0cnl7cmV0dXJue3ZhbHVlOnQuc2xpY2UoKS5zb3J0KGwpfX1jYXRjaChlKXtyZXR1cm57ZXJyb3JzOmV9fX0sYy5jb21wYXJlPWZ1bmN0aW9uKGUsdCxyLHMpe3JldHVybiBlPT09dD8wOnZvaWQgMD09PWU/MTp2b2lkIDA9PT10Py0xOm51bGw9PT1lP3M6bnVsbD09PXQ/cjpudWxsfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IHM9cigwKSxuPXIoMyksbz1yKDEpLGE9cigyMSksaT17aXNCb29sOmZ1bmN0aW9uKGUpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgZX19O2UuZXhwb3J0cz1uLmV4dGVuZCh7dHlwZTpcImJvb2xlYW5cIixmbGFnczp7c2Vuc2l0aXZlOntkZWZhdWx0OiExfX0sdGVybXM6e2ZhbHN5Ontpbml0Om51bGwsbWFuaWZlc3Q6XCJ2YWx1ZXNcIn0sdHJ1dGh5Ontpbml0Om51bGwsbWFuaWZlc3Q6XCJ2YWx1ZXNcIn19LGNvZXJjZShlLHtzY2hlbWE6dH0pe2lmKFwiYm9vbGVhblwiIT10eXBlb2YgZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2NvbnN0IHI9dC5fZmxhZ3Muc2Vuc2l0aXZlP2U6ZS50b0xvd2VyQ2FzZSgpO2U9XCJ0cnVlXCI9PT1yfHxcImZhbHNlXCIhPT1yJiZlfXJldHVyblwiYm9vbGVhblwiIT10eXBlb2YgZSYmKGU9dC4kX3Rlcm1zLnRydXRoeSYmdC4kX3Rlcm1zLnRydXRoeS5oYXMoZSxudWxsLG51bGwsIXQuX2ZsYWdzLnNlbnNpdGl2ZSl8fCghdC4kX3Rlcm1zLmZhbHN5fHwhdC4kX3Rlcm1zLmZhbHN5LmhhcyhlLG51bGwsbnVsbCwhdC5fZmxhZ3Muc2Vuc2l0aXZlKSkmJmUpLHt2YWx1ZTplfX19LHZhbGlkYXRlKGUse2Vycm9yOnR9KXtpZihcImJvb2xlYW5cIiE9dHlwZW9mIGUpcmV0dXJue3ZhbHVlOmUsZXJyb3JzOnQoXCJib29sZWFuLmJhc2VcIil9fSxydWxlczp7dHJ1dGh5OnttZXRob2QoLi4uZSl7by52ZXJpZnlGbGF0KGUsXCJ0cnV0aHlcIik7Y29uc3QgdD10aGlzLmNsb25lKCk7dC4kX3Rlcm1zLnRydXRoeT10LiRfdGVybXMudHJ1dGh5fHxuZXcgYTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoOysrcil7Y29uc3Qgbj1lW3JdO3Modm9pZCAwIT09bixcIkNhbm5vdCBjYWxsIHRydXRoeSB3aXRoIHVuZGVmaW5lZFwiKSx0LiRfdGVybXMudHJ1dGh5LmFkZChuKX1yZXR1cm4gdH19LGZhbHN5OnttZXRob2QoLi4uZSl7by52ZXJpZnlGbGF0KGUsXCJmYWxzeVwiKTtjb25zdCB0PXRoaXMuY2xvbmUoKTt0LiRfdGVybXMuZmFsc3k9dC4kX3Rlcm1zLmZhbHN5fHxuZXcgYTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoOysrcil7Y29uc3Qgbj1lW3JdO3Modm9pZCAwIT09bixcIkNhbm5vdCBjYWxsIGZhbHN5IHdpdGggdW5kZWZpbmVkXCIpLHQuJF90ZXJtcy5mYWxzeS5hZGQobil9cmV0dXJuIHR9fSxzZW5zaXRpdmU6e21ldGhvZChlPSEwKXtyZXR1cm4gdGhpcy4kX3NldEZsYWcoXCJzZW5zaXRpdmVcIixlKX19fSxjYXN0OntudW1iZXI6e2Zyb206aS5pc0Jvb2wsdG86KGUsdCk9PmU/MTowfSxzdHJpbmc6e2Zyb206aS5pc0Jvb2wsdG86KGUsdCk9PmU/XCJ0cnVlXCI6XCJmYWxzZVwifX0sbWFuaWZlc3Q6e2J1aWxkOihlLHQpPT4odC50cnV0aHkmJihlPWUudHJ1dGh5KC4uLnQudHJ1dGh5KSksdC5mYWxzeSYmKGU9ZS5mYWxzeSguLi50LmZhbHN5KSksZSl9LG1lc3NhZ2VzOntcImJvb2xlYW4uYmFzZVwiOlwie3sjbGFiZWx9fSBtdXN0IGJlIGEgYm9vbGVhblwifX0pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcz1yKDApLG49cigzKSxvPXIoMSksYT1yKDcpLGk9e2lzRGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIERhdGV9fTtlLmV4cG9ydHM9bi5leHRlbmQoe3R5cGU6XCJkYXRlXCIsY29lcmNlOntmcm9tOltcIm51bWJlclwiLFwic3RyaW5nXCJdLG1ldGhvZDooZSx7c2NoZW1hOnR9KT0+KHt2YWx1ZTppLnBhcnNlKGUsdC5fZmxhZ3MuZm9ybWF0KXx8ZX0pfSx2YWxpZGF0ZShlLHtzY2hlbWE6dCxlcnJvcjpyLHByZWZzOnN9KXtpZihlIGluc3RhbmNlb2YgRGF0ZSYmIWlzTmFOKGUuZ2V0VGltZSgpKSlyZXR1cm47Y29uc3Qgbj10Ll9mbGFncy5mb3JtYXQ7cmV0dXJuIHMuY29udmVydCYmbiYmXCJzdHJpbmdcIj09dHlwZW9mIGU/e3ZhbHVlOmUsZXJyb3JzOnIoXCJkYXRlLmZvcm1hdFwiLHtmb3JtYXQ6bn0pfTp7dmFsdWU6ZSxlcnJvcnM6cihcImRhdGUuYmFzZVwiKX19LHJ1bGVzOntjb21wYXJlOnttZXRob2Q6ITEsdmFsaWRhdGUoZSx0LHtkYXRlOnJ9LHtuYW1lOnMsb3BlcmF0b3I6bixhcmdzOmF9KXtjb25zdCBpPVwibm93XCI9PT1yP0RhdGUubm93KCk6ci5nZXRUaW1lKCk7cmV0dXJuIG8uY29tcGFyZShlLmdldFRpbWUoKSxpLG4pP2U6dC5lcnJvcihcImRhdGUuXCIrcyx7bGltaXQ6YS5kYXRlLHZhbHVlOmV9KX0sYXJnczpbe25hbWU6XCJkYXRlXCIscmVmOiEwLG5vcm1hbGl6ZTplPT5cIm5vd1wiPT09ZT9lOmkucGFyc2UoZSksYXNzZXJ0OmU9Pm51bGwhPT1lLG1lc3NhZ2U6XCJtdXN0IGhhdmUgYSB2YWxpZCBkYXRlIGZvcm1hdFwifV19LGZvcm1hdDp7bWV0aG9kKGUpe3JldHVybiBzKFtcImlzb1wiLFwiamF2YXNjcmlwdFwiLFwidW5peFwiXS5pbmNsdWRlcyhlKSxcIlVua25vd24gZGF0ZSBmb3JtYXRcIixlKSx0aGlzLiRfc2V0RmxhZyhcImZvcm1hdFwiLGUpfX0sZ3JlYXRlcjp7bWV0aG9kKGUpe3JldHVybiB0aGlzLiRfYWRkUnVsZSh7bmFtZTpcImdyZWF0ZXJcIixtZXRob2Q6XCJjb21wYXJlXCIsYXJnczp7ZGF0ZTplfSxvcGVyYXRvcjpcIj5cIn0pfX0saXNvOnttZXRob2QoKXtyZXR1cm4gdGhpcy5mb3JtYXQoXCJpc29cIil9fSxsZXNzOnttZXRob2QoZSl7cmV0dXJuIHRoaXMuJF9hZGRSdWxlKHtuYW1lOlwibGVzc1wiLG1ldGhvZDpcImNvbXBhcmVcIixhcmdzOntkYXRlOmV9LG9wZXJhdG9yOlwiPFwifSl9fSxtYXg6e21ldGhvZChlKXtyZXR1cm4gdGhpcy4kX2FkZFJ1bGUoe25hbWU6XCJtYXhcIixtZXRob2Q6XCJjb21wYXJlXCIsYXJnczp7ZGF0ZTplfSxvcGVyYXRvcjpcIjw9XCJ9KX19LG1pbjp7bWV0aG9kKGUpe3JldHVybiB0aGlzLiRfYWRkUnVsZSh7bmFtZTpcIm1pblwiLG1ldGhvZDpcImNvbXBhcmVcIixhcmdzOntkYXRlOmV9LG9wZXJhdG9yOlwiPj1cIn0pfX0sdGltZXN0YW1wOnttZXRob2QoZT1cImphdmFzY3JpcHRcIil7cmV0dXJuIHMoW1wiamF2YXNjcmlwdFwiLFwidW5peFwiXS5pbmNsdWRlcyhlKSwnXCJ0eXBlXCIgbXVzdCBiZSBvbmUgb2YgXCJqYXZhc2NyaXB0LCB1bml4XCInKSx0aGlzLmZvcm1hdChlKX19fSxjYXN0OntudW1iZXI6e2Zyb206aS5pc0RhdGUsdG86KGUsdCk9PmUuZ2V0VGltZSgpfSxzdHJpbmc6e2Zyb206aS5pc0RhdGUsdG86KGUse3ByZWZzOnR9KT0+YS5kYXRlKGUsdCl9fSxtZXNzYWdlczp7XCJkYXRlLmJhc2VcIjpcInt7I2xhYmVsfX0gbXVzdCBiZSBhIHZhbGlkIGRhdGVcIixcImRhdGUuZm9ybWF0XCI6J3t7I2xhYmVsfX0gbXVzdCBiZSBpbiB7bXNnKFwiZGF0ZS5mb3JtYXQuXCIgKyAjZm9ybWF0KSB8fCAjZm9ybWF0fSBmb3JtYXQnLFwiZGF0ZS5ncmVhdGVyXCI6J3t7I2xhYmVsfX0gbXVzdCBiZSBncmVhdGVyIHRoYW4gXCJ7eyNsaW1pdH19XCInLFwiZGF0ZS5sZXNzXCI6J3t7I2xhYmVsfX0gbXVzdCBiZSBsZXNzIHRoYW4gXCJ7eyNsaW1pdH19XCInLFwiZGF0ZS5tYXhcIjone3sjbGFiZWx9fSBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byBcInt7I2xpbWl0fX1cIicsXCJkYXRlLm1pblwiOid7eyNsYWJlbH19IG11c3QgYmUgbGFyZ2VyIHRoYW4gb3IgZXF1YWwgdG8gXCJ7eyNsaW1pdH19XCInLFwiZGF0ZS5mb3JtYXQuaXNvXCI6XCJJU08gODYwMSBkYXRlXCIsXCJkYXRlLmZvcm1hdC5qYXZhc2NyaXB0XCI6XCJ0aW1lc3RhbXAgb3IgbnVtYmVyIG9mIG1pbGxpc2Vjb25kc1wiLFwiZGF0ZS5mb3JtYXQudW5peFwiOlwidGltZXN0YW1wIG9yIG51bWJlciBvZiBzZWNvbmRzXCJ9fSksaS5wYXJzZT1mdW5jdGlvbihlLHQpe2lmKGUgaW5zdGFuY2VvZiBEYXRlKXJldHVybiBlO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlJiYoaXNOYU4oZSl8fCFpc0Zpbml0ZShlKSkpcmV0dXJuIG51bGw7aWYoL15cXHMqJC8udGVzdChlKSlyZXR1cm4gbnVsbDtpZihcImlzb1wiPT09dClyZXR1cm4gby5pc0lzb0RhdGUoZSk/aS5kYXRlKGUudG9TdHJpbmcoKSk6bnVsbDtjb25zdCByPWU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJi9eWystXT9cXGQrKFxcLlxcZCspPyQvLnRlc3QoZSkmJihlPXBhcnNlRmxvYXQoZSkpLHQpe2lmKFwiamF2YXNjcmlwdFwiPT09dClyZXR1cm4gaS5kYXRlKDEqZSk7aWYoXCJ1bml4XCI9PT10KXJldHVybiBpLmRhdGUoMWUzKmUpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiByKXJldHVybiBudWxsfXJldHVybiBpLmRhdGUoZSl9LGkuZGF0ZT1mdW5jdGlvbihlKXtjb25zdCB0PW5ldyBEYXRlKGUpO3JldHVybiBpc05hTih0LmdldFRpbWUoKSk/bnVsbDp0fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IHM9cigwKSxuPXIoMjIpO2UuZXhwb3J0cz1uLmV4dGVuZCh7dHlwZTpcImZ1bmN0aW9uXCIscHJvcGVydGllczp7dHlwZW9mOlwiZnVuY3Rpb25cIn0scnVsZXM6e2FyaXR5OnttZXRob2QoZSl7cmV0dXJuIHMoTnVtYmVyLmlzU2FmZUludGVnZXIoZSkmJmU+PTAsXCJuIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyXCIpLHRoaXMuJF9hZGRSdWxlKHtuYW1lOlwiYXJpdHlcIixhcmdzOntuOmV9fSl9LHZhbGlkYXRlOihlLHQse246cn0pPT5lLmxlbmd0aD09PXI/ZTp0LmVycm9yKFwiZnVuY3Rpb24uYXJpdHlcIix7bjpyfSl9LGNsYXNzOnttZXRob2QoKXtyZXR1cm4gdGhpcy4kX2FkZFJ1bGUoXCJjbGFzc1wiKX0sdmFsaWRhdGU6KGUsdCk9Pi9eXFxzKmNsYXNzXFxzLy50ZXN0KGUudG9TdHJpbmcoKSk/ZTp0LmVycm9yKFwiZnVuY3Rpb24uY2xhc3NcIix7dmFsdWU6ZX0pfSxtaW5Bcml0eTp7bWV0aG9kKGUpe3JldHVybiBzKE51bWJlci5pc1NhZmVJbnRlZ2VyKGUpJiZlPjAsXCJuIG11c3QgYmUgYSBzdHJpY3QgcG9zaXRpdmUgaW50ZWdlclwiKSx0aGlzLiRfYWRkUnVsZSh7bmFtZTpcIm1pbkFyaXR5XCIsYXJnczp7bjplfX0pfSx2YWxpZGF0ZTooZSx0LHtuOnJ9KT0+ZS5sZW5ndGg+PXI/ZTp0LmVycm9yKFwiZnVuY3Rpb24ubWluQXJpdHlcIix7bjpyfSl9LG1heEFyaXR5OnttZXRob2QoZSl7cmV0dXJuIHMoTnVtYmVyLmlzU2FmZUludGVnZXIoZSkmJmU+PTAsXCJuIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyXCIpLHRoaXMuJF9hZGRSdWxlKHtuYW1lOlwibWF4QXJpdHlcIixhcmdzOntuOmV9fSl9LHZhbGlkYXRlOihlLHQse246cn0pPT5lLmxlbmd0aDw9cj9lOnQuZXJyb3IoXCJmdW5jdGlvbi5tYXhBcml0eVwiLHtuOnJ9KX19LG1lc3NhZ2VzOntcImZ1bmN0aW9uLmFyaXR5XCI6XCJ7eyNsYWJlbH19IG11c3QgaGF2ZSBhbiBhcml0eSBvZiB7eyNufX1cIixcImZ1bmN0aW9uLmNsYXNzXCI6XCJ7eyNsYWJlbH19IG11c3QgYmUgYSBjbGFzc1wiLFwiZnVuY3Rpb24ubWF4QXJpdHlcIjpcInt7I2xhYmVsfX0gbXVzdCBoYXZlIGFuIGFyaXR5IGxlc3NlciBvciBlcXVhbCB0byB7eyNufX1cIixcImZ1bmN0aW9uLm1pbkFyaXR5XCI6XCJ7eyNsYWJlbH19IG11c3QgaGF2ZSBhbiBhcml0eSBncmVhdGVyIG9yIGVxdWFsIHRvIHt7I259fVwifX0pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcz1yKDApLG49cigyKSxvPXIoMjApLGE9cig2KSxpPXt9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscj17fSl7aWYocyhlJiZcIm9iamVjdFwiPT10eXBlb2YgZSxcIkludmFsaWQgZGVmYXVsdHMgdmFsdWU6IG11c3QgYmUgYW4gb2JqZWN0XCIpLHMoIXR8fCEwPT09dHx8XCJvYmplY3RcIj09dHlwZW9mIHQsXCJJbnZhbGlkIHNvdXJjZSB2YWx1ZTogbXVzdCBiZSB0cnVlLCBmYWxzeSBvciBhbiBvYmplY3RcIikscyhcIm9iamVjdFwiPT10eXBlb2YgcixcIkludmFsaWQgb3B0aW9uczogbXVzdCBiZSBhbiBvYmplY3RcIiksIXQpcmV0dXJuIG51bGw7aWYoci5zaGFsbG93KXJldHVybiBpLmFwcGx5VG9EZWZhdWx0c1dpdGhTaGFsbG93KGUsdCxyKTtjb25zdCBhPW4oZSk7aWYoITA9PT10KXJldHVybiBhO2NvbnN0IGw9dm9pZCAwIT09ci5udWxsT3ZlcnJpZGUmJnIubnVsbE92ZXJyaWRlO3JldHVybiBvKGEsdCx7bnVsbE92ZXJyaWRlOmwsbWVyZ2VBcnJheXM6ITF9KX0saS5hcHBseVRvRGVmYXVsdHNXaXRoU2hhbGxvdz1mdW5jdGlvbihlLHQscil7Y29uc3QgbD1yLnNoYWxsb3c7cyhBcnJheS5pc0FycmF5KGwpLFwiSW52YWxpZCBrZXlzXCIpO2NvbnN0IGM9bmV3IE1hcCx1PSEwPT09dD9udWxsOm5ldyBTZXQ7Zm9yKGxldCByIG9mIGwpe3I9QXJyYXkuaXNBcnJheShyKT9yOnIuc3BsaXQoXCIuXCIpO2NvbnN0IHM9YShlLHIpO3MmJlwib2JqZWN0XCI9PXR5cGVvZiBzP2Muc2V0KHMsdSYmYSh0LHIpfHxzKTp1JiZ1LmFkZChyKX1jb25zdCBmPW4oZSx7fSxjKTtpZighdSlyZXR1cm4gZjtmb3IoY29uc3QgZSBvZiB1KWkucmVhY2hDb3B5KGYsdCxlKTtyZXR1cm4gbyhmLHQse21lcmdlQXJyYXlzOiExLG51bGxPdmVycmlkZTohMX0pfSxpLnJlYWNoQ29weT1mdW5jdGlvbihlLHQscil7Zm9yKGNvbnN0IGUgb2Ygcil7aWYoIShlIGluIHQpKXJldHVybjt0PXRbZV19Y29uc3Qgcz10O2xldCBuPWU7Zm9yKGxldCBlPTA7ZTxyLmxlbmd0aC0xOysrZSl7Y29uc3QgdD1yW2VdO1wib2JqZWN0XCIhPXR5cGVvZiBuW3RdJiYoblt0XT17fSksbj1uW3RdfW5bcltyLmxlbmd0aC0xXV09c319LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBzPXIoMCksbj17fTt0LlNvcnRlcj1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuX2l0ZW1zPVtdLHRoaXMubm9kZXM9W119YWRkKGUsdCl7Y29uc3Qgcj1bXS5jb25jYXQoKHQ9dHx8e30pLmJlZm9yZXx8W10pLG49W10uY29uY2F0KHQuYWZ0ZXJ8fFtdKSxvPXQuZ3JvdXB8fFwiP1wiLGE9dC5zb3J0fHwwO3MoIXIuaW5jbHVkZXMobyksXCJJdGVtIGNhbm5vdCBjb21lIGJlZm9yZSBpdHNlbGY6IFwiLmNvbmNhdChvKSkscyghci5pbmNsdWRlcyhcIj9cIiksXCJJdGVtIGNhbm5vdCBjb21lIGJlZm9yZSB1bmFzc29jaWF0ZWQgaXRlbXNcIikscyghbi5pbmNsdWRlcyhvKSxcIkl0ZW0gY2Fubm90IGNvbWUgYWZ0ZXIgaXRzZWxmOiBcIi5jb25jYXQobykpLHMoIW4uaW5jbHVkZXMoXCI/XCIpLFwiSXRlbSBjYW5ub3QgY29tZSBhZnRlciB1bmFzc29jaWF0ZWQgaXRlbXNcIiksQXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKTtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXtzZXE6dGhpcy5faXRlbXMubGVuZ3RoLHNvcnQ6YSxiZWZvcmU6cixhZnRlcjpuLGdyb3VwOm8sbm9kZTp0fTt0aGlzLl9pdGVtcy5wdXNoKGUpfWNvbnN0IGk9dGhpcy5fc29ydCgpO3JldHVybiBzKGksXCJpdGVtXCIsXCI/XCIhPT1vP1wiYWRkZWQgaW50byBncm91cCBcIi5jb25jYXQobyk6XCJcIixcImNyZWF0ZWQgYSBkZXBlbmRlbmNpZXMgZXJyb3JcIiksdGhpcy5ub2Rlc31tZXJnZShlKXtBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pO2Zvcihjb25zdCB0IG9mIGUpaWYodClmb3IoY29uc3QgZSBvZiB0Ll9pdGVtcyl0aGlzLl9pdGVtcy5wdXNoKE9iamVjdC5hc3NpZ24oe30sZSkpO3RoaXMuX2l0ZW1zLnNvcnQobi5tZXJnZVNvcnQpO2ZvcihsZXQgZT0wO2U8dGhpcy5faXRlbXMubGVuZ3RoOysrZSl0aGlzLl9pdGVtc1tlXS5zZXE9ZTtjb25zdCB0PXRoaXMuX3NvcnQoKTtyZXR1cm4gcyh0LFwibWVyZ2UgY3JlYXRlZCBhIGRlcGVuZGVuY2llcyBlcnJvclwiKSx0aGlzLm5vZGVzfV9zb3J0KCl7Y29uc3QgZT17fSx0PU9iamVjdC5jcmVhdGUobnVsbCkscj1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcihjb25zdCBzIG9mIHRoaXMuX2l0ZW1zKXtjb25zdCBuPXMuc2VxLG89cy5ncm91cDtyW29dPXJbb118fFtdLHJbb10ucHVzaChuKSxlW25dPXMuYmVmb3JlO2Zvcihjb25zdCBlIG9mIHMuYWZ0ZXIpdFtlXT10W2VdfHxbXSx0W2VdLnB1c2gobil9Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3Qgcz1bXTtmb3IoY29uc3QgbiBpbiBlW3RdKXtjb25zdCBvPWVbdF1bbl07cltvXT1yW29dfHxbXSxzLnB1c2goLi4ucltvXSl9ZVt0XT1zfWZvcihjb25zdCBzIGluIHQpaWYocltzXSlmb3IoY29uc3QgbiBvZiByW3NdKWVbbl0ucHVzaCguLi50W3NdKTtjb25zdCBzPXt9O2Zvcihjb25zdCB0IGluIGUpe2NvbnN0IHI9ZVt0XTtmb3IoY29uc3QgZSBvZiByKXNbZV09c1tlXXx8W10sc1tlXS5wdXNoKHQpfWNvbnN0IG49e30sbz1bXTtmb3IobGV0IGU9MDtlPHRoaXMuX2l0ZW1zLmxlbmd0aDsrK2Upe2xldCB0PWU7aWYoc1tlXSl7dD1udWxsO2ZvcihsZXQgZT0wO2U8dGhpcy5faXRlbXMubGVuZ3RoOysrZSl7aWYoITA9PT1uW2VdKWNvbnRpbnVlO3NbZV18fChzW2VdPVtdKTtjb25zdCByPXNbZV0ubGVuZ3RoO2xldCBvPTA7Zm9yKGxldCB0PTA7dDxyOysrdCluW3NbZV1bdF1dJiYrK287aWYobz09PXIpe3Q9ZTticmVha319fW51bGwhPT10JiYoblt0XT0hMCxvLnB1c2godCkpfWlmKG8ubGVuZ3RoIT09dGhpcy5faXRlbXMubGVuZ3RoKXJldHVybiExO2NvbnN0IGE9e307Zm9yKGNvbnN0IGUgb2YgdGhpcy5faXRlbXMpYVtlLnNlcV09ZTt0aGlzLl9pdGVtcz1bXSx0aGlzLm5vZGVzPVtdO2Zvcihjb25zdCBlIG9mIG8pe2NvbnN0IHQ9YVtlXTt0aGlzLm5vZGVzLnB1c2godC5ub2RlKSx0aGlzLl9pdGVtcy5wdXNoKHQpfXJldHVybiEwfX0sbi5tZXJnZVNvcnQ9KGUsdCk9PmUuc29ydD09PXQuc29ydD8wOmUuc29ydDx0LnNvcnQ/LTE6MX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IHM9cigwKSxuPXIoMyksbz1yKDEpLGE9cig4KSxpPXIoNCksbD17fTtlLmV4cG9ydHM9bi5leHRlbmQoe3R5cGU6XCJsaW5rXCIscHJvcGVydGllczp7c2NoZW1hQ2hhaW46ITB9LHRlcm1zOntsaW5rOntpbml0Om51bGwsbWFuaWZlc3Q6XCJzaW5nbGVcIixyZWdpc3RlcjohMX19LGFyZ3M6KGUsdCk9PmUucmVmKHQpLHZhbGlkYXRlKGUse3NjaGVtYTp0LHN0YXRlOnIscHJlZnM6bn0pe3ModC4kX3Rlcm1zLmxpbmssXCJVbmluaXRpYWxpemVkIGxpbmsgc2NoZW1hXCIpO2NvbnN0IG89bC5nZW5lcmF0ZSh0LGUscixuKSxhPXQuJF90ZXJtcy5saW5rWzBdLnJlZjtyZXR1cm4gby4kX3ZhbGlkYXRlKGUsci5uZXN0KG8sXCJsaW5rOlwiLmNvbmNhdChhLmRpc3BsYXksXCI6XCIpLmNvbmNhdChvLnR5cGUpKSxuKX0sZ2VuZXJhdGU6KGUsdCxyLHMpPT5sLmdlbmVyYXRlKGUsdCxyLHMpLHJ1bGVzOntyZWY6e21ldGhvZChlKXtzKCF0aGlzLiRfdGVybXMubGluayxcIkNhbm5vdCByZWluaXRpYWxpemUgc2NoZW1hXCIpLGU9YS5yZWYoZSkscyhcInZhbHVlXCI9PT1lLnR5cGV8fFwibG9jYWxcIj09PWUudHlwZSxcIkludmFsaWQgcmVmZXJlbmNlIHR5cGU6XCIsZS50eXBlKSxzKFwibG9jYWxcIj09PWUudHlwZXx8XCJyb290XCI9PT1lLmFuY2VzdG9yfHxlLmFuY2VzdG9yPjAsXCJMaW5rIGNhbm5vdCByZWZlcmVuY2UgaXRzZWxmXCIpO2NvbnN0IHQ9dGhpcy5jbG9uZSgpO3JldHVybiB0LiRfdGVybXMubGluaz1be3JlZjplfV0sdH19LHJlbGF0aXZlOnttZXRob2QoZT0hMCl7cmV0dXJuIHRoaXMuJF9zZXRGbGFnKFwicmVsYXRpdmVcIixlKX19fSxvdmVycmlkZXM6e2NvbmNhdChlKXtzKHRoaXMuJF90ZXJtcy5saW5rLFwiVW5pbml0aWFsaXplZCBsaW5rIHNjaGVtYVwiKSxzKG8uaXNTY2hlbWEoZSksXCJJbnZhbGlkIHNjaGVtYSBvYmplY3RcIikscyhcImxpbmtcIiE9PWUudHlwZSxcIkNhbm5vdCBtZXJnZSB0eXBlIGxpbmsgd2l0aCBhbm90aGVyIGxpbmtcIik7Y29uc3QgdD10aGlzLmNsb25lKCk7cmV0dXJuIHQuJF90ZXJtcy53aGVuc3x8KHQuJF90ZXJtcy53aGVucz1bXSksdC4kX3Rlcm1zLndoZW5zLnB1c2goe2NvbmNhdDplfSksdC4kX211dGF0ZVJlYnVpbGQoKX19LG1hbmlmZXN0OntidWlsZDooZSx0KT0+KHModC5saW5rLFwiSW52YWxpZCBsaW5rIGRlc2NyaXB0aW9uIG1pc3NpbmcgbGlua1wiKSxlLnJlZih0LmxpbmspKX19KSxsLmdlbmVyYXRlPWZ1bmN0aW9uKGUsdCxyLHMpe2xldCBuPXIubWFpbnN0YXkubGlua3MuZ2V0KGUpO2lmKG4pcmV0dXJuIG4uX2dlbmVyYXRlKHQscixzKS5zY2hlbWE7Y29uc3Qgbz1lLiRfdGVybXMubGlua1swXS5yZWYse3BlcnNwZWN0aXZlOmEscGF0aDppfT1sLnBlcnNwZWN0aXZlKG8scik7bC5hc3NlcnQoYSxcIndoaWNoIGlzIG91dHNpZGUgb2Ygc2NoZW1hIGJvdW5kYXJpZXNcIixvLGUscixzKTt0cnl7bj1pLmxlbmd0aD9hLiRfcmVhY2goaSk6YX1jYXRjaCh0KXtsLmFzc2VydCghMSxcInRvIG5vbi1leGlzdGluZyBzY2hlbWFcIixvLGUscixzKX1yZXR1cm4gbC5hc3NlcnQoXCJsaW5rXCIhPT1uLnR5cGUsXCJ3aGljaCBpcyBhbm90aGVyIGxpbmtcIixvLGUscixzKSxlLl9mbGFncy5yZWxhdGl2ZXx8ci5tYWluc3RheS5saW5rcy5zZXQoZSxuKSxuLl9nZW5lcmF0ZSh0LHIscykuc2NoZW1hfSxsLnBlcnNwZWN0aXZlPWZ1bmN0aW9uKGUsdCl7aWYoXCJsb2NhbFwiPT09ZS50eXBlKXtmb3IoY29uc3R7c2NoZW1hOnIsa2V5OnN9b2YgdC5zY2hlbWFzKXtpZigoci5fZmxhZ3MuaWR8fHMpPT09ZS5wYXRoWzBdKXJldHVybntwZXJzcGVjdGl2ZTpyLHBhdGg6ZS5wYXRoLnNsaWNlKDEpfTtpZihyLiRfdGVybXMuc2hhcmVkKWZvcihjb25zdCB0IG9mIHIuJF90ZXJtcy5zaGFyZWQpaWYodC5fZmxhZ3MuaWQ9PT1lLnBhdGhbMF0pcmV0dXJue3BlcnNwZWN0aXZlOnQscGF0aDplLnBhdGguc2xpY2UoMSl9fXJldHVybntwZXJzcGVjdGl2ZTpudWxsLHBhdGg6bnVsbH19cmV0dXJuXCJyb290XCI9PT1lLmFuY2VzdG9yP3twZXJzcGVjdGl2ZTp0LnNjaGVtYXNbdC5zY2hlbWFzLmxlbmd0aC0xXS5zY2hlbWEscGF0aDplLnBhdGh9OntwZXJzcGVjdGl2ZTp0LnNjaGVtYXNbZS5hbmNlc3Rvcl0mJnQuc2NoZW1hc1tlLmFuY2VzdG9yXS5zY2hlbWEscGF0aDplLnBhdGh9fSxsLmFzc2VydD1mdW5jdGlvbihlLHQscixuLG8sYSl7ZXx8cyghMSwnXCInLmNvbmNhdChpLmxhYmVsKG4uX2ZsYWdzLG8sYSksJ1wiIGNvbnRhaW5zIGxpbmsgcmVmZXJlbmNlIFwiJykuY29uY2F0KHIuZGlzcGxheSwnXCIgJykuY29uY2F0KHQpKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBzPXIoMCksbj1yKDMpLG89cigxKSxhPXtudW1iZXJSeDovXlxccypbKy1dPyg/Oig/OlxcZCsoPzpcXC5cXGQqKT8pfCg/OlxcLlxcZCspKSg/OmUoWystXT9cXGQrKSk/XFxzKiQvaSxwcmVjaXNpb25SeDovKD86XFwuKFxcZCspKT8oPzpbZUVdKFsrLV0/XFxkKykpPyQvfTtlLmV4cG9ydHM9bi5leHRlbmQoe3R5cGU6XCJudW1iZXJcIixmbGFnczp7dW5zYWZlOntkZWZhdWx0OiExfX0sY29lcmNlOntmcm9tOlwic3RyaW5nXCIsbWV0aG9kKGUse3NjaGVtYTp0LGVycm9yOnJ9KXtjb25zdCBzPWUubWF0Y2goYS5udW1iZXJSeCk7aWYoIXMpcmV0dXJuO2U9ZS50cmltKCk7Y29uc3Qgbj17dmFsdWU6cGFyc2VGbG9hdChlKX07aWYoMD09PW4udmFsdWUmJihuLnZhbHVlPTApLCF0Ll9mbGFncy51bnNhZmUpaWYoZS5tYXRjaCgvZS9pKSl7aWYoYS5ub3JtYWxpemVFeHBvbmVudChcIlwiLmNvbmNhdChuLnZhbHVlL01hdGgucG93KDEwLHNbMV0pLFwiZVwiKS5jb25jYXQoc1sxXSkpIT09YS5ub3JtYWxpemVFeHBvbmVudChlKSlyZXR1cm4gbi5lcnJvcnM9cihcIm51bWJlci51bnNhZmVcIiksbn1lbHNle2NvbnN0IHQ9bi52YWx1ZS50b1N0cmluZygpO2lmKHQubWF0Y2goL2UvaSkpcmV0dXJuIG47aWYodCE9PWEubm9ybWFsaXplRGVjaW1hbChlKSlyZXR1cm4gbi5lcnJvcnM9cihcIm51bWJlci51bnNhZmVcIiksbn1yZXR1cm4gbn19LHZhbGlkYXRlKGUse3NjaGVtYTp0LGVycm9yOnIscHJlZnM6c30pe2lmKGU9PT0xLzB8fGU9PT0tMS8wKXJldHVybnt2YWx1ZTplLGVycm9yczpyKFwibnVtYmVyLmluZmluaXR5XCIpfTtpZighby5pc051bWJlcihlKSlyZXR1cm57dmFsdWU6ZSxlcnJvcnM6cihcIm51bWJlci5iYXNlXCIpfTtjb25zdCBuPXt2YWx1ZTplfTtpZihzLmNvbnZlcnQpe2NvbnN0IGU9dC4kX2dldFJ1bGUoXCJwcmVjaXNpb25cIik7aWYoZSl7Y29uc3QgdD1NYXRoLnBvdygxMCxlLmFyZ3MubGltaXQpO24udmFsdWU9TWF0aC5yb3VuZChuLnZhbHVlKnQpL3R9fXJldHVybiAwPT09bi52YWx1ZSYmKG4udmFsdWU9MCksIXQuX2ZsYWdzLnVuc2FmZSYmKGU+TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJ8fGU8TnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIpJiYobi5lcnJvcnM9cihcIm51bWJlci51bnNhZmVcIikpLG59LHJ1bGVzOntjb21wYXJlOnttZXRob2Q6ITEsdmFsaWRhdGU6KGUsdCx7bGltaXQ6cn0se25hbWU6cyxvcGVyYXRvcjpuLGFyZ3M6YX0pPT5vLmNvbXBhcmUoZSxyLG4pP2U6dC5lcnJvcihcIm51bWJlci5cIitzLHtsaW1pdDphLmxpbWl0LHZhbHVlOmV9KSxhcmdzOlt7bmFtZTpcImxpbWl0XCIscmVmOiEwLGFzc2VydDpvLmlzTnVtYmVyLG1lc3NhZ2U6XCJtdXN0IGJlIGEgbnVtYmVyXCJ9XX0sZ3JlYXRlcjp7bWV0aG9kKGUpe3JldHVybiB0aGlzLiRfYWRkUnVsZSh7bmFtZTpcImdyZWF0ZXJcIixtZXRob2Q6XCJjb21wYXJlXCIsYXJnczp7bGltaXQ6ZX0sb3BlcmF0b3I6XCI+XCJ9KX19LGludGVnZXI6e21ldGhvZCgpe3JldHVybiB0aGlzLiRfYWRkUnVsZShcImludGVnZXJcIil9LHZhbGlkYXRlOihlLHQpPT5NYXRoLnRydW5jKGUpLWU9PTA/ZTp0LmVycm9yKFwibnVtYmVyLmludGVnZXJcIil9LGxlc3M6e21ldGhvZChlKXtyZXR1cm4gdGhpcy4kX2FkZFJ1bGUoe25hbWU6XCJsZXNzXCIsbWV0aG9kOlwiY29tcGFyZVwiLGFyZ3M6e2xpbWl0OmV9LG9wZXJhdG9yOlwiPFwifSl9fSxtYXg6e21ldGhvZChlKXtyZXR1cm4gdGhpcy4kX2FkZFJ1bGUoe25hbWU6XCJtYXhcIixtZXRob2Q6XCJjb21wYXJlXCIsYXJnczp7bGltaXQ6ZX0sb3BlcmF0b3I6XCI8PVwifSl9fSxtaW46e21ldGhvZChlKXtyZXR1cm4gdGhpcy4kX2FkZFJ1bGUoe25hbWU6XCJtaW5cIixtZXRob2Q6XCJjb21wYXJlXCIsYXJnczp7bGltaXQ6ZX0sb3BlcmF0b3I6XCI+PVwifSl9fSxtdWx0aXBsZTp7bWV0aG9kKGUpe3JldHVybiB0aGlzLiRfYWRkUnVsZSh7bmFtZTpcIm11bHRpcGxlXCIsYXJnczp7YmFzZTplfX0pfSx2YWxpZGF0ZTooZSx0LHtiYXNlOnJ9LHMpPT5lJXI9PTA/ZTp0LmVycm9yKFwibnVtYmVyLm11bHRpcGxlXCIse211bHRpcGxlOnMuYXJncy5iYXNlLHZhbHVlOmV9KSxhcmdzOlt7bmFtZTpcImJhc2VcIixyZWY6ITAsYXNzZXJ0OmU9PlwibnVtYmVyXCI9PXR5cGVvZiBlJiZpc0Zpbml0ZShlKSYmZT4wLG1lc3NhZ2U6XCJtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCJ9XSxtdWx0aTohMH0sbmVnYXRpdmU6e21ldGhvZCgpe3JldHVybiB0aGlzLnNpZ24oXCJuZWdhdGl2ZVwiKX19LHBvcnQ6e21ldGhvZCgpe3JldHVybiB0aGlzLiRfYWRkUnVsZShcInBvcnRcIil9LHZhbGlkYXRlOihlLHQpPT5OdW1iZXIuaXNTYWZlSW50ZWdlcihlKSYmZT49MCYmZTw9NjU1MzU/ZTp0LmVycm9yKFwibnVtYmVyLnBvcnRcIil9LHBvc2l0aXZlOnttZXRob2QoKXtyZXR1cm4gdGhpcy5zaWduKFwicG9zaXRpdmVcIil9fSxwcmVjaXNpb246e21ldGhvZChlKXtyZXR1cm4gcyhOdW1iZXIuaXNTYWZlSW50ZWdlcihlKSxcImxpbWl0IG11c3QgYmUgYW4gaW50ZWdlclwiKSx0aGlzLiRfYWRkUnVsZSh7bmFtZTpcInByZWNpc2lvblwiLGFyZ3M6e2xpbWl0OmV9fSl9LHZhbGlkYXRlKGUsdCx7bGltaXQ6cn0pe2NvbnN0IHM9ZS50b1N0cmluZygpLm1hdGNoKGEucHJlY2lzaW9uUngpO3JldHVybiBNYXRoLm1heCgoc1sxXT9zWzFdLmxlbmd0aDowKS0oc1syXT9wYXJzZUludChzWzJdLDEwKTowKSwwKTw9cj9lOnQuZXJyb3IoXCJudW1iZXIucHJlY2lzaW9uXCIse2xpbWl0OnIsdmFsdWU6ZX0pfSxjb252ZXJ0OiEwfSxzaWduOnttZXRob2QoZSl7cmV0dXJuIHMoW1wibmVnYXRpdmVcIixcInBvc2l0aXZlXCJdLmluY2x1ZGVzKGUpLFwiSW52YWxpZCBzaWduXCIsZSksdGhpcy4kX2FkZFJ1bGUoe25hbWU6XCJzaWduXCIsYXJnczp7c2lnbjplfX0pfSx2YWxpZGF0ZTooZSx0LHtzaWduOnJ9KT0+XCJuZWdhdGl2ZVwiPT09ciYmZTwwfHxcInBvc2l0aXZlXCI9PT1yJiZlPjA/ZTp0LmVycm9yKFwibnVtYmVyLlwiLmNvbmNhdChyKSl9LHVuc2FmZTp7bWV0aG9kKGU9ITApe3JldHVybiBzKFwiYm9vbGVhblwiPT10eXBlb2YgZSxcImVuYWJsZWQgbXVzdCBiZSBhIGJvb2xlYW5cIiksdGhpcy4kX3NldEZsYWcoXCJ1bnNhZmVcIixlKX19fSxjYXN0OntzdHJpbmc6e2Zyb206ZT0+XCJudW1iZXJcIj09dHlwZW9mIGUsdG86KGUsdCk9PmUudG9TdHJpbmcoKX19LG1lc3NhZ2VzOntcIm51bWJlci5iYXNlXCI6XCJ7eyNsYWJlbH19IG11c3QgYmUgYSBudW1iZXJcIixcIm51bWJlci5ncmVhdGVyXCI6XCJ7eyNsYWJlbH19IG11c3QgYmUgZ3JlYXRlciB0aGFuIHt7I2xpbWl0fX1cIixcIm51bWJlci5pbmZpbml0eVwiOlwie3sjbGFiZWx9fSBjYW5ub3QgYmUgaW5maW5pdHlcIixcIm51bWJlci5pbnRlZ2VyXCI6XCJ7eyNsYWJlbH19IG11c3QgYmUgYW4gaW50ZWdlclwiLFwibnVtYmVyLmxlc3NcIjpcInt7I2xhYmVsfX0gbXVzdCBiZSBsZXNzIHRoYW4ge3sjbGltaXR9fVwiLFwibnVtYmVyLm1heFwiOlwie3sjbGFiZWx9fSBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB7eyNsaW1pdH19XCIsXCJudW1iZXIubWluXCI6XCJ7eyNsYWJlbH19IG11c3QgYmUgbGFyZ2VyIHRoYW4gb3IgZXF1YWwgdG8ge3sjbGltaXR9fVwiLFwibnVtYmVyLm11bHRpcGxlXCI6XCJ7eyNsYWJlbH19IG11c3QgYmUgYSBtdWx0aXBsZSBvZiB7eyNtdWx0aXBsZX19XCIsXCJudW1iZXIubmVnYXRpdmVcIjpcInt7I2xhYmVsfX0gbXVzdCBiZSBhIG5lZ2F0aXZlIG51bWJlclwiLFwibnVtYmVyLnBvcnRcIjpcInt7I2xhYmVsfX0gbXVzdCBiZSBhIHZhbGlkIHBvcnRcIixcIm51bWJlci5wb3NpdGl2ZVwiOlwie3sjbGFiZWx9fSBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIsXCJudW1iZXIucHJlY2lzaW9uXCI6XCJ7eyNsYWJlbH19IG11c3QgaGF2ZSBubyBtb3JlIHRoYW4ge3sjbGltaXR9fSBkZWNpbWFsIHBsYWNlc1wiLFwibnVtYmVyLnVuc2FmZVwiOlwie3sjbGFiZWx9fSBtdXN0IGJlIGEgc2FmZSBudW1iZXJcIn19KSxhLm5vcm1hbGl6ZUV4cG9uZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL0UvLFwiZVwiKS5yZXBsYWNlKC9cXC4oXFxkKlsxLTldKT8wK2UvLFwiLiQxZVwiKS5yZXBsYWNlKC9cXC5lLyxcImVcIikucmVwbGFjZSgvZVxcKy8sXCJlXCIpLnJlcGxhY2UoL15cXCsvLFwiXCIpLnJlcGxhY2UoL14oLT8pMCsoWzEtOV0pLyxcIiQxJDJcIil9LGEubm9ybWFsaXplRGVjaW1hbD1mdW5jdGlvbihlKXtyZXR1cm4oZT1lLnJlcGxhY2UoL15cXCsvLFwiXCIpLnJlcGxhY2UoL1xcLjArJC8sXCJcIikucmVwbGFjZSgvXigtPylcXC4oW15cXC5dKikkLyxcIiQxMC4kMlwiKS5yZXBsYWNlKC9eKC0/KTArKFsxLTldKS8sXCIkMSQyXCIpKS5pbmNsdWRlcyhcIi5cIikmJmUuZW5kc1dpdGgoXCIwXCIpJiYoZT1lLnJlcGxhY2UoLzArJC8sXCJcIikpLFwiLTBcIj09PWU/XCIwXCI6ZX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBzPXIoMjIpO2UuZXhwb3J0cz1zLmV4dGVuZCh7dHlwZTpcIm9iamVjdFwiLGNhc3Q6e21hcDp7ZnJvbTplPT5lJiZcIm9iamVjdFwiPT10eXBlb2YgZSx0bzooZSx0KT0+bmV3IE1hcChPYmplY3QuZW50cmllcyhlKSl9fX0pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcyhlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHM9cy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIscyl9cmV0dXJuIHJ9ZnVuY3Rpb24gbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9zKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7byhlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6cyhPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBvKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1jb25zdCBhPXIoMCksaT1yKDIzKSxsPXIoNDkpLGM9cig1MCksdT1yKDI3KSxmPXIoNTEpLG09cigyNiksaD1yKDMpLGQ9cigxKSxwPXt0bGRzOmYgaW5zdGFuY2VvZiBTZXQmJnt0bGRzOnthbGxvdzpmLGRlbnk6bnVsbH19LGJhc2U2NFJlZ2V4Ont0cnVlOnt0cnVlOi9eKD86W1xcd1xcLV17Mn1bXFx3XFwtXXsyfSkqKD86W1xcd1xcLV17Mn09PXxbXFx3XFwtXXszfT0pPyQvLGZhbHNlOi9eKD86W0EtWmEtejAtOStcXC9dezJ9W0EtWmEtejAtOStcXC9dezJ9KSooPzpbQS1aYS16MC05K1xcL117Mn09PXxbQS1aYS16MC05K1xcL117M309KT8kL30sZmFsc2U6e3RydWU6L14oPzpbXFx3XFwtXXsyfVtcXHdcXC1dezJ9KSooPzpbXFx3XFwtXXsyfSg9PSk/fFtcXHdcXC1dezN9PT8pPyQvLGZhbHNlOi9eKD86W0EtWmEtejAtOStcXC9dezJ9W0EtWmEtejAtOStcXC9dezJ9KSooPzpbQS1aYS16MC05K1xcL117Mn0oPT0pP3xbQS1aYS16MC05K1xcL117M309Pyk/JC99fSxkYXRhVXJpUmVnZXg6L15kYXRhOltcXHcrLi1dK1xcL1tcXHcrLi1dKzsoKGNoYXJzZXQ9W1xcdy1dK3xiYXNlNjQpLCk/KC4qKSQvLGhleFJlZ2V4Oi9eW2EtZjAtOV0rJC9pLGlwUmVnZXg6Yy5yZWdleCgpLnJlZ2V4LGlzb0R1cmF0aW9uUmVnZXg6L15QKD8hJCkoXFxkK1kpPyhcXGQrTSk/KFxcZCtXKT8oXFxkK0QpPyhUKD89XFxkKShcXGQrSCk/KFxcZCtNKT8oXFxkK1MpPyk/JC8sZ3VpZEJyYWNrZXRzOntcIntcIjpcIn1cIixcIltcIjpcIl1cIixcIihcIjpcIilcIixcIlwiOlwiXCJ9LGd1aWRWZXJzaW9uczp7dXVpZHYxOlwiMVwiLHV1aWR2MjpcIjJcIix1dWlkdjM6XCIzXCIsdXVpZHY0OlwiNFwiLHV1aWR2NTpcIjVcIn0sY2lkclByZXNlbmNlczpbXCJyZXF1aXJlZFwiLFwib3B0aW9uYWxcIixcImZvcmJpZGRlblwiXSxub3JtYWxpemF0aW9uRm9ybXM6W1wiTkZDXCIsXCJORkRcIixcIk5GS0NcIixcIk5GS0RcIl19O2UuZXhwb3J0cz1oLmV4dGVuZCh7dHlwZTpcInN0cmluZ1wiLGZsYWdzOntpbnNlbnNpdGl2ZTp7ZGVmYXVsdDohMX0sdHJ1bmNhdGU6e2RlZmF1bHQ6ITF9fSx0ZXJtczp7cmVwbGFjZW1lbnRzOntpbml0Om51bGx9fSxjb2VyY2U6e2Zyb206XCJzdHJpbmdcIixtZXRob2QoZSx7c2NoZW1hOnQsc3RhdGU6cixwcmVmczpzfSl7Y29uc3Qgbj10LiRfZ2V0UnVsZShcIm5vcm1hbGl6ZVwiKTtuJiYoZT1lLm5vcm1hbGl6ZShuLmFyZ3MuZm9ybSkpO2NvbnN0IG89dC4kX2dldFJ1bGUoXCJjYXNlXCIpO28mJihlPVwidXBwZXJcIj09PW8uYXJncy5kaXJlY3Rpb24/ZS50b0xvY2FsZVVwcGVyQ2FzZSgpOmUudG9Mb2NhbGVMb3dlckNhc2UoKSk7Y29uc3QgYT10LiRfZ2V0UnVsZShcInRyaW1cIik7aWYoYSYmYS5hcmdzLmVuYWJsZWQmJihlPWUudHJpbSgpKSx0LiRfdGVybXMucmVwbGFjZW1lbnRzKWZvcihjb25zdCByIG9mIHQuJF90ZXJtcy5yZXBsYWNlbWVudHMpZT1lLnJlcGxhY2Uoci5wYXR0ZXJuLHIucmVwbGFjZW1lbnQpO2NvbnN0IGk9dC4kX2dldFJ1bGUoXCJoZXhcIik7aWYoaSYmaS5hcmdzLm9wdGlvbnMuYnl0ZUFsaWduZWQmJmUubGVuZ3RoJTIhPTAmJihlPVwiMFwiLmNvbmNhdChlKSksdC4kX2dldFJ1bGUoXCJpc29EYXRlXCIpKXtjb25zdCB0PXAuaXNvRGF0ZShlKTt0JiYoZT10KX1pZih0Ll9mbGFncy50cnVuY2F0ZSl7Y29uc3Qgbj10LiRfZ2V0UnVsZShcIm1heFwiKTtpZihuKXtsZXQgbz1uLmFyZ3MubGltaXQ7aWYoZC5pc1Jlc29sdmFibGUobykmJihvPW8ucmVzb2x2ZShlLHIscyksIWQubGltaXQobykpKXJldHVybnt2YWx1ZTplLGVycm9yczp0LiRfY3JlYXRlRXJyb3IoXCJhbnkucmVmXCIsbyx7cmVmOm4uYXJncy5saW1pdCxhcmc6XCJsaW1pdFwiLHJlYXNvbjpcIm11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyXCJ9LHIscyl9O2U9ZS5zbGljZSgwLG8pfX1yZXR1cm57dmFsdWU6ZX19fSx2YWxpZGF0ZTooZSx7ZXJyb3I6dH0pPT5cInN0cmluZ1wiIT10eXBlb2YgZT97dmFsdWU6ZSxlcnJvcnM6dChcInN0cmluZy5iYXNlXCIpfTpcIlwiPT09ZT97dmFsdWU6ZSxlcnJvcnM6dChcInN0cmluZy5lbXB0eVwiKX06dm9pZCAwLHJ1bGVzOnthbHBoYW51bTp7bWV0aG9kKCl7cmV0dXJuIHRoaXMuJF9hZGRSdWxlKFwiYWxwaGFudW1cIil9LHZhbGlkYXRlOihlLHQpPT4vXlthLXpBLVowLTldKyQvLnRlc3QoZSk/ZTp0LmVycm9yKFwic3RyaW5nLmFscGhhbnVtXCIpfSxiYXNlNjQ6e21ldGhvZChlPXt9KXtyZXR1cm4gZC5hc3NlcnRPcHRpb25zKGUsW1wicGFkZGluZ1JlcXVpcmVkXCIsXCJ1cmxTYWZlXCJdKSxlPW4oe3VybFNhZmU6ITEscGFkZGluZ1JlcXVpcmVkOiEwfSxlKSxhKFwiYm9vbGVhblwiPT10eXBlb2YgZS5wYWRkaW5nUmVxdWlyZWQsXCJwYWRkaW5nUmVxdWlyZWQgbXVzdCBiZSBib29sZWFuXCIpLGEoXCJib29sZWFuXCI9PXR5cGVvZiBlLnVybFNhZmUsXCJ1cmxTYWZlIG11c3QgYmUgYm9vbGVhblwiKSx0aGlzLiRfYWRkUnVsZSh7bmFtZTpcImJhc2U2NFwiLGFyZ3M6e29wdGlvbnM6ZX19KX0sdmFsaWRhdGU6KGUsdCx7b3B0aW9uczpyfSk9PnAuYmFzZTY0UmVnZXhbci5wYWRkaW5nUmVxdWlyZWRdW3IudXJsU2FmZV0udGVzdChlKT9lOnQuZXJyb3IoXCJzdHJpbmcuYmFzZTY0XCIpfSxjYXNlOnttZXRob2QoZSl7cmV0dXJuIGEoW1wibG93ZXJcIixcInVwcGVyXCJdLmluY2x1ZGVzKGUpLFwiSW52YWxpZCBjYXNlOlwiLGUpLHRoaXMuJF9hZGRSdWxlKHtuYW1lOlwiY2FzZVwiLGFyZ3M6e2RpcmVjdGlvbjplfX0pfSx2YWxpZGF0ZTooZSx0LHtkaXJlY3Rpb246cn0pPT5cImxvd2VyXCI9PT1yJiZlPT09ZS50b0xvY2FsZUxvd2VyQ2FzZSgpfHxcInVwcGVyXCI9PT1yJiZlPT09ZS50b0xvY2FsZVVwcGVyQ2FzZSgpP2U6dC5lcnJvcihcInN0cmluZy5cIi5jb25jYXQocixcImNhc2VcIikpLGNvbnZlcnQ6ITB9LGNyZWRpdENhcmQ6e21ldGhvZCgpe3JldHVybiB0aGlzLiRfYWRkUnVsZShcImNyZWRpdENhcmRcIil9LHZhbGlkYXRlKGUsdCl7bGV0IHI9ZS5sZW5ndGgscz0wLG49MTtmb3IoO3ItLTspe2NvbnN0IHQ9ZS5jaGFyQXQocikqbjtzKz10LTkqKHQ+OSksbl49M31yZXR1cm4gcz4wJiZzJTEwPT0wP2U6dC5lcnJvcihcInN0cmluZy5jcmVkaXRDYXJkXCIpfX0sZGF0YVVyaTp7bWV0aG9kKGU9e30pe3JldHVybiBkLmFzc2VydE9wdGlvbnMoZSxbXCJwYWRkaW5nUmVxdWlyZWRcIl0pLGU9bih7cGFkZGluZ1JlcXVpcmVkOiEwfSxlKSxhKFwiYm9vbGVhblwiPT10eXBlb2YgZS5wYWRkaW5nUmVxdWlyZWQsXCJwYWRkaW5nUmVxdWlyZWQgbXVzdCBiZSBib29sZWFuXCIpLHRoaXMuJF9hZGRSdWxlKHtuYW1lOlwiZGF0YVVyaVwiLGFyZ3M6e29wdGlvbnM6ZX19KX0sdmFsaWRhdGUoZSx0LHtvcHRpb25zOnJ9KXtjb25zdCBzPWUubWF0Y2gocC5kYXRhVXJpUmVnZXgpO2lmKHMpe2lmKCFzWzJdKXJldHVybiBlO2lmKFwiYmFzZTY0XCIhPT1zWzJdKXJldHVybiBlO2lmKHAuYmFzZTY0UmVnZXhbci5wYWRkaW5nUmVxdWlyZWRdLmZhbHNlLnRlc3Qoc1szXSkpcmV0dXJuIGV9cmV0dXJuIHQuZXJyb3IoXCJzdHJpbmcuZGF0YVVyaVwiKX19LGRvbWFpbjp7bWV0aG9kKGUpe2UmJmQuYXNzZXJ0T3B0aW9ucyhlLFtcImFsbG93VW5pY29kZVwiLFwibWluRG9tYWluU2VnbWVudHNcIixcInRsZHNcIl0pO2NvbnN0IHQ9cC5hZGRyZXNzT3B0aW9ucyhlKTtyZXR1cm4gdGhpcy4kX2FkZFJ1bGUoe25hbWU6XCJkb21haW5cIixhcmdzOntvcHRpb25zOmV9LGFkZHJlc3M6dH0pfSx2YWxpZGF0ZTooZSx0LHIse2FkZHJlc3M6c30pPT5pLmlzVmFsaWQoZSxzKT9lOnQuZXJyb3IoXCJzdHJpbmcuZG9tYWluXCIpfSxlbWFpbDp7bWV0aG9kKGU9e30pe2QuYXNzZXJ0T3B0aW9ucyhlLFtcImFsbG93VW5pY29kZVwiLFwiaWdub3JlTGVuZ3RoXCIsXCJtaW5Eb21haW5TZWdtZW50c1wiLFwibXVsdGlwbGVcIixcInNlcGFyYXRvclwiLFwidGxkc1wiXSksYSh2b2lkIDA9PT1lLm11bHRpcGxlfHxcImJvb2xlYW5cIj09dHlwZW9mIGUubXVsdGlwbGUsXCJtdWx0aXBsZSBvcHRpb24gbXVzdCBiZSBhbiBib29sZWFuXCIpO2NvbnN0IHQ9cC5hZGRyZXNzT3B0aW9ucyhlKSxyPW5ldyBSZWdFeHAoXCJcXFxccypbXCIuY29uY2F0KGUuc2VwYXJhdG9yP3UoZS5zZXBhcmF0b3IpOlwiLFwiLFwiXVxcXFxzKlwiKSk7cmV0dXJuIHRoaXMuJF9hZGRSdWxlKHtuYW1lOlwiZW1haWxcIixhcmdzOntvcHRpb25zOmV9LHJlZ2V4OnIsYWRkcmVzczp0fSl9LHZhbGlkYXRlKGUsdCx7b3B0aW9uczpyfSx7cmVnZXg6cyxhZGRyZXNzOm59KXtjb25zdCBvPXIubXVsdGlwbGU/ZS5zcGxpdChzKTpbZV0sYT1bXTtmb3IoY29uc3QgZSBvZiBvKWwuaXNWYWxpZChlLG4pfHxhLnB1c2goZSk7cmV0dXJuIGEubGVuZ3RoP3QuZXJyb3IoXCJzdHJpbmcuZW1haWxcIix7dmFsdWU6ZSxpbnZhbGlkczphfSk6ZX19LGd1aWQ6e2FsaWFzOlwidXVpZFwiLG1ldGhvZChlPXt9KXtkLmFzc2VydE9wdGlvbnMoZSxbXCJ2ZXJzaW9uXCJdKTtsZXQgdD1cIlwiO2lmKGUudmVyc2lvbil7Y29uc3Qgcj1bXS5jb25jYXQoZS52ZXJzaW9uKTthKHIubGVuZ3RoPj0xLFwidmVyc2lvbiBtdXN0IGhhdmUgYXQgbGVhc3QgMSB2YWxpZCB2ZXJzaW9uIHNwZWNpZmllZFwiKTtjb25zdCBzPW5ldyBTZXQ7Zm9yKGxldCBlPTA7ZTxyLmxlbmd0aDsrK2Upe2NvbnN0IG49cltlXTthKFwic3RyaW5nXCI9PXR5cGVvZiBuLFwidmVyc2lvbiBhdCBwb3NpdGlvbiBcIitlK1wiIG11c3QgYmUgYSBzdHJpbmdcIik7Y29uc3Qgbz1wLmd1aWRWZXJzaW9uc1tuLnRvTG93ZXJDYXNlKCldO2EobyxcInZlcnNpb24gYXQgcG9zaXRpb24gXCIrZStcIiBtdXN0IGJlIG9uZSBvZiBcIitPYmplY3Qua2V5cyhwLmd1aWRWZXJzaW9ucykuam9pbihcIiwgXCIpKSxhKCFzLmhhcyhvKSxcInZlcnNpb24gYXQgcG9zaXRpb24gXCIrZStcIiBtdXN0IG5vdCBiZSBhIGR1cGxpY2F0ZVwiKSx0Kz1vLHMuYWRkKG8pfX1jb25zdCByPW5ldyBSZWdFeHAoXCJeKFtcXFxcW3tcXFxcKF0/KVswLTlBLUZdezh9KFs6LV0/KVswLTlBLUZdezR9XFxcXDI/W1wiLmNvbmNhdCh0fHxcIjAtOUEtRlwiLFwiXVswLTlBLUZdezN9XFxcXDI/W1wiKS5jb25jYXQodD9cIjg5QUJcIjpcIjAtOUEtRlwiLFwiXVswLTlBLUZdezN9XFxcXDI/WzAtOUEtRl17MTJ9KFtcXFxcXX1cXFxcKV0/KSRcIiksXCJpXCIpO3JldHVybiB0aGlzLiRfYWRkUnVsZSh7bmFtZTpcImd1aWRcIixhcmdzOntvcHRpb25zOmV9LHJlZ2V4OnJ9KX0sdmFsaWRhdGUoZSx0LHIse3JlZ2V4OnN9KXtjb25zdCBuPXMuZXhlYyhlKTtyZXR1cm4gbj9wLmd1aWRCcmFja2V0c1tuWzFdXSE9PW5bbi5sZW5ndGgtMV0/dC5lcnJvcihcInN0cmluZy5ndWlkXCIpOmU6dC5lcnJvcihcInN0cmluZy5ndWlkXCIpfX0saGV4OnttZXRob2QoZT17fSl7cmV0dXJuIGQuYXNzZXJ0T3B0aW9ucyhlLFtcImJ5dGVBbGlnbmVkXCJdKSxlPW4oe2J5dGVBbGlnbmVkOiExfSxlKSxhKFwiYm9vbGVhblwiPT10eXBlb2YgZS5ieXRlQWxpZ25lZCxcImJ5dGVBbGlnbmVkIG11c3QgYmUgYm9vbGVhblwiKSx0aGlzLiRfYWRkUnVsZSh7bmFtZTpcImhleFwiLGFyZ3M6e29wdGlvbnM6ZX19KX0sdmFsaWRhdGU6KGUsdCx7b3B0aW9uczpyfSk9PnAuaGV4UmVnZXgudGVzdChlKT9yLmJ5dGVBbGlnbmVkJiZlLmxlbmd0aCUyIT0wP3QuZXJyb3IoXCJzdHJpbmcuaGV4QWxpZ25cIik6ZTp0LmVycm9yKFwic3RyaW5nLmhleFwiKX0saG9zdG5hbWU6e21ldGhvZCgpe3JldHVybiB0aGlzLiRfYWRkUnVsZShcImhvc3RuYW1lXCIpfSx2YWxpZGF0ZTooZSx0KT0+aS5pc1ZhbGlkKGUse21pbkRvbWFpblNlZ21lbnRzOjF9KXx8cC5pcFJlZ2V4LnRlc3QoZSk/ZTp0LmVycm9yKFwic3RyaW5nLmhvc3RuYW1lXCIpfSxpbnNlbnNpdGl2ZTp7bWV0aG9kKCl7cmV0dXJuIHRoaXMuJF9zZXRGbGFnKFwiaW5zZW5zaXRpdmVcIiwhMCl9fSxpcDp7bWV0aG9kKGU9e30pe2QuYXNzZXJ0T3B0aW9ucyhlLFtcImNpZHJcIixcInZlcnNpb25cIl0pO2NvbnN0e2NpZHI6dCx2ZXJzaW9uczpyLHJlZ2V4OnN9PWMucmVnZXgoZSksbj1lLnZlcnNpb24/cjp2b2lkIDA7cmV0dXJuIHRoaXMuJF9hZGRSdWxlKHtuYW1lOlwiaXBcIixhcmdzOntvcHRpb25zOntjaWRyOnQsdmVyc2lvbjpufX0scmVnZXg6c30pfSx2YWxpZGF0ZTooZSx0LHtvcHRpb25zOnJ9LHtyZWdleDpzfSk9PnMudGVzdChlKT9lOnIudmVyc2lvbj90LmVycm9yKFwic3RyaW5nLmlwVmVyc2lvblwiLHt2YWx1ZTplLGNpZHI6ci5jaWRyLHZlcnNpb246ci52ZXJzaW9ufSk6dC5lcnJvcihcInN0cmluZy5pcFwiLHt2YWx1ZTplLGNpZHI6ci5jaWRyfSl9LGlzb0RhdGU6e21ldGhvZCgpe3JldHVybiB0aGlzLiRfYWRkUnVsZShcImlzb0RhdGVcIil9LHZhbGlkYXRlOihlLHtlcnJvcjp0fSk9PnAuaXNvRGF0ZShlKT9lOnQoXCJzdHJpbmcuaXNvRGF0ZVwiKX0saXNvRHVyYXRpb246e21ldGhvZCgpe3JldHVybiB0aGlzLiRfYWRkUnVsZShcImlzb0R1cmF0aW9uXCIpfSx2YWxpZGF0ZTooZSx0KT0+cC5pc29EdXJhdGlvblJlZ2V4LnRlc3QoZSk/ZTp0LmVycm9yKFwic3RyaW5nLmlzb0R1cmF0aW9uXCIpfSxsZW5ndGg6e21ldGhvZChlLHQpe3JldHVybiBwLmxlbmd0aCh0aGlzLFwibGVuZ3RoXCIsZSxcIj1cIix0KX0sdmFsaWRhdGUoZSx0LHtsaW1pdDpyLGVuY29kaW5nOnN9LHtuYW1lOm4sb3BlcmF0b3I6byxhcmdzOmF9KXtjb25zdCBpPSFzJiZlLmxlbmd0aDtyZXR1cm4gZC5jb21wYXJlKGkscixvKT9lOnQuZXJyb3IoXCJzdHJpbmcuXCIrbix7bGltaXQ6YS5saW1pdCx2YWx1ZTplLGVuY29kaW5nOnN9KX0sYXJnczpbe25hbWU6XCJsaW1pdFwiLHJlZjohMCxhc3NlcnQ6ZC5saW1pdCxtZXNzYWdlOlwibXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXJcIn0sXCJlbmNvZGluZ1wiXX0sbG93ZXJjYXNlOnttZXRob2QoKXtyZXR1cm4gdGhpcy5jYXNlKFwibG93ZXJcIil9fSxtYXg6e21ldGhvZChlLHQpe3JldHVybiBwLmxlbmd0aCh0aGlzLFwibWF4XCIsZSxcIjw9XCIsdCl9LGFyZ3M6W1wibGltaXRcIixcImVuY29kaW5nXCJdfSxtaW46e21ldGhvZChlLHQpe3JldHVybiBwLmxlbmd0aCh0aGlzLFwibWluXCIsZSxcIj49XCIsdCl9LGFyZ3M6W1wibGltaXRcIixcImVuY29kaW5nXCJdfSxub3JtYWxpemU6e21ldGhvZChlPVwiTkZDXCIpe3JldHVybiBhKHAubm9ybWFsaXphdGlvbkZvcm1zLmluY2x1ZGVzKGUpLFwibm9ybWFsaXphdGlvbiBmb3JtIG11c3QgYmUgb25lIG9mIFwiK3Aubm9ybWFsaXphdGlvbkZvcm1zLmpvaW4oXCIsIFwiKSksdGhpcy4kX2FkZFJ1bGUoe25hbWU6XCJub3JtYWxpemVcIixhcmdzOntmb3JtOmV9fSl9LHZhbGlkYXRlOihlLHtlcnJvcjp0fSx7Zm9ybTpyfSk9PmU9PT1lLm5vcm1hbGl6ZShyKT9lOnQoXCJzdHJpbmcubm9ybWFsaXplXCIse3ZhbHVlOmUsZm9ybTpyfSksY29udmVydDohMH0scGF0dGVybjp7YWxpYXM6XCJyZWdleFwiLG1ldGhvZChlLHQ9e30pe2EoZSBpbnN0YW5jZW9mIFJlZ0V4cCxcInJlZ2V4IG11c3QgYmUgYSBSZWdFeHBcIiksYSghZS5mbGFncy5pbmNsdWRlcyhcImdcIikmJiFlLmZsYWdzLmluY2x1ZGVzKFwieVwiKSxcInJlZ2V4IHNob3VsZCBub3QgdXNlIGdsb2JhbCBvciBzdGlja3kgbW9kZVwiKSxcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9e25hbWU6dH0pLGQuYXNzZXJ0T3B0aW9ucyh0LFtcImludmVydFwiLFwibmFtZVwiXSk7Y29uc3Qgcj1bXCJzdHJpbmcucGF0dGVyblwiLHQuaW52ZXJ0P1wiLmludmVydFwiOlwiXCIsdC5uYW1lP1wiLm5hbWVcIjpcIi5iYXNlXCJdLmpvaW4oXCJcIik7cmV0dXJuIHRoaXMuJF9hZGRSdWxlKHtuYW1lOlwicGF0dGVyblwiLGFyZ3M6e3JlZ2V4OmUsb3B0aW9uczp0fSxlcnJvckNvZGU6cn0pfSx2YWxpZGF0ZTooZSx0LHtyZWdleDpyLG9wdGlvbnM6c30se2Vycm9yQ29kZTpufSk9PnIudGVzdChlKV5zLmludmVydD9lOnQuZXJyb3Iobix7bmFtZTpzLm5hbWUscmVnZXg6cix2YWx1ZTplfSksYXJnczpbXCJyZWdleFwiLFwib3B0aW9uc1wiXSxtdWx0aTohMH0scmVwbGFjZTp7bWV0aG9kKGUsdCl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPW5ldyBSZWdFeHAodShlKSxcImdcIikpLGEoZSBpbnN0YW5jZW9mIFJlZ0V4cCxcInBhdHRlcm4gbXVzdCBiZSBhIFJlZ0V4cFwiKSxhKFwic3RyaW5nXCI9PXR5cGVvZiB0LFwicmVwbGFjZW1lbnQgbXVzdCBiZSBhIFN0cmluZ1wiKTtjb25zdCByPXRoaXMuY2xvbmUoKTtyZXR1cm4gci4kX3Rlcm1zLnJlcGxhY2VtZW50c3x8KHIuJF90ZXJtcy5yZXBsYWNlbWVudHM9W10pLHIuJF90ZXJtcy5yZXBsYWNlbWVudHMucHVzaCh7cGF0dGVybjplLHJlcGxhY2VtZW50OnR9KSxyfX0sdG9rZW46e21ldGhvZCgpe3JldHVybiB0aGlzLiRfYWRkUnVsZShcInRva2VuXCIpfSx2YWxpZGF0ZTooZSx0KT0+L15cXHcrJC8udGVzdChlKT9lOnQuZXJyb3IoXCJzdHJpbmcudG9rZW5cIil9LHRyaW06e21ldGhvZChlPSEwKXtyZXR1cm4gYShcImJvb2xlYW5cIj09dHlwZW9mIGUsXCJlbmFibGVkIG11c3QgYmUgYSBib29sZWFuXCIpLHRoaXMuJF9hZGRSdWxlKHtuYW1lOlwidHJpbVwiLGFyZ3M6e2VuYWJsZWQ6ZX19KX0sdmFsaWRhdGU6KGUsdCx7ZW5hYmxlZDpyfSk9PnImJmUhPT1lLnRyaW0oKT90LmVycm9yKFwic3RyaW5nLnRyaW1cIik6ZSxjb252ZXJ0OiEwfSx0cnVuY2F0ZTp7bWV0aG9kKGU9ITApe3JldHVybiBhKFwiYm9vbGVhblwiPT10eXBlb2YgZSxcImVuYWJsZWQgbXVzdCBiZSBhIGJvb2xlYW5cIiksdGhpcy4kX3NldEZsYWcoXCJ0cnVuY2F0ZVwiLGUpfX0sdXBwZXJjYXNlOnttZXRob2QoKXtyZXR1cm4gdGhpcy5jYXNlKFwidXBwZXJcIil9fSx1cmk6e21ldGhvZChlPXt9KXtkLmFzc2VydE9wdGlvbnMoZSxbXCJhbGxvd1JlbGF0aXZlXCIsXCJhbGxvd1F1ZXJ5U3F1YXJlQnJhY2tldHNcIixcImRvbWFpblwiLFwicmVsYXRpdmVPbmx5XCIsXCJzY2hlbWVcIl0pLGUuZG9tYWluJiZkLmFzc2VydE9wdGlvbnMoZS5kb21haW4sW1wiYWxsb3dVbmljb2RlXCIsXCJtaW5Eb21haW5TZWdtZW50c1wiLFwidGxkc1wiXSk7Y29uc3R7cmVnZXg6dCxzY2hlbWU6cn09bS5yZWdleChlKSxzPWUuZG9tYWluP3AuYWRkcmVzc09wdGlvbnMoZS5kb21haW4pOm51bGw7cmV0dXJuIHRoaXMuJF9hZGRSdWxlKHtuYW1lOlwidXJpXCIsYXJnczp7b3B0aW9uczplfSxyZWdleDp0LGRvbWFpbjpzLHNjaGVtZTpyfSl9LHZhbGlkYXRlKGUsdCx7b3B0aW9uczpyfSx7cmVnZXg6cyxkb21haW46bixzY2hlbWU6b30pe2lmKFtcImh0dHA6L1wiLFwiaHR0cHM6L1wiXS5pbmNsdWRlcyhlKSlyZXR1cm4gdC5lcnJvcihcInN0cmluZy51cmlcIik7Y29uc3QgYT1zLmV4ZWMoZSk7aWYoYSl7aWYobil7Y29uc3QgZT1hWzFdfHxhWzJdO2lmKCFpLmlzVmFsaWQoZSxuKSlyZXR1cm4gdC5lcnJvcihcInN0cmluZy5kb21haW5cIix7dmFsdWU6ZX0pfXJldHVybiBlfXJldHVybiByLnJlbGF0aXZlT25seT90LmVycm9yKFwic3RyaW5nLnVyaVJlbGF0aXZlT25seVwiKTpyLnNjaGVtZT90LmVycm9yKFwic3RyaW5nLnVyaUN1c3RvbVNjaGVtZVwiLHtzY2hlbWU6byx2YWx1ZTplfSk6dC5lcnJvcihcInN0cmluZy51cmlcIil9fX0sbWFuaWZlc3Q6e2J1aWxkKGUsdCl7aWYodC5yZXBsYWNlbWVudHMpZm9yKGNvbnN0e3BhdHRlcm46cixyZXBsYWNlbWVudDpzfW9mIHQucmVwbGFjZW1lbnRzKWU9ZS5yZXBsYWNlKHIscyk7cmV0dXJuIGV9fSxtZXNzYWdlczp7XCJzdHJpbmcuYWxwaGFudW1cIjpcInt7I2xhYmVsfX0gbXVzdCBvbmx5IGNvbnRhaW4gYWxwaGEtbnVtZXJpYyBjaGFyYWN0ZXJzXCIsXCJzdHJpbmcuYmFzZVwiOlwie3sjbGFiZWx9fSBtdXN0IGJlIGEgc3RyaW5nXCIsXCJzdHJpbmcuYmFzZTY0XCI6XCJ7eyNsYWJlbH19IG11c3QgYmUgYSB2YWxpZCBiYXNlNjQgc3RyaW5nXCIsXCJzdHJpbmcuY3JlZGl0Q2FyZFwiOlwie3sjbGFiZWx9fSBtdXN0IGJlIGEgY3JlZGl0IGNhcmRcIixcInN0cmluZy5kYXRhVXJpXCI6XCJ7eyNsYWJlbH19IG11c3QgYmUgYSB2YWxpZCBkYXRhVXJpIHN0cmluZ1wiLFwic3RyaW5nLmRvbWFpblwiOlwie3sjbGFiZWx9fSBtdXN0IGNvbnRhaW4gYSB2YWxpZCBkb21haW4gbmFtZVwiLFwic3RyaW5nLmVtYWlsXCI6XCJ7eyNsYWJlbH19IG11c3QgYmUgYSB2YWxpZCBlbWFpbFwiLFwic3RyaW5nLmVtcHR5XCI6XCJ7eyNsYWJlbH19IGlzIG5vdCBhbGxvd2VkIHRvIGJlIGVtcHR5XCIsXCJzdHJpbmcuZ3VpZFwiOlwie3sjbGFiZWx9fSBtdXN0IGJlIGEgdmFsaWQgR1VJRFwiLFwic3RyaW5nLmhleFwiOlwie3sjbGFiZWx9fSBtdXN0IG9ubHkgY29udGFpbiBoZXhhZGVjaW1hbCBjaGFyYWN0ZXJzXCIsXCJzdHJpbmcuaGV4QWxpZ25cIjpcInt7I2xhYmVsfX0gaGV4IGRlY29kZWQgcmVwcmVzZW50YXRpb24gbXVzdCBiZSBieXRlIGFsaWduZWRcIixcInN0cmluZy5ob3N0bmFtZVwiOlwie3sjbGFiZWx9fSBtdXN0IGJlIGEgdmFsaWQgaG9zdG5hbWVcIixcInN0cmluZy5pcFwiOlwie3sjbGFiZWx9fSBtdXN0IGJlIGEgdmFsaWQgaXAgYWRkcmVzcyB3aXRoIGEge3sjY2lkcn19IENJRFJcIixcInN0cmluZy5pcFZlcnNpb25cIjpcInt7I2xhYmVsfX0gbXVzdCBiZSBhIHZhbGlkIGlwIGFkZHJlc3Mgb2Ygb25lIG9mIHRoZSBmb2xsb3dpbmcgdmVyc2lvbnMge3sjdmVyc2lvbn19IHdpdGggYSB7eyNjaWRyfX0gQ0lEUlwiLFwic3RyaW5nLmlzb0RhdGVcIjpcInt7I2xhYmVsfX0gbXVzdCBiZSBpbiBpc28gZm9ybWF0XCIsXCJzdHJpbmcuaXNvRHVyYXRpb25cIjpcInt7I2xhYmVsfX0gbXVzdCBiZSBhIHZhbGlkIElTTyA4NjAxIGR1cmF0aW9uXCIsXCJzdHJpbmcubGVuZ3RoXCI6XCJ7eyNsYWJlbH19IGxlbmd0aCBtdXN0IGJlIHt7I2xpbWl0fX0gY2hhcmFjdGVycyBsb25nXCIsXCJzdHJpbmcubG93ZXJjYXNlXCI6XCJ7eyNsYWJlbH19IG11c3Qgb25seSBjb250YWluIGxvd2VyY2FzZSBjaGFyYWN0ZXJzXCIsXCJzdHJpbmcubWF4XCI6XCJ7eyNsYWJlbH19IGxlbmd0aCBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB7eyNsaW1pdH19IGNoYXJhY3RlcnMgbG9uZ1wiLFwic3RyaW5nLm1pblwiOlwie3sjbGFiZWx9fSBsZW5ndGggbXVzdCBiZSBhdCBsZWFzdCB7eyNsaW1pdH19IGNoYXJhY3RlcnMgbG9uZ1wiLFwic3RyaW5nLm5vcm1hbGl6ZVwiOlwie3sjbGFiZWx9fSBtdXN0IGJlIHVuaWNvZGUgbm9ybWFsaXplZCBpbiB0aGUge3sjZm9ybX19IGZvcm1cIixcInN0cmluZy50b2tlblwiOlwie3sjbGFiZWx9fSBtdXN0IG9ubHkgY29udGFpbiBhbHBoYS1udW1lcmljIGFuZCB1bmRlcnNjb3JlIGNoYXJhY3RlcnNcIixcInN0cmluZy5wYXR0ZXJuLmJhc2VcIjone3sjbGFiZWx9fSB3aXRoIHZhbHVlIFwie1suXX1cIiBmYWlscyB0byBtYXRjaCB0aGUgcmVxdWlyZWQgcGF0dGVybjoge3sjcmVnZXh9fScsXCJzdHJpbmcucGF0dGVybi5uYW1lXCI6J3t7I2xhYmVsfX0gd2l0aCB2YWx1ZSBcIntbLl19XCIgZmFpbHMgdG8gbWF0Y2ggdGhlIHt7I25hbWV9fSBwYXR0ZXJuJyxcInN0cmluZy5wYXR0ZXJuLmludmVydC5iYXNlXCI6J3t7I2xhYmVsfX0gd2l0aCB2YWx1ZSBcIntbLl19XCIgbWF0Y2hlcyB0aGUgaW52ZXJ0ZWQgcGF0dGVybjoge3sjcmVnZXh9fScsXCJzdHJpbmcucGF0dGVybi5pbnZlcnQubmFtZVwiOid7eyNsYWJlbH19IHdpdGggdmFsdWUgXCJ7Wy5dfVwiIG1hdGNoZXMgdGhlIGludmVydGVkIHt7I25hbWV9fSBwYXR0ZXJuJyxcInN0cmluZy50cmltXCI6XCJ7eyNsYWJlbH19IG11c3Qgbm90IGhhdmUgbGVhZGluZyBvciB0cmFpbGluZyB3aGl0ZXNwYWNlXCIsXCJzdHJpbmcudXJpXCI6XCJ7eyNsYWJlbH19IG11c3QgYmUgYSB2YWxpZCB1cmlcIixcInN0cmluZy51cmlDdXN0b21TY2hlbWVcIjpcInt7I2xhYmVsfX0gbXVzdCBiZSBhIHZhbGlkIHVyaSB3aXRoIGEgc2NoZW1lIG1hdGNoaW5nIHRoZSB7eyNzY2hlbWV9fSBwYXR0ZXJuXCIsXCJzdHJpbmcudXJpUmVsYXRpdmVPbmx5XCI6XCJ7eyNsYWJlbH19IG11c3QgYmUgYSB2YWxpZCByZWxhdGl2ZSB1cmlcIixcInN0cmluZy51cHBlcmNhc2VcIjpcInt7I2xhYmVsfX0gbXVzdCBvbmx5IGNvbnRhaW4gdXBwZXJjYXNlIGNoYXJhY3RlcnNcIn19KSxwLmFkZHJlc3NPcHRpb25zPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiBlO2lmKGEodm9pZCAwPT09ZS5taW5Eb21haW5TZWdtZW50c3x8TnVtYmVyLmlzU2FmZUludGVnZXIoZS5taW5Eb21haW5TZWdtZW50cykmJmUubWluRG9tYWluU2VnbWVudHM+MCxcIm1pbkRvbWFpblNlZ21lbnRzIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyXCIpLCExPT09ZS50bGRzKXJldHVybiBlO2lmKCEwPT09ZS50bGRzfHx2b2lkIDA9PT1lLnRsZHMpcmV0dXJuIGEocC50bGRzLFwiQnVpbHQtaW4gVExEIGxpc3QgZGlzYWJsZWRcIiksT2JqZWN0LmFzc2lnbih7fSxlLHAudGxkcyk7YShcIm9iamVjdFwiPT10eXBlb2YgZS50bGRzLFwidGxkcyBtdXN0IGJlIHRydWUsIGZhbHNlLCBvciBhbiBvYmplY3RcIik7Y29uc3QgdD1lLnRsZHMuZGVueTtpZih0KXJldHVybiBBcnJheS5pc0FycmF5KHQpJiYoZT1PYmplY3QuYXNzaWduKHt9LGUse3RsZHM6e2Rlbnk6bmV3IFNldCh0KX19KSksYShlLnRsZHMuZGVueSBpbnN0YW5jZW9mIFNldCxcInRsZHMuZGVueSBtdXN0IGJlIGFuIGFycmF5LCBTZXQsIG9yIGJvb2xlYW5cIiksYSghZS50bGRzLmFsbG93LFwiQ2Fubm90IHNwZWNpZnkgYm90aCB0bGRzLmFsbG93IGFuZCB0bGRzLmRlbnkgbGlzdHNcIiksZTtjb25zdCByPWUudGxkcy5hbGxvdztyZXR1cm4gcj8hMD09PXI/KGEocC50bGRzLFwiQnVpbHQtaW4gVExEIGxpc3QgZGlzYWJsZWRcIiksT2JqZWN0LmFzc2lnbih7fSxlLHAudGxkcykpOihBcnJheS5pc0FycmF5KHIpJiYoZT1PYmplY3QuYXNzaWduKHt9LGUse3RsZHM6e2FsbG93Om5ldyBTZXQocil9fSkpLGEoZS50bGRzLmFsbG93IGluc3RhbmNlb2YgU2V0LFwidGxkcy5hbGxvdyBtdXN0IGJlIGFuIGFycmF5LCBTZXQsIG9yIGJvb2xlYW5cIiksZSk6ZX0scC5pc29EYXRlPWZ1bmN0aW9uKGUpe2lmKCFkLmlzSXNvRGF0ZShlKSlyZXR1cm4gbnVsbDtjb25zdCB0PW5ldyBEYXRlKGUpO3JldHVybiBpc05hTih0LmdldFRpbWUoKSk/bnVsbDp0LnRvSVNPU3RyaW5nKCl9LHAubGVuZ3RoPWZ1bmN0aW9uKGUsdCxyLHMsbil7cmV0dXJuIGEoIW58fCExLFwiSW52YWxpZCBlbmNvZGluZzpcIixuKSxlLiRfYWRkUnVsZSh7bmFtZTp0LG1ldGhvZDpcImxlbmd0aFwiLGFyZ3M6e2xpbWl0OnIsZW5jb2Rpbmc6bn0sb3BlcmF0b3I6c30pfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IHM9cigyNCksbj1yKDIzKSxvPXIoMjUpLGE9e25vbkFzY2lpUng6L1teXFx4MDAtXFx4N2ZdLyxlbmNvZGVyOm5ldyhzLlRleHRFbmNvZGVyfHxUZXh0RW5jb2Rlcil9O3QuYW5hbHl6ZT1mdW5jdGlvbihlLHQpe3JldHVybiBhLmVtYWlsKGUsdCl9LHQuaXNWYWxpZD1mdW5jdGlvbihlLHQpe3JldHVybiFhLmVtYWlsKGUsdCl9LGEuZW1haWw9ZnVuY3Rpb24oZSx0PXt9KXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGlucHV0OiBlbWFpbCBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKCFlKXJldHVybiBvLmNvZGUoXCJFTVBUWV9TVFJJTkdcIik7Y29uc3Qgcj0hYS5ub25Bc2NpaVJ4LnRlc3QoZSk7aWYoIXIpe2lmKCExPT09dC5hbGxvd1VuaWNvZGUpcmV0dXJuIG8uY29kZShcIkZPUkJJRERFTl9VTklDT0RFXCIpO2U9ZS5ub3JtYWxpemUoXCJORkNcIil9Y29uc3Qgcz1lLnNwbGl0KFwiQFwiKTtpZigyIT09cy5sZW5ndGgpcmV0dXJuIHMubGVuZ3RoPjI/by5jb2RlKFwiTVVMVElQTEVfQVRfQ0hBUlwiKTpvLmNvZGUoXCJNSVNTSU5HX0FUX0NIQVJcIik7Y29uc3RbaSxsXT1zO2lmKCFpKXJldHVybiBvLmNvZGUoXCJFTVBUWV9MT0NBTFwiKTtpZighdC5pZ25vcmVMZW5ndGgpe2lmKGUubGVuZ3RoPjI1NClyZXR1cm4gby5jb2RlKFwiQUREUkVTU19UT09fTE9OR1wiKTtpZihhLmVuY29kZXIuZW5jb2RlKGkpLmxlbmd0aD42NClyZXR1cm4gby5jb2RlKFwiTE9DQUxfVE9PX0xPTkdcIil9cmV0dXJuIGEubG9jYWwoaSxyKXx8bi5hbmFseXplKGwsdCl9LGEubG9jYWw9ZnVuY3Rpb24oZSx0KXtjb25zdCByPWUuc3BsaXQoXCIuXCIpO2Zvcihjb25zdCBlIG9mIHIpe2lmKCFlLmxlbmd0aClyZXR1cm4gby5jb2RlKFwiRU1QVFlfTE9DQUxfU0VHTUVOVFwiKTtpZih0KXtpZighYS5hdGV4dFJ4LnRlc3QoZSkpcmV0dXJuIG8uY29kZShcIklOVkFMSURfTE9DQUxfQ0hBUlNcIil9ZWxzZSBmb3IoY29uc3QgdCBvZiBlKXtpZihhLmF0ZXh0UngudGVzdCh0KSljb250aW51ZTtjb25zdCBlPWEuYmluYXJ5KHQpO2lmKCFhLmF0b21SeC50ZXN0KGUpKXJldHVybiBvLmNvZGUoXCJJTlZBTElEX0xPQ0FMX0NIQVJTXCIpfX19LGEuYmluYXJ5PWZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5mcm9tKGEuZW5jb2Rlci5lbmNvZGUoZSkpLm1hcChlPT5TdHJpbmcuZnJvbUNoYXJDb2RlKGUpKS5qb2luKFwiXCIpfSxhLmF0ZXh0Ung9L15bXFx3ISNcXCQlJidcXCpcXCtcXC0vPVxcP1xcXmBcXHtcXHxcXH1+XSskLyxhLmF0b21SeD1uZXcgUmVnRXhwKFtcIig/OltcXFxceGMyLVxcXFx4ZGZdW1xcXFx4ODAtXFxcXHhiZl0pXCIsXCIoPzpcXFxceGUwW1xcXFx4YTAtXFxcXHhiZl1bXFxcXHg4MC1cXFxceGJmXSl8KD86W1xcXFx4ZTEtXFxcXHhlY11bXFxcXHg4MC1cXFxceGJmXXsyfSl8KD86XFxcXHhlZFtcXFxceDgwLVxcXFx4OWZdW1xcXFx4ODAtXFxcXHhiZl0pfCg/OltcXFxceGVlLVxcXFx4ZWZdW1xcXFx4ODAtXFxcXHhiZl17Mn0pXCIsXCIoPzpcXFxceGYwW1xcXFx4OTAtXFxcXHhiZl1bXFxcXHg4MC1cXFxceGJmXXsyfSl8KD86W1xcXFx4ZjEtXFxcXHhmM11bXFxcXHg4MC1cXFxceGJmXXszfSl8KD86XFxcXHhmNFtcXFxceDgwLVxcXFx4OGZdW1xcXFx4ODAtXFxcXHhiZl17Mn0pXCJdLmpvaW4oXCJ8XCIpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IHM9cigwKSxuPXIoMjYpO3QucmVnZXg9ZnVuY3Rpb24oZT17fSl7cyh2b2lkIDA9PT1lLmNpZHJ8fFwic3RyaW5nXCI9PXR5cGVvZiBlLmNpZHIsXCJvcHRpb25zLmNpZHIgbXVzdCBiZSBhIHN0cmluZ1wiKTtjb25zdCB0PWUuY2lkcj9lLmNpZHIudG9Mb3dlckNhc2UoKTpcIm9wdGlvbmFsXCI7cyhbXCJyZXF1aXJlZFwiLFwib3B0aW9uYWxcIixcImZvcmJpZGRlblwiXS5pbmNsdWRlcyh0KSxcIm9wdGlvbnMuY2lkciBtdXN0IGJlIG9uZSBvZiByZXF1aXJlZCwgb3B0aW9uYWwsIGZvcmJpZGRlblwiKSxzKHZvaWQgMD09PWUudmVyc2lvbnx8XCJzdHJpbmdcIj09dHlwZW9mIGUudmVyc2lvbnx8QXJyYXkuaXNBcnJheShlLnZlcnNpb24pLFwib3B0aW9ucy52ZXJzaW9uIG11c3QgYmUgYSBzdHJpbmcgb3IgYW4gYXJyYXkgb2Ygc3RyaW5nXCIpO2xldCByPWUudmVyc2lvbnx8W1wiaXB2NFwiLFwiaXB2NlwiLFwiaXB2ZnV0dXJlXCJdO0FycmF5LmlzQXJyYXkocil8fChyPVtyXSkscyhyLmxlbmd0aD49MSxcIm9wdGlvbnMudmVyc2lvbiBtdXN0IGhhdmUgYXQgbGVhc3QgMSB2ZXJzaW9uIHNwZWNpZmllZFwiKTtmb3IobGV0IGU9MDtlPHIubGVuZ3RoOysrZSlzKFwic3RyaW5nXCI9PXR5cGVvZiByW2VdLFwib3B0aW9ucy52ZXJzaW9uIG11c3Qgb25seSBjb250YWluIHN0cmluZ3NcIikscltlXT1yW2VdLnRvTG93ZXJDYXNlKCkscyhbXCJpcHY0XCIsXCJpcHY2XCIsXCJpcHZmdXR1cmVcIl0uaW5jbHVkZXMocltlXSksXCJvcHRpb25zLnZlcnNpb24gY29udGFpbnMgdW5rbm93biB2ZXJzaW9uIFwiK3JbZV0rXCIgLSBtdXN0IGJlIG9uZSBvZiBpcHY0LCBpcHY2LCBpcHZmdXR1cmVcIik7cj1BcnJheS5mcm9tKG5ldyBTZXQocikpO2NvbnN0IG89ci5tYXAoZT0+e2lmKFwiZm9yYmlkZGVuXCI9PT10KXJldHVybiBuLmlwW2VdO2NvbnN0IHI9XCJcXFxcL1wiLmNvbmNhdChcImlwdjRcIj09PWU/bi5pcC52NENpZHI6bi5pcC52NkNpZHIpO3JldHVyblwicmVxdWlyZWRcIj09PXQ/XCJcIi5jb25jYXQobi5pcFtlXSkuY29uY2F0KHIpOlwiXCIuY29uY2F0KG4uaXBbZV0sXCIoPzpcIikuY29uY2F0KHIsXCIpP1wiKX0pLGE9XCIoPzpcIi5jb25jYXQoby5qb2luKFwifFwiKSxcIilcIiksaT1uZXcgUmVnRXhwKFwiXlwiLmNvbmNhdChhLFwiJFwiKSk7cmV0dXJue2NpZHI6dCx2ZXJzaW9uczpyLHJlZ2V4OmkscmF3OmF9fX0sZnVuY3Rpb24oZSx0KXt9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBzPXIoMCksbj1yKDMpLG89e307by5NYXA9Y2xhc3MgZXh0ZW5kcyBNYXB7c2xpY2UoKXtyZXR1cm4gbmV3IG8uTWFwKHRoaXMpfX0sZS5leHBvcnRzPW4uZXh0ZW5kKHt0eXBlOlwic3ltYm9sXCIsdGVybXM6e21hcDp7aW5pdDpuZXcgby5NYXB9fSxjb2VyY2U6e21ldGhvZChlLHtzY2hlbWE6dCxlcnJvcjpyfSl7Y29uc3Qgcz10LiRfdGVybXMubWFwLmdldChlKTtyZXR1cm4gcyYmKGU9cyksdC5fZmxhZ3Mub25seSYmXCJzeW1ib2xcIiE9dHlwZW9mIGU/e3ZhbHVlOmUsZXJyb3JzOnIoXCJzeW1ib2wubWFwXCIse21hcDp0LiRfdGVybXMubWFwfSl9Ont2YWx1ZTplfX19LHZhbGlkYXRlKGUse2Vycm9yOnR9KXtpZihcInN5bWJvbFwiIT10eXBlb2YgZSlyZXR1cm57dmFsdWU6ZSxlcnJvcnM6dChcInN5bWJvbC5iYXNlXCIpfX0scnVsZXM6e21hcDp7bWV0aG9kKGUpe2UmJiFlW1N5bWJvbC5pdGVyYXRvcl0mJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYoZT1PYmplY3QuZW50cmllcyhlKSkscyhlJiZlW1N5bWJvbC5pdGVyYXRvcl0sXCJJdGVyYWJsZSBtdXN0IGJlIGFuIGl0ZXJhYmxlIG9yIG9iamVjdFwiKTtjb25zdCB0PXRoaXMuY2xvbmUoKSxyPVtdO2Zvcihjb25zdCBuIG9mIGUpe3MobiYmbltTeW1ib2wuaXRlcmF0b3JdLFwiRW50cnkgbXVzdCBiZSBhbiBpdGVyYWJsZVwiKTtjb25zdFtlLG9dPW47cyhcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmXCJzeW1ib2xcIiE9dHlwZW9mIGUsXCJLZXkgbXVzdCBub3QgYmUgb2YgdHlwZSBvYmplY3QsIGZ1bmN0aW9uLCBvciBTeW1ib2xcIikscyhcInN5bWJvbFwiPT10eXBlb2YgbyxcIlZhbHVlIG11c3QgYmUgYSBTeW1ib2xcIiksdC4kX3Rlcm1zLm1hcC5zZXQoZSxvKSxyLnB1c2gobyl9cmV0dXJuIHQudmFsaWQoLi4ucil9fX0sbWFuaWZlc3Q6e2J1aWxkOihlLHQpPT4odC5tYXAmJihlPWUubWFwKHQubWFwKSksZSl9LG1lc3NhZ2VzOntcInN5bWJvbC5iYXNlXCI6XCJ7eyNsYWJlbH19IG11c3QgYmUgYSBzeW1ib2xcIixcInN5bWJvbC5tYXBcIjpcInt7I2xhYmVsfX0gbXVzdCBiZSBvbmUgb2Yge3sjbWFwfX1cIn19KX1dKX0pKTsiLCIvKipcbiAqIG1hcmtlZCAtIGEgbWFya2Rvd24gcGFyc2VyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTEtMjAyMCwgQ2hyaXN0b3BoZXIgSmVmZnJleS4gKE1JVCBMaWNlbnNlZClcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJrZWRqcy9tYXJrZWRcbiAqL1xuXG4vKipcbiAqIERPIE5PVCBFRElUIFRISVMgRklMRVxuICogVGhlIGNvZGUgaW4gdGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBmcm9tIGZpbGVzIGluIC4vc3JjL1xuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwubWFya2VkID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgICBpZiAoIW8pIHJldHVybjtcbiAgICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICAgIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICAgIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gICAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2Uobykge1xuICAgIHZhciBpID0gMDtcblxuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAobyA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkpIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4ge1xuICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICB2YWx1ZTogb1tpKytdXG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xuICAgIH1cblxuICAgIGkgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICByZXR1cm4gaS5uZXh0LmJpbmQoaSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgbW9kdWxlKSB7XG4gIFx0cmV0dXJuIG1vZHVsZSA9IHsgZXhwb3J0czoge30gfSwgZm4obW9kdWxlLCBtb2R1bGUuZXhwb3J0cyksIG1vZHVsZS5leHBvcnRzO1xuICB9XG5cbiAgdmFyIGRlZmF1bHRzID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuICAgIGZ1bmN0aW9uIGdldERlZmF1bHRzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYmFzZVVybDogbnVsbCxcbiAgICAgICAgYnJlYWtzOiBmYWxzZSxcbiAgICAgICAgZ2ZtOiB0cnVlLFxuICAgICAgICBoZWFkZXJJZHM6IHRydWUsXG4gICAgICAgIGhlYWRlclByZWZpeDogJycsXG4gICAgICAgIGhpZ2hsaWdodDogbnVsbCxcbiAgICAgICAgbGFuZ1ByZWZpeDogJ2xhbmd1YWdlLScsXG4gICAgICAgIG1hbmdsZTogdHJ1ZSxcbiAgICAgICAgcGVkYW50aWM6IGZhbHNlLFxuICAgICAgICByZW5kZXJlcjogbnVsbCxcbiAgICAgICAgc2FuaXRpemU6IGZhbHNlLFxuICAgICAgICBzYW5pdGl6ZXI6IG51bGwsXG4gICAgICAgIHNpbGVudDogZmFsc2UsXG4gICAgICAgIHNtYXJ0TGlzdHM6IGZhbHNlLFxuICAgICAgICBzbWFydHlwYW50czogZmFsc2UsXG4gICAgICAgIHRva2VuaXplcjogbnVsbCxcbiAgICAgICAgd2Fsa1Rva2VuczogbnVsbCxcbiAgICAgICAgeGh0bWw6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoYW5nZURlZmF1bHRzKG5ld0RlZmF1bHRzKSB7XG4gICAgICBtb2R1bGUuZXhwb3J0cy5kZWZhdWx0cyA9IG5ld0RlZmF1bHRzO1xuICAgIH1cblxuICAgIG1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgZGVmYXVsdHM6IGdldERlZmF1bHRzKCksXG4gICAgICBnZXREZWZhdWx0czogZ2V0RGVmYXVsdHMsXG4gICAgICBjaGFuZ2VEZWZhdWx0czogY2hhbmdlRGVmYXVsdHNcbiAgICB9O1xuICB9KTtcbiAgdmFyIGRlZmF1bHRzXzEgPSBkZWZhdWx0cy5kZWZhdWx0cztcbiAgdmFyIGRlZmF1bHRzXzIgPSBkZWZhdWx0cy5nZXREZWZhdWx0cztcbiAgdmFyIGRlZmF1bHRzXzMgPSBkZWZhdWx0cy5jaGFuZ2VEZWZhdWx0cztcblxuICAvKipcbiAgICogSGVscGVyc1xuICAgKi9cbiAgdmFyIGVzY2FwZVRlc3QgPSAvWyY8PlwiJ10vO1xuICB2YXIgZXNjYXBlUmVwbGFjZSA9IC9bJjw+XCInXS9nO1xuICB2YXIgZXNjYXBlVGVzdE5vRW5jb2RlID0gL1s8PlwiJ118Jig/ISM/XFx3KzspLztcbiAgdmFyIGVzY2FwZVJlcGxhY2VOb0VuY29kZSA9IC9bPD5cIiddfCYoPyEjP1xcdys7KS9nO1xuICB2YXIgZXNjYXBlUmVwbGFjZW1lbnRzID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7J1xuICB9O1xuXG4gIHZhciBnZXRFc2NhcGVSZXBsYWNlbWVudCA9IGZ1bmN0aW9uIGdldEVzY2FwZVJlcGxhY2VtZW50KGNoKSB7XG4gICAgcmV0dXJuIGVzY2FwZVJlcGxhY2VtZW50c1tjaF07XG4gIH07XG5cbiAgZnVuY3Rpb24gZXNjYXBlKGh0bWwsIGVuY29kZSkge1xuICAgIGlmIChlbmNvZGUpIHtcbiAgICAgIGlmIChlc2NhcGVUZXN0LnRlc3QoaHRtbCkpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwucmVwbGFjZShlc2NhcGVSZXBsYWNlLCBnZXRFc2NhcGVSZXBsYWNlbWVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChlc2NhcGVUZXN0Tm9FbmNvZGUudGVzdChodG1sKSkge1xuICAgICAgICByZXR1cm4gaHRtbC5yZXBsYWNlKGVzY2FwZVJlcGxhY2VOb0VuY29kZSwgZ2V0RXNjYXBlUmVwbGFjZW1lbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBodG1sO1xuICB9XG5cbiAgdmFyIHVuZXNjYXBlVGVzdCA9IC8mKCMoPzpcXGQrKXwoPzojeFswLTlBLUZhLWZdKyl8KD86XFx3KykpOz8vaWc7XG5cbiAgZnVuY3Rpb24gdW5lc2NhcGUoaHRtbCkge1xuICAgIC8vIGV4cGxpY2l0bHkgbWF0Y2ggZGVjaW1hbCwgaGV4LCBhbmQgbmFtZWQgSFRNTCBlbnRpdGllc1xuICAgIHJldHVybiBodG1sLnJlcGxhY2UodW5lc2NhcGVUZXN0LCBmdW5jdGlvbiAoXywgbikge1xuICAgICAgbiA9IG4udG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChuID09PSAnY29sb24nKSByZXR1cm4gJzonO1xuXG4gICAgICBpZiAobi5jaGFyQXQoMCkgPT09ICcjJykge1xuICAgICAgICByZXR1cm4gbi5jaGFyQXQoMSkgPT09ICd4JyA/IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQobi5zdWJzdHJpbmcoMiksIDE2KSkgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKCtuLnN1YnN0cmluZygxKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAnJztcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBjYXJldCA9IC8oXnxbXlxcW10pXFxeL2c7XG5cbiAgZnVuY3Rpb24gZWRpdChyZWdleCwgb3B0KSB7XG4gICAgcmVnZXggPSByZWdleC5zb3VyY2UgfHwgcmVnZXg7XG4gICAgb3B0ID0gb3B0IHx8ICcnO1xuICAgIHZhciBvYmogPSB7XG4gICAgICByZXBsYWNlOiBmdW5jdGlvbiByZXBsYWNlKG5hbWUsIHZhbCkge1xuICAgICAgICB2YWwgPSB2YWwuc291cmNlIHx8IHZhbDtcbiAgICAgICAgdmFsID0gdmFsLnJlcGxhY2UoY2FyZXQsICckMScpO1xuICAgICAgICByZWdleCA9IHJlZ2V4LnJlcGxhY2UobmFtZSwgdmFsKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH0sXG4gICAgICBnZXRSZWdleDogZnVuY3Rpb24gZ2V0UmVnZXgoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVnRXhwKHJlZ2V4LCBvcHQpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciBub25Xb3JkQW5kQ29sb25UZXN0ID0gL1teXFx3Ol0vZztcbiAgdmFyIG9yaWdpbkluZGVwZW5kZW50VXJsID0gL14kfF5bYS16XVthLXowLTkrLi1dKjp8Xls/I10vaTtcblxuICBmdW5jdGlvbiBjbGVhblVybChzYW5pdGl6ZSwgYmFzZSwgaHJlZikge1xuICAgIGlmIChzYW5pdGl6ZSkge1xuICAgICAgdmFyIHByb3Q7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHByb3QgPSBkZWNvZGVVUklDb21wb25lbnQodW5lc2NhcGUoaHJlZikpLnJlcGxhY2Uobm9uV29yZEFuZENvbG9uVGVzdCwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvdC5pbmRleE9mKCdqYXZhc2NyaXB0OicpID09PSAwIHx8IHByb3QuaW5kZXhPZigndmJzY3JpcHQ6JykgPT09IDAgfHwgcHJvdC5pbmRleE9mKCdkYXRhOicpID09PSAwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChiYXNlICYmICFvcmlnaW5JbmRlcGVuZGVudFVybC50ZXN0KGhyZWYpKSB7XG4gICAgICBocmVmID0gcmVzb2x2ZVVybChiYXNlLCBocmVmKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaHJlZiA9IGVuY29kZVVSSShocmVmKS5yZXBsYWNlKC8lMjUvZywgJyUnKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gaHJlZjtcbiAgfVxuXG4gIHZhciBiYXNlVXJscyA9IHt9O1xuICB2YXIganVzdERvbWFpbiA9IC9eW146XSs6XFwvKlteL10qJC87XG4gIHZhciBwcm90b2NvbCA9IC9eKFteOl0rOilbXFxzXFxTXSokLztcbiAgdmFyIGRvbWFpbiA9IC9eKFteOl0rOlxcLypbXi9dKilbXFxzXFxTXSokLztcblxuICBmdW5jdGlvbiByZXNvbHZlVXJsKGJhc2UsIGhyZWYpIHtcbiAgICBpZiAoIWJhc2VVcmxzWycgJyArIGJhc2VdKSB7XG4gICAgICAvLyB3ZSBjYW4gaWdub3JlIGV2ZXJ5dGhpbmcgaW4gYmFzZSBhZnRlciB0aGUgbGFzdCBzbGFzaCBvZiBpdHMgcGF0aCBjb21wb25lbnQsXG4gICAgICAvLyBidXQgd2UgbWlnaHQgbmVlZCB0byBhZGQgX3RoYXRfXG4gICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTNcbiAgICAgIGlmIChqdXN0RG9tYWluLnRlc3QoYmFzZSkpIHtcbiAgICAgICAgYmFzZVVybHNbJyAnICsgYmFzZV0gPSBiYXNlICsgJy8nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZVVybHNbJyAnICsgYmFzZV0gPSBydHJpbShiYXNlLCAnLycsIHRydWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGJhc2UgPSBiYXNlVXJsc1snICcgKyBiYXNlXTtcbiAgICB2YXIgcmVsYXRpdmVCYXNlID0gYmFzZS5pbmRleE9mKCc6JykgPT09IC0xO1xuXG4gICAgaWYgKGhyZWYuc3Vic3RyaW5nKDAsIDIpID09PSAnLy8nKSB7XG4gICAgICBpZiAocmVsYXRpdmVCYXNlKSB7XG4gICAgICAgIHJldHVybiBocmVmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmFzZS5yZXBsYWNlKHByb3RvY29sLCAnJDEnKSArIGhyZWY7XG4gICAgfSBlbHNlIGlmIChocmVmLmNoYXJBdCgwKSA9PT0gJy8nKSB7XG4gICAgICBpZiAocmVsYXRpdmVCYXNlKSB7XG4gICAgICAgIHJldHVybiBocmVmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmFzZS5yZXBsYWNlKGRvbWFpbiwgJyQxJykgKyBocmVmO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYmFzZSArIGhyZWY7XG4gICAgfVxuICB9XG5cbiAgdmFyIG5vb3BUZXN0ID0ge1xuICAgIGV4ZWM6IGZ1bmN0aW9uIG5vb3BUZXN0KCkge31cbiAgfTtcblxuICBmdW5jdGlvbiBtZXJnZShvYmopIHtcbiAgICB2YXIgaSA9IDEsXG4gICAgICAgIHRhcmdldCxcbiAgICAgICAga2V5O1xuXG4gICAgZm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRhcmdldCA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yIChrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBrZXkpKSB7XG4gICAgICAgICAgb2JqW2tleV0gPSB0YXJnZXRba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBmdW5jdGlvbiBzcGxpdENlbGxzKHRhYmxlUm93LCBjb3VudCkge1xuICAgIC8vIGVuc3VyZSB0aGF0IGV2ZXJ5IGNlbGwtZGVsaW1pdGluZyBwaXBlIGhhcyBhIHNwYWNlXG4gICAgLy8gYmVmb3JlIGl0IHRvIGRpc3Rpbmd1aXNoIGl0IGZyb20gYW4gZXNjYXBlZCBwaXBlXG4gICAgdmFyIHJvdyA9IHRhYmxlUm93LnJlcGxhY2UoL1xcfC9nLCBmdW5jdGlvbiAobWF0Y2gsIG9mZnNldCwgc3RyKSB7XG4gICAgICB2YXIgZXNjYXBlZCA9IGZhbHNlLFxuICAgICAgICAgIGN1cnIgPSBvZmZzZXQ7XG5cbiAgICAgIHdoaWxlICgtLWN1cnIgPj0gMCAmJiBzdHJbY3Vycl0gPT09ICdcXFxcJykge1xuICAgICAgICBlc2NhcGVkID0gIWVzY2FwZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChlc2NhcGVkKSB7XG4gICAgICAgIC8vIG9kZCBudW1iZXIgb2Ygc2xhc2hlcyBtZWFucyB8IGlzIGVzY2FwZWRcbiAgICAgICAgLy8gc28gd2UgbGVhdmUgaXQgYWxvbmVcbiAgICAgICAgcmV0dXJuICd8JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGFkZCBzcGFjZSBiZWZvcmUgdW5lc2NhcGVkIHxcbiAgICAgICAgcmV0dXJuICcgfCc7XG4gICAgICB9XG4gICAgfSksXG4gICAgICAgIGNlbGxzID0gcm93LnNwbGl0KC8gXFx8Lyk7XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgaWYgKGNlbGxzLmxlbmd0aCA+IGNvdW50KSB7XG4gICAgICBjZWxscy5zcGxpY2UoY291bnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aGlsZSAoY2VsbHMubGVuZ3RoIDwgY291bnQpIHtcbiAgICAgICAgY2VsbHMucHVzaCgnJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICg7IGkgPCBjZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gbGVhZGluZyBvciB0cmFpbGluZyB3aGl0ZXNwYWNlIGlzIGlnbm9yZWQgcGVyIHRoZSBnZm0gc3BlY1xuICAgICAgY2VsbHNbaV0gPSBjZWxsc1tpXS50cmltKCkucmVwbGFjZSgvXFxcXFxcfC9nLCAnfCcpO1xuICAgIH1cblxuICAgIHJldHVybiBjZWxscztcbiAgfSAvLyBSZW1vdmUgdHJhaWxpbmcgJ2Mncy4gRXF1aXZhbGVudCB0byBzdHIucmVwbGFjZSgvYyokLywgJycpLlxuICAvLyAvYyokLyBpcyB2dWxuZXJhYmxlIHRvIFJFRE9TLlxuICAvLyBpbnZlcnQ6IFJlbW92ZSBzdWZmaXggb2Ygbm9uLWMgY2hhcnMgaW5zdGVhZC4gRGVmYXVsdCBmYWxzZXkuXG5cblxuICBmdW5jdGlvbiBydHJpbShzdHIsIGMsIGludmVydCkge1xuICAgIHZhciBsID0gc3RyLmxlbmd0aDtcblxuICAgIGlmIChsID09PSAwKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSAvLyBMZW5ndGggb2Ygc3VmZml4IG1hdGNoaW5nIHRoZSBpbnZlcnQgY29uZGl0aW9uLlxuXG5cbiAgICB2YXIgc3VmZkxlbiA9IDA7IC8vIFN0ZXAgbGVmdCB1bnRpbCB3ZSBmYWlsIHRvIG1hdGNoIHRoZSBpbnZlcnQgY29uZGl0aW9uLlxuXG4gICAgd2hpbGUgKHN1ZmZMZW4gPCBsKSB7XG4gICAgICB2YXIgY3VyckNoYXIgPSBzdHIuY2hhckF0KGwgLSBzdWZmTGVuIC0gMSk7XG5cbiAgICAgIGlmIChjdXJyQ2hhciA9PT0gYyAmJiAhaW52ZXJ0KSB7XG4gICAgICAgIHN1ZmZMZW4rKztcbiAgICAgIH0gZWxzZSBpZiAoY3VyckNoYXIgIT09IGMgJiYgaW52ZXJ0KSB7XG4gICAgICAgIHN1ZmZMZW4rKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdHIuc3Vic3RyKDAsIGwgLSBzdWZmTGVuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRDbG9zaW5nQnJhY2tldChzdHIsIGIpIHtcbiAgICBpZiAoc3RyLmluZGV4T2YoYlsxXSkgPT09IC0xKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgdmFyIGwgPSBzdHIubGVuZ3RoO1xuICAgIHZhciBsZXZlbCA9IDAsXG4gICAgICAgIGkgPSAwO1xuXG4gICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChzdHJbaV0gPT09ICdcXFxcJykge1xuICAgICAgICBpKys7XG4gICAgICB9IGVsc2UgaWYgKHN0cltpXSA9PT0gYlswXSkge1xuICAgICAgICBsZXZlbCsrO1xuICAgICAgfSBlbHNlIGlmIChzdHJbaV0gPT09IGJbMV0pIHtcbiAgICAgICAgbGV2ZWwtLTtcblxuICAgICAgICBpZiAobGV2ZWwgPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja1Nhbml0aXplRGVwcmVjYXRpb24ob3B0KSB7XG4gICAgaWYgKG9wdCAmJiBvcHQuc2FuaXRpemUgJiYgIW9wdC5zaWxlbnQpIHtcbiAgICAgIGNvbnNvbGUud2FybignbWFya2VkKCk6IHNhbml0aXplIGFuZCBzYW5pdGl6ZXIgcGFyYW1ldGVycyBhcmUgZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDAuNy4wLCBzaG91bGQgbm90IGJlIHVzZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBSZWFkIG1vcmUgaGVyZTogaHR0cHM6Ly9tYXJrZWQuanMub3JnLyMvVVNJTkdfQURWQU5DRUQubWQjb3B0aW9ucycpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBoZWxwZXJzID0ge1xuICAgIGVzY2FwZTogZXNjYXBlLFxuICAgIHVuZXNjYXBlOiB1bmVzY2FwZSxcbiAgICBlZGl0OiBlZGl0LFxuICAgIGNsZWFuVXJsOiBjbGVhblVybCxcbiAgICByZXNvbHZlVXJsOiByZXNvbHZlVXJsLFxuICAgIG5vb3BUZXN0OiBub29wVGVzdCxcbiAgICBtZXJnZTogbWVyZ2UsXG4gICAgc3BsaXRDZWxsczogc3BsaXRDZWxscyxcbiAgICBydHJpbTogcnRyaW0sXG4gICAgZmluZENsb3NpbmdCcmFja2V0OiBmaW5kQ2xvc2luZ0JyYWNrZXQsXG4gICAgY2hlY2tTYW5pdGl6ZURlcHJlY2F0aW9uOiBjaGVja1Nhbml0aXplRGVwcmVjYXRpb25cbiAgfTtcblxuICB2YXIgZGVmYXVsdHMkMSA9IGRlZmF1bHRzLmRlZmF1bHRzO1xuICB2YXIgcnRyaW0kMSA9IGhlbHBlcnMucnRyaW0sXG4gICAgICBzcGxpdENlbGxzJDEgPSBoZWxwZXJzLnNwbGl0Q2VsbHMsXG4gICAgICBfZXNjYXBlID0gaGVscGVycy5lc2NhcGUsXG4gICAgICBmaW5kQ2xvc2luZ0JyYWNrZXQkMSA9IGhlbHBlcnMuZmluZENsb3NpbmdCcmFja2V0O1xuXG4gIGZ1bmN0aW9uIG91dHB1dExpbmsoY2FwLCBsaW5rLCByYXcpIHtcbiAgICB2YXIgaHJlZiA9IGxpbmsuaHJlZjtcbiAgICB2YXIgdGl0bGUgPSBsaW5rLnRpdGxlID8gX2VzY2FwZShsaW5rLnRpdGxlKSA6IG51bGw7XG5cbiAgICBpZiAoY2FwWzBdLmNoYXJBdCgwKSAhPT0gJyEnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnbGluaycsXG4gICAgICAgIHJhdzogcmF3LFxuICAgICAgICBocmVmOiBocmVmLFxuICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgIHRleHQ6IGNhcFsxXVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgICAgcmF3OiByYXcsXG4gICAgICAgIHRleHQ6IF9lc2NhcGUoY2FwWzFdKSxcbiAgICAgICAgaHJlZjogaHJlZixcbiAgICAgICAgdGl0bGU6IHRpdGxlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluZGVudENvZGVDb21wZW5zYXRpb24ocmF3LCB0ZXh0KSB7XG4gICAgdmFyIG1hdGNoSW5kZW50VG9Db2RlID0gcmF3Lm1hdGNoKC9eKFxccyspKD86YGBgKS8pO1xuXG4gICAgaWYgKG1hdGNoSW5kZW50VG9Db2RlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG5cbiAgICB2YXIgaW5kZW50VG9Db2RlID0gbWF0Y2hJbmRlbnRUb0NvZGVbMV07XG4gICAgcmV0dXJuIHRleHQuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgdmFyIG1hdGNoSW5kZW50SW5Ob2RlID0gbm9kZS5tYXRjaCgvXlxccysvKTtcblxuICAgICAgaWYgKG1hdGNoSW5kZW50SW5Ob2RlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZW50SW5Ob2RlID0gbWF0Y2hJbmRlbnRJbk5vZGVbMF07XG5cbiAgICAgIGlmIChpbmRlbnRJbk5vZGUubGVuZ3RoID49IGluZGVudFRvQ29kZS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuc2xpY2UoaW5kZW50VG9Db2RlLmxlbmd0aCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0pLmpvaW4oJ1xcbicpO1xuICB9XG4gIC8qKlxuICAgKiBUb2tlbml6ZXJcbiAgICovXG5cblxuICB2YXIgVG9rZW5pemVyXzEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRva2VuaXplcihvcHRpb25zKSB7XG4gICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IGRlZmF1bHRzJDE7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFRva2VuaXplci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uc3BhY2UgPSBmdW5jdGlvbiBzcGFjZShzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLm5ld2xpbmUuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIGlmIChjYXBbMF0ubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnc3BhY2UnLFxuICAgICAgICAgICAgcmF3OiBjYXBbMF1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByYXc6ICdcXG4nXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5jb2RlID0gZnVuY3Rpb24gY29kZShzcmMsIHRva2Vucykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2suY29kZS5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgdmFyIGxhc3RUb2tlbiA9IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV07IC8vIEFuIGluZGVudGVkIGNvZGUgYmxvY2sgY2Fubm90IGludGVycnVwdCBhIHBhcmFncmFwaC5cblxuICAgICAgICBpZiAobGFzdFRva2VuICYmIGxhc3RUb2tlbi50eXBlID09PSAncGFyYWdyYXBoJykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgIHRleHQ6IGNhcFswXS50cmltUmlnaHQoKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGV4dCA9IGNhcFswXS5yZXBsYWNlKC9eIHs0fS9nbSwgJycpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdjb2RlJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICBjb2RlQmxvY2tTdHlsZTogJ2luZGVudGVkJyxcbiAgICAgICAgICB0ZXh0OiAhdGhpcy5vcHRpb25zLnBlZGFudGljID8gcnRyaW0kMSh0ZXh0LCAnXFxuJykgOiB0ZXh0XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5mZW5jZXMgPSBmdW5jdGlvbiBmZW5jZXMoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5mZW5jZXMuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHZhciByYXcgPSBjYXBbMF07XG4gICAgICAgIHZhciB0ZXh0ID0gaW5kZW50Q29kZUNvbXBlbnNhdGlvbihyYXcsIGNhcFszXSB8fCAnJyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2NvZGUnLFxuICAgICAgICAgIHJhdzogcmF3LFxuICAgICAgICAgIGxhbmc6IGNhcFsyXSA/IGNhcFsyXS50cmltKCkgOiBjYXBbMl0sXG4gICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uaGVhZGluZyA9IGZ1bmN0aW9uIGhlYWRpbmcoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5oZWFkaW5nLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICBkZXB0aDogY2FwWzFdLmxlbmd0aCxcbiAgICAgICAgICB0ZXh0OiBjYXBbMl1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLm5wdGFibGUgPSBmdW5jdGlvbiBucHRhYmxlKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2subnB0YWJsZS5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB7XG4gICAgICAgICAgdHlwZTogJ3RhYmxlJyxcbiAgICAgICAgICBoZWFkZXI6IHNwbGl0Q2VsbHMkMShjYXBbMV0ucmVwbGFjZSgvXiAqfCAqXFx8ICokL2csICcnKSksXG4gICAgICAgICAgYWxpZ246IGNhcFsyXS5yZXBsYWNlKC9eICp8XFx8ICokL2csICcnKS5zcGxpdCgvICpcXHwgKi8pLFxuICAgICAgICAgIGNlbGxzOiBjYXBbM10gPyBjYXBbM10ucmVwbGFjZSgvXFxuJC8sICcnKS5zcGxpdCgnXFxuJykgOiBbXSxcbiAgICAgICAgICByYXc6IGNhcFswXVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpdGVtLmhlYWRlci5sZW5ndGggPT09IGl0ZW0uYWxpZ24ubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGwgPSBpdGVtLmFsaWduLmxlbmd0aDtcbiAgICAgICAgICB2YXIgaTtcblxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgvXiAqLSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAncmlnaHQnO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2NlbnRlcic7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSsgKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdsZWZ0JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGwgPSBpdGVtLmNlbGxzLmxlbmd0aDtcblxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGl0ZW0uY2VsbHNbaV0gPSBzcGxpdENlbGxzJDEoaXRlbS5jZWxsc1tpXSwgaXRlbS5oZWFkZXIubGVuZ3RoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uaHIgPSBmdW5jdGlvbiBocihzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmhyLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdocicsXG4gICAgICAgICAgcmF3OiBjYXBbMF1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmJsb2NrcXVvdGUgPSBmdW5jdGlvbiBibG9ja3F1b3RlKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2suYmxvY2txdW90ZS5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgdmFyIHRleHQgPSBjYXBbMF0ucmVwbGFjZSgvXiAqPiA/L2dtLCAnJyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2Jsb2NrcXVvdGUnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmxpc3QgPSBmdW5jdGlvbiBsaXN0KHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2subGlzdC5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgdmFyIHJhdyA9IGNhcFswXTtcbiAgICAgICAgdmFyIGJ1bGwgPSBjYXBbMl07XG4gICAgICAgIHZhciBpc29yZGVyZWQgPSBidWxsLmxlbmd0aCA+IDE7XG4gICAgICAgIHZhciBsaXN0ID0ge1xuICAgICAgICAgIHR5cGU6ICdsaXN0JyxcbiAgICAgICAgICByYXc6IHJhdyxcbiAgICAgICAgICBvcmRlcmVkOiBpc29yZGVyZWQsXG4gICAgICAgICAgc3RhcnQ6IGlzb3JkZXJlZCA/ICtidWxsIDogJycsXG4gICAgICAgICAgbG9vc2U6IGZhbHNlLFxuICAgICAgICAgIGl0ZW1zOiBbXVxuICAgICAgICB9OyAvLyBHZXQgZWFjaCB0b3AtbGV2ZWwgaXRlbS5cblxuICAgICAgICB2YXIgaXRlbU1hdGNoID0gY2FwWzBdLm1hdGNoKHRoaXMucnVsZXMuYmxvY2suaXRlbSk7XG4gICAgICAgIHZhciBuZXh0ID0gZmFsc2UsXG4gICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgc3BhY2UsXG4gICAgICAgICAgICBiLFxuICAgICAgICAgICAgYWRkQmFjayxcbiAgICAgICAgICAgIGxvb3NlLFxuICAgICAgICAgICAgaXN0YXNrLFxuICAgICAgICAgICAgaXNjaGVja2VkO1xuICAgICAgICB2YXIgbCA9IGl0ZW1NYXRjaC5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBpdGVtID0gaXRlbU1hdGNoW2ldO1xuICAgICAgICAgIHJhdyA9IGl0ZW07IC8vIFJlbW92ZSB0aGUgbGlzdCBpdGVtJ3MgYnVsbGV0XG4gICAgICAgICAgLy8gc28gaXQgaXMgc2VlbiBhcyB0aGUgbmV4dCB0b2tlbi5cblxuICAgICAgICAgIHNwYWNlID0gaXRlbS5sZW5ndGg7XG4gICAgICAgICAgaXRlbSA9IGl0ZW0ucmVwbGFjZSgvXiAqKFsqKy1dfFxcZCtcXC4pICovLCAnJyk7IC8vIE91dGRlbnQgd2hhdGV2ZXIgdGhlXG4gICAgICAgICAgLy8gbGlzdCBpdGVtIGNvbnRhaW5zLiBIYWNreS5cblxuICAgICAgICAgIGlmICh+aXRlbS5pbmRleE9mKCdcXG4gJykpIHtcbiAgICAgICAgICAgIHNwYWNlIC09IGl0ZW0ubGVuZ3RoO1xuICAgICAgICAgICAgaXRlbSA9ICF0aGlzLm9wdGlvbnMucGVkYW50aWMgPyBpdGVtLnJlcGxhY2UobmV3IFJlZ0V4cCgnXiB7MSwnICsgc3BhY2UgKyAnfScsICdnbScpLCAnJykgOiBpdGVtLnJlcGxhY2UoL14gezEsNH0vZ20sICcnKTtcbiAgICAgICAgICB9IC8vIERldGVybWluZSB3aGV0aGVyIHRoZSBuZXh0IGxpc3QgaXRlbSBiZWxvbmdzIGhlcmUuXG4gICAgICAgICAgLy8gQmFja3BlZGFsIGlmIGl0IGRvZXMgbm90IGJlbG9uZyBpbiB0aGlzIGxpc3QuXG5cblxuICAgICAgICAgIGlmIChpICE9PSBsIC0gMSkge1xuICAgICAgICAgICAgYiA9IHRoaXMucnVsZXMuYmxvY2suYnVsbGV0LmV4ZWMoaXRlbU1hdGNoW2kgKyAxXSlbMF07XG5cbiAgICAgICAgICAgIGlmIChidWxsLmxlbmd0aCA+IDEgPyBiLmxlbmd0aCA9PT0gMSA6IGIubGVuZ3RoID4gMSB8fCB0aGlzLm9wdGlvbnMuc21hcnRMaXN0cyAmJiBiICE9PSBidWxsKSB7XG4gICAgICAgICAgICAgIGFkZEJhY2sgPSBpdGVtTWF0Y2guc2xpY2UoaSArIDEpLmpvaW4oJ1xcbicpO1xuICAgICAgICAgICAgICBsaXN0LnJhdyA9IGxpc3QucmF3LnN1YnN0cmluZygwLCBsaXN0LnJhdy5sZW5ndGggLSBhZGRCYWNrLmxlbmd0aCk7XG4gICAgICAgICAgICAgIGkgPSBsIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIERldGVybWluZSB3aGV0aGVyIGl0ZW0gaXMgbG9vc2Ugb3Igbm90LlxuICAgICAgICAgIC8vIFVzZTogLyhefFxcbikoPyEgKVteXFxuXStcXG5cXG4oPyFcXHMqJCkvXG4gICAgICAgICAgLy8gZm9yIGRpc2NvdW50IGJlaGF2aW9yLlxuXG5cbiAgICAgICAgICBsb29zZSA9IG5leHQgfHwgL1xcblxcbig/IVxccyokKS8udGVzdChpdGVtKTtcblxuICAgICAgICAgIGlmIChpICE9PSBsIC0gMSkge1xuICAgICAgICAgICAgbmV4dCA9IGl0ZW0uY2hhckF0KGl0ZW0ubGVuZ3RoIC0gMSkgPT09ICdcXG4nO1xuICAgICAgICAgICAgaWYgKCFsb29zZSkgbG9vc2UgPSBuZXh0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChsb29zZSkge1xuICAgICAgICAgICAgbGlzdC5sb29zZSA9IHRydWU7XG4gICAgICAgICAgfSAvLyBDaGVjayBmb3IgdGFzayBsaXN0IGl0ZW1zXG5cblxuICAgICAgICAgIGlzdGFzayA9IC9eXFxbWyB4WF1cXF0gLy50ZXN0KGl0ZW0pO1xuICAgICAgICAgIGlzY2hlY2tlZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChpc3Rhc2spIHtcbiAgICAgICAgICAgIGlzY2hlY2tlZCA9IGl0ZW1bMV0gIT09ICcgJztcbiAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnJlcGxhY2UoL15cXFtbIHhYXVxcXSArLywgJycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3QuaXRlbXMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiAnbGlzdF9pdGVtJyxcbiAgICAgICAgICAgIHJhdzogcmF3LFxuICAgICAgICAgICAgdGFzazogaXN0YXNrLFxuICAgICAgICAgICAgY2hlY2tlZDogaXNjaGVja2VkLFxuICAgICAgICAgICAgbG9vc2U6IGxvb3NlLFxuICAgICAgICAgICAgdGV4dDogaXRlbVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5odG1sID0gZnVuY3Rpb24gaHRtbChzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmh0bWwuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnNhbml0aXplID8gJ3BhcmFncmFwaCcgOiAnaHRtbCcsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgcHJlOiAhdGhpcy5vcHRpb25zLnNhbml0aXplciAmJiAoY2FwWzFdID09PSAncHJlJyB8fCBjYXBbMV0gPT09ICdzY3JpcHQnIHx8IGNhcFsxXSA9PT0gJ3N0eWxlJyksXG4gICAgICAgICAgdGV4dDogdGhpcy5vcHRpb25zLnNhbml0aXplID8gdGhpcy5vcHRpb25zLnNhbml0aXplciA/IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIoY2FwWzBdKSA6IF9lc2NhcGUoY2FwWzBdKSA6IGNhcFswXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uZGVmID0gZnVuY3Rpb24gZGVmKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2suZGVmLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICBpZiAoY2FwWzNdKSBjYXBbM10gPSBjYXBbM10uc3Vic3RyaW5nKDEsIGNhcFszXS5sZW5ndGggLSAxKTtcbiAgICAgICAgdmFyIHRhZyA9IGNhcFsxXS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJyAnKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0YWc6IHRhZyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICBocmVmOiBjYXBbMl0sXG4gICAgICAgICAgdGl0bGU6IGNhcFszXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8udGFibGUgPSBmdW5jdGlvbiB0YWJsZShzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLnRhYmxlLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICB0eXBlOiAndGFibGUnLFxuICAgICAgICAgIGhlYWRlcjogc3BsaXRDZWxscyQxKGNhcFsxXS5yZXBsYWNlKC9eICp8ICpcXHwgKiQvZywgJycpKSxcbiAgICAgICAgICBhbGlnbjogY2FwWzJdLnJlcGxhY2UoL14gKnxcXHwgKiQvZywgJycpLnNwbGl0KC8gKlxcfCAqLyksXG4gICAgICAgICAgY2VsbHM6IGNhcFszXSA/IGNhcFszXS5yZXBsYWNlKC9cXG4kLywgJycpLnNwbGl0KCdcXG4nKSA6IFtdXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGl0ZW0uaGVhZGVyLmxlbmd0aCA9PT0gaXRlbS5hbGlnbi5sZW5ndGgpIHtcbiAgICAgICAgICBpdGVtLnJhdyA9IGNhcFswXTtcbiAgICAgICAgICB2YXIgbCA9IGl0ZW0uYWxpZ24ubGVuZ3RoO1xuICAgICAgICAgIHZhciBpO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKC9eICotKzogKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdyaWdodCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAnY2VudGVyJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoL14gKjotKyAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2xlZnQnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbCA9IGl0ZW0uY2VsbHMubGVuZ3RoO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaXRlbS5jZWxsc1tpXSA9IHNwbGl0Q2VsbHMkMShpdGVtLmNlbGxzW2ldLnJlcGxhY2UoL14gKlxcfCAqfCAqXFx8ICokL2csICcnKSwgaXRlbS5oZWFkZXIubGVuZ3RoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8ubGhlYWRpbmcgPSBmdW5jdGlvbiBsaGVhZGluZyhzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmxoZWFkaW5nLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICBkZXB0aDogY2FwWzJdLmNoYXJBdCgwKSA9PT0gJz0nID8gMSA6IDIsXG4gICAgICAgICAgdGV4dDogY2FwWzFdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5wYXJhZ3JhcGggPSBmdW5jdGlvbiBwYXJhZ3JhcGgoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5wYXJhZ3JhcGguZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ3BhcmFncmFwaCcsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgdGV4dDogY2FwWzFdLmNoYXJBdChjYXBbMV0ubGVuZ3RoIC0gMSkgPT09ICdcXG4nID8gY2FwWzFdLnNsaWNlKDAsIC0xKSA6IGNhcFsxXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8udGV4dCA9IGZ1bmN0aW9uIHRleHQoc3JjLCB0b2tlbnMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLnRleHQuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHZhciBsYXN0VG9rZW4gPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmIChsYXN0VG9rZW4gJiYgbGFzdFRva2VuLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgIHRleHQ6IGNhcFswXVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICB0ZXh0OiBjYXBbMF1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmVzY2FwZSA9IGZ1bmN0aW9uIGVzY2FwZShzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5lc2NhcGUuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2VzY2FwZScsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgdGV4dDogX2VzY2FwZShjYXBbMV0pXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by50YWcgPSBmdW5jdGlvbiB0YWcoc3JjLCBpbkxpbmssIGluUmF3QmxvY2spIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS50YWcuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIGlmICghaW5MaW5rICYmIC9ePGEgL2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgICAgaW5MaW5rID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChpbkxpbmsgJiYgL148XFwvYT4vaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgICBpbkxpbmsgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaW5SYXdCbG9jayAmJiAvXjwocHJlfGNvZGV8a2JkfHNjcmlwdCkoXFxzfD4pL2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgICAgaW5SYXdCbG9jayA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5SYXdCbG9jayAmJiAvXjxcXC8ocHJlfGNvZGV8a2JkfHNjcmlwdCkoXFxzfD4pL2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgICAgaW5SYXdCbG9jayA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMuc2FuaXRpemUgPyAndGV4dCcgOiAnaHRtbCcsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgaW5MaW5rOiBpbkxpbmssXG4gICAgICAgICAgaW5SYXdCbG9jazogaW5SYXdCbG9jayxcbiAgICAgICAgICB0ZXh0OiB0aGlzLm9wdGlvbnMuc2FuaXRpemUgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyID8gdGhpcy5vcHRpb25zLnNhbml0aXplcihjYXBbMF0pIDogX2VzY2FwZShjYXBbMF0pIDogY2FwWzBdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5saW5rID0gZnVuY3Rpb24gbGluayhzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5saW5rLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICB2YXIgbGFzdFBhcmVuSW5kZXggPSBmaW5kQ2xvc2luZ0JyYWNrZXQkMShjYXBbMl0sICcoKScpO1xuXG4gICAgICAgIGlmIChsYXN0UGFyZW5JbmRleCA+IC0xKSB7XG4gICAgICAgICAgdmFyIHN0YXJ0ID0gY2FwWzBdLmluZGV4T2YoJyEnKSA9PT0gMCA/IDUgOiA0O1xuICAgICAgICAgIHZhciBsaW5rTGVuID0gc3RhcnQgKyBjYXBbMV0ubGVuZ3RoICsgbGFzdFBhcmVuSW5kZXg7XG4gICAgICAgICAgY2FwWzJdID0gY2FwWzJdLnN1YnN0cmluZygwLCBsYXN0UGFyZW5JbmRleCk7XG4gICAgICAgICAgY2FwWzBdID0gY2FwWzBdLnN1YnN0cmluZygwLCBsaW5rTGVuKS50cmltKCk7XG4gICAgICAgICAgY2FwWzNdID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaHJlZiA9IGNhcFsyXTtcbiAgICAgICAgdmFyIHRpdGxlID0gJyc7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYykge1xuICAgICAgICAgIHZhciBsaW5rID0gL14oW14nXCJdKlteXFxzXSlcXHMrKFsnXCJdKSguKilcXDIvLmV4ZWMoaHJlZik7XG5cbiAgICAgICAgICBpZiAobGluaykge1xuICAgICAgICAgICAgaHJlZiA9IGxpbmtbMV07XG4gICAgICAgICAgICB0aXRsZSA9IGxpbmtbM107XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpdGxlID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRpdGxlID0gY2FwWzNdID8gY2FwWzNdLnNsaWNlKDEsIC0xKSA6ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaHJlZiA9IGhyZWYudHJpbSgpLnJlcGxhY2UoL148KFtcXHNcXFNdKik+JC8sICckMScpO1xuICAgICAgICB2YXIgdG9rZW4gPSBvdXRwdXRMaW5rKGNhcCwge1xuICAgICAgICAgIGhyZWY6IGhyZWYgPyBocmVmLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuX2VzY2FwZXMsICckMScpIDogaHJlZixcbiAgICAgICAgICB0aXRsZTogdGl0bGUgPyB0aXRsZS5yZXBsYWNlKHRoaXMucnVsZXMuaW5saW5lLl9lc2NhcGVzLCAnJDEnKSA6IHRpdGxlXG4gICAgICAgIH0sIGNhcFswXSk7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnJlZmxpbmsgPSBmdW5jdGlvbiByZWZsaW5rKHNyYywgbGlua3MpIHtcbiAgICAgIHZhciBjYXA7XG5cbiAgICAgIGlmICgoY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUucmVmbGluay5leGVjKHNyYykpIHx8IChjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5ub2xpbmsuZXhlYyhzcmMpKSkge1xuICAgICAgICB2YXIgbGluayA9IChjYXBbMl0gfHwgY2FwWzFdKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gICAgICAgIGxpbmsgPSBsaW5rc1tsaW5rLnRvTG93ZXJDYXNlKCldO1xuXG4gICAgICAgIGlmICghbGluayB8fCAhbGluay5ocmVmKSB7XG4gICAgICAgICAgdmFyIHRleHQgPSBjYXBbMF0uY2hhckF0KDApO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICByYXc6IHRleHQsXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b2tlbiA9IG91dHB1dExpbmsoY2FwLCBsaW5rLCBjYXBbMF0pO1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5zdHJvbmcgPSBmdW5jdGlvbiBzdHJvbmcoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuc3Ryb25nLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdzdHJvbmcnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIHRleHQ6IGNhcFs0XSB8fCBjYXBbM10gfHwgY2FwWzJdIHx8IGNhcFsxXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uZW0gPSBmdW5jdGlvbiBlbShzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5lbS5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnZW0nLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIHRleHQ6IGNhcFs2XSB8fCBjYXBbNV0gfHwgY2FwWzRdIHx8IGNhcFszXSB8fCBjYXBbMl0gfHwgY2FwWzFdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5jb2Rlc3BhbiA9IGZ1bmN0aW9uIGNvZGVzcGFuKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmNvZGUuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gY2FwWzJdLnJlcGxhY2UoL1xcbi9nLCAnICcpO1xuICAgICAgICB2YXIgaGFzTm9uU3BhY2VDaGFycyA9IC9bXiBdLy50ZXN0KHRleHQpO1xuICAgICAgICB2YXIgaGFzU3BhY2VDaGFyc09uQm90aEVuZHMgPSB0ZXh0LnN0YXJ0c1dpdGgoJyAnKSAmJiB0ZXh0LmVuZHNXaXRoKCcgJyk7XG5cbiAgICAgICAgaWYgKGhhc05vblNwYWNlQ2hhcnMgJiYgaGFzU3BhY2VDaGFyc09uQm90aEVuZHMpIHtcbiAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMSwgdGV4dC5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRleHQgPSBfZXNjYXBlKHRleHQsIHRydWUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdjb2Rlc3BhbicsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uYnIgPSBmdW5jdGlvbiBicihzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5ici5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnYnInLFxuICAgICAgICAgIHJhdzogY2FwWzBdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5kZWwgPSBmdW5jdGlvbiBkZWwoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuZGVsLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdkZWwnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIHRleHQ6IGNhcFsxXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uYXV0b2xpbmsgPSBmdW5jdGlvbiBhdXRvbGluayhzcmMsIG1hbmdsZSkge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmF1dG9saW5rLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICB2YXIgdGV4dCwgaHJlZjtcblxuICAgICAgICBpZiAoY2FwWzJdID09PSAnQCcpIHtcbiAgICAgICAgICB0ZXh0ID0gX2VzY2FwZSh0aGlzLm9wdGlvbnMubWFuZ2xlID8gbWFuZ2xlKGNhcFsxXSkgOiBjYXBbMV0pO1xuICAgICAgICAgIGhyZWYgPSAnbWFpbHRvOicgKyB0ZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRleHQgPSBfZXNjYXBlKGNhcFsxXSk7XG4gICAgICAgICAgaHJlZiA9IHRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdsaW5rJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgIGhyZWY6IGhyZWYsXG4gICAgICAgICAgdG9rZW5zOiBbe1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgcmF3OiB0ZXh0LFxuICAgICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICAgIH1dXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by51cmwgPSBmdW5jdGlvbiB1cmwoc3JjLCBtYW5nbGUpIHtcbiAgICAgIHZhciBjYXA7XG5cbiAgICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS51cmwuZXhlYyhzcmMpKSB7XG4gICAgICAgIHZhciB0ZXh0LCBocmVmO1xuXG4gICAgICAgIGlmIChjYXBbMl0gPT09ICdAJykge1xuICAgICAgICAgIHRleHQgPSBfZXNjYXBlKHRoaXMub3B0aW9ucy5tYW5nbGUgPyBtYW5nbGUoY2FwWzBdKSA6IGNhcFswXSk7XG4gICAgICAgICAgaHJlZiA9ICdtYWlsdG86JyArIHRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZG8gZXh0ZW5kZWQgYXV0b2xpbmsgcGF0aCB2YWxpZGF0aW9uXG4gICAgICAgICAgdmFyIHByZXZDYXBaZXJvO1xuXG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgcHJldkNhcFplcm8gPSBjYXBbMF07XG4gICAgICAgICAgICBjYXBbMF0gPSB0aGlzLnJ1bGVzLmlubGluZS5fYmFja3BlZGFsLmV4ZWMoY2FwWzBdKVswXTtcbiAgICAgICAgICB9IHdoaWxlIChwcmV2Q2FwWmVybyAhPT0gY2FwWzBdKTtcblxuICAgICAgICAgIHRleHQgPSBfZXNjYXBlKGNhcFswXSk7XG5cbiAgICAgICAgICBpZiAoY2FwWzFdID09PSAnd3d3LicpIHtcbiAgICAgICAgICAgIGhyZWYgPSAnaHR0cDovLycgKyB0ZXh0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBocmVmID0gdGV4dDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdsaW5rJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgIGhyZWY6IGhyZWYsXG4gICAgICAgICAgdG9rZW5zOiBbe1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgcmF3OiB0ZXh0LFxuICAgICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICAgIH1dXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5pbmxpbmVUZXh0ID0gZnVuY3Rpb24gaW5saW5lVGV4dChzcmMsIGluUmF3QmxvY2ssIHNtYXJ0eXBhbnRzKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUudGV4dC5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgdmFyIHRleHQ7XG5cbiAgICAgICAgaWYgKGluUmF3QmxvY2spIHtcbiAgICAgICAgICB0ZXh0ID0gdGhpcy5vcHRpb25zLnNhbml0aXplID8gdGhpcy5vcHRpb25zLnNhbml0aXplciA/IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIoY2FwWzBdKSA6IF9lc2NhcGUoY2FwWzBdKSA6IGNhcFswXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZXh0ID0gX2VzY2FwZSh0aGlzLm9wdGlvbnMuc21hcnR5cGFudHMgPyBzbWFydHlwYW50cyhjYXBbMF0pIDogY2FwWzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIFRva2VuaXplcjtcbiAgfSgpO1xuXG4gIHZhciBub29wVGVzdCQxID0gaGVscGVycy5ub29wVGVzdCxcbiAgICAgIGVkaXQkMSA9IGhlbHBlcnMuZWRpdCxcbiAgICAgIG1lcmdlJDEgPSBoZWxwZXJzLm1lcmdlO1xuICAvKipcbiAgICogQmxvY2stTGV2ZWwgR3JhbW1hclxuICAgKi9cblxuICB2YXIgYmxvY2sgPSB7XG4gICAgbmV3bGluZTogL15cXG4rLyxcbiAgICBjb2RlOiAvXiggezR9W15cXG5dK1xcbiopKy8sXG4gICAgZmVuY2VzOiAvXiB7MCwzfShgezMsfSg/PVteYFxcbl0qXFxuKXx+ezMsfSkoW15cXG5dKilcXG4oPzp8KFtcXHNcXFNdKj8pXFxuKSg/OiB7MCwzfVxcMVt+YF0qICooPzpcXG4rfCQpfCQpLyxcbiAgICBocjogL14gezAsM30oKD86LSAqKXszLH18KD86XyAqKXszLH18KD86XFwqICopezMsfSkoPzpcXG4rfCQpLyxcbiAgICBoZWFkaW5nOiAvXiB7MCwzfSgjezEsNn0pICsoW15cXG5dKj8pKD86ICsjKyk/ICooPzpcXG4rfCQpLyxcbiAgICBibG9ja3F1b3RlOiAvXiggezAsM30+ID8ocGFyYWdyYXBofFteXFxuXSopKD86XFxufCQpKSsvLFxuICAgIGxpc3Q6IC9eKCB7MCwzfSkoYnVsbCkgW1xcc1xcU10rPyg/OmhyfGRlZnxcXG57Mix9KD8hICkoPyFcXDFidWxsIClcXG4qfFxccyokKS8sXG4gICAgaHRtbDogJ14gezAsM30oPzonIC8vIG9wdGlvbmFsIGluZGVudGF0aW9uXG4gICAgKyAnPChzY3JpcHR8cHJlfHN0eWxlKVtcXFxccz5dW1xcXFxzXFxcXFNdKj8oPzo8L1xcXFwxPlteXFxcXG5dKlxcXFxuK3wkKScgLy8gKDEpXG4gICAgKyAnfGNvbW1lbnRbXlxcXFxuXSooXFxcXG4rfCQpJyAvLyAoMilcbiAgICArICd8PFxcXFw/W1xcXFxzXFxcXFNdKj9cXFxcPz5cXFxcbionIC8vICgzKVxuICAgICsgJ3w8IVtBLVpdW1xcXFxzXFxcXFNdKj8+XFxcXG4qJyAvLyAoNClcbiAgICArICd8PCFcXFxcW0NEQVRBXFxcXFtbXFxcXHNcXFxcU10qP1xcXFxdXFxcXF0+XFxcXG4qJyAvLyAoNSlcbiAgICArICd8PC8/KHRhZykoPzogK3xcXFxcbnwvPz4pW1xcXFxzXFxcXFNdKj8oPzpcXFxcbnsyLH18JCknIC8vICg2KVxuICAgICsgJ3w8KD8hc2NyaXB0fHByZXxzdHlsZSkoW2Etel1bXFxcXHctXSopKD86YXR0cmlidXRlKSo/ICovPz4oPz1bIFxcXFx0XSooPzpcXFxcbnwkKSlbXFxcXHNcXFxcU10qPyg/OlxcXFxuezIsfXwkKScgLy8gKDcpIG9wZW4gdGFnXG4gICAgKyAnfDwvKD8hc2NyaXB0fHByZXxzdHlsZSlbYS16XVtcXFxcdy1dKlxcXFxzKj4oPz1bIFxcXFx0XSooPzpcXFxcbnwkKSlbXFxcXHNcXFxcU10qPyg/OlxcXFxuezIsfXwkKScgLy8gKDcpIGNsb3NpbmcgdGFnXG4gICAgKyAnKScsXG4gICAgZGVmOiAvXiB7MCwzfVxcWyhsYWJlbClcXF06ICpcXG4/ICo8PyhbXlxccz5dKyk+Pyg/Oig/OiArXFxuPyAqfCAqXFxuICopKHRpdGxlKSk/ICooPzpcXG4rfCQpLyxcbiAgICBucHRhYmxlOiBub29wVGVzdCQxLFxuICAgIHRhYmxlOiBub29wVGVzdCQxLFxuICAgIGxoZWFkaW5nOiAvXihbXlxcbl0rKVxcbiB7MCwzfSg9K3wtKykgKig/Olxcbit8JCkvLFxuICAgIC8vIHJlZ2V4IHRlbXBsYXRlLCBwbGFjZWhvbGRlcnMgd2lsbCBiZSByZXBsYWNlZCBhY2NvcmRpbmcgdG8gZGlmZmVyZW50IHBhcmFncmFwaFxuICAgIC8vIGludGVycnVwdGlvbiBydWxlcyBvZiBjb21tb25tYXJrIGFuZCB0aGUgb3JpZ2luYWwgbWFya2Rvd24gc3BlYzpcbiAgICBfcGFyYWdyYXBoOiAvXihbXlxcbl0rKD86XFxuKD8haHJ8aGVhZGluZ3xsaGVhZGluZ3xibG9ja3F1b3RlfGZlbmNlc3xsaXN0fGh0bWwpW15cXG5dKykqKS8sXG4gICAgdGV4dDogL15bXlxcbl0rL1xuICB9O1xuICBibG9jay5fbGFiZWwgPSAvKD8hXFxzKlxcXSkoPzpcXFxcW1xcW1xcXV18W15cXFtcXF1dKSsvO1xuICBibG9jay5fdGl0bGUgPSAvKD86XCIoPzpcXFxcXCI/fFteXCJcXFxcXSkqXCJ8J1teJ1xcbl0qKD86XFxuW14nXFxuXSspKlxcbj8nfFxcKFteKCldKlxcKSkvO1xuICBibG9jay5kZWYgPSBlZGl0JDEoYmxvY2suZGVmKS5yZXBsYWNlKCdsYWJlbCcsIGJsb2NrLl9sYWJlbCkucmVwbGFjZSgndGl0bGUnLCBibG9jay5fdGl0bGUpLmdldFJlZ2V4KCk7XG4gIGJsb2NrLmJ1bGxldCA9IC8oPzpbKistXXxcXGR7MSw5fVxcLikvO1xuICBibG9jay5pdGVtID0gL14oICopKGJ1bGwpID9bXlxcbl0qKD86XFxuKD8hXFwxYnVsbCA/KVteXFxuXSopKi87XG4gIGJsb2NrLml0ZW0gPSBlZGl0JDEoYmxvY2suaXRlbSwgJ2dtJykucmVwbGFjZSgvYnVsbC9nLCBibG9jay5idWxsZXQpLmdldFJlZ2V4KCk7XG4gIGJsb2NrLmxpc3QgPSBlZGl0JDEoYmxvY2subGlzdCkucmVwbGFjZSgvYnVsbC9nLCBibG9jay5idWxsZXQpLnJlcGxhY2UoJ2hyJywgJ1xcXFxuKyg/PVxcXFwxPyg/Oig/Oi0gKil7Myx9fCg/Ol8gKil7Myx9fCg/OlxcXFwqICopezMsfSkoPzpcXFxcbit8JCkpJykucmVwbGFjZSgnZGVmJywgJ1xcXFxuKyg/PScgKyBibG9jay5kZWYuc291cmNlICsgJyknKS5nZXRSZWdleCgpO1xuICBibG9jay5fdGFnID0gJ2FkZHJlc3N8YXJ0aWNsZXxhc2lkZXxiYXNlfGJhc2Vmb250fGJsb2NrcXVvdGV8Ym9keXxjYXB0aW9uJyArICd8Y2VudGVyfGNvbHxjb2xncm91cHxkZHxkZXRhaWxzfGRpYWxvZ3xkaXJ8ZGl2fGRsfGR0fGZpZWxkc2V0fGZpZ2NhcHRpb24nICsgJ3xmaWd1cmV8Zm9vdGVyfGZvcm18ZnJhbWV8ZnJhbWVzZXR8aFsxLTZdfGhlYWR8aGVhZGVyfGhyfGh0bWx8aWZyYW1lJyArICd8bGVnZW5kfGxpfGxpbmt8bWFpbnxtZW51fG1lbnVpdGVtfG1ldGF8bmF2fG5vZnJhbWVzfG9sfG9wdGdyb3VwfG9wdGlvbicgKyAnfHB8cGFyYW18c2VjdGlvbnxzb3VyY2V8c3VtbWFyeXx0YWJsZXx0Ym9keXx0ZHx0Zm9vdHx0aHx0aGVhZHx0aXRsZXx0cicgKyAnfHRyYWNrfHVsJztcbiAgYmxvY2suX2NvbW1lbnQgPSAvPCEtLSg/IS0/PilbXFxzXFxTXSo/LS0+LztcbiAgYmxvY2suaHRtbCA9IGVkaXQkMShibG9jay5odG1sLCAnaScpLnJlcGxhY2UoJ2NvbW1lbnQnLCBibG9jay5fY29tbWVudCkucmVwbGFjZSgndGFnJywgYmxvY2suX3RhZykucmVwbGFjZSgnYXR0cmlidXRlJywgLyArW2EtekEtWjpfXVtcXHcuOi1dKig/OiAqPSAqXCJbXlwiXFxuXSpcInwgKj0gKidbXidcXG5dKid8ICo9ICpbXlxcc1wiJz08PmBdKyk/LykuZ2V0UmVnZXgoKTtcbiAgYmxvY2sucGFyYWdyYXBoID0gZWRpdCQxKGJsb2NrLl9wYXJhZ3JhcGgpLnJlcGxhY2UoJ2hyJywgYmxvY2suaHIpLnJlcGxhY2UoJ2hlYWRpbmcnLCAnIHswLDN9I3sxLDZ9ICcpLnJlcGxhY2UoJ3xsaGVhZGluZycsICcnKSAvLyBzZXRleCBoZWFkaW5ncyBkb24ndCBpbnRlcnJ1cHQgY29tbW9ubWFyayBwYXJhZ3JhcGhzXG4gIC5yZXBsYWNlKCdibG9ja3F1b3RlJywgJyB7MCwzfT4nKS5yZXBsYWNlKCdmZW5jZXMnLCAnIHswLDN9KD86YHszLH0oPz1bXmBcXFxcbl0qXFxcXG4pfH57Myx9KVteXFxcXG5dKlxcXFxuJykucmVwbGFjZSgnbGlzdCcsICcgezAsM30oPzpbKistXXwxWy4pXSkgJykgLy8gb25seSBsaXN0cyBzdGFydGluZyBmcm9tIDEgY2FuIGludGVycnVwdFxuICAucmVwbGFjZSgnaHRtbCcsICc8Lz8oPzp0YWcpKD86ICt8XFxcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXwhLS0pJykucmVwbGFjZSgndGFnJywgYmxvY2suX3RhZykgLy8gcGFycyBjYW4gYmUgaW50ZXJydXB0ZWQgYnkgdHlwZSAoNikgaHRtbCBibG9ja3NcbiAgLmdldFJlZ2V4KCk7XG4gIGJsb2NrLmJsb2NrcXVvdGUgPSBlZGl0JDEoYmxvY2suYmxvY2txdW90ZSkucmVwbGFjZSgncGFyYWdyYXBoJywgYmxvY2sucGFyYWdyYXBoKS5nZXRSZWdleCgpO1xuICAvKipcbiAgICogTm9ybWFsIEJsb2NrIEdyYW1tYXJcbiAgICovXG5cbiAgYmxvY2subm9ybWFsID0gbWVyZ2UkMSh7fSwgYmxvY2spO1xuICAvKipcbiAgICogR0ZNIEJsb2NrIEdyYW1tYXJcbiAgICovXG5cbiAgYmxvY2suZ2ZtID0gbWVyZ2UkMSh7fSwgYmxvY2subm9ybWFsLCB7XG4gICAgbnB0YWJsZTogJ14gKihbXnxcXFxcbiBdLipcXFxcfC4qKVxcXFxuJyAvLyBIZWFkZXJcbiAgICArICcgKihbLTpdKyAqXFxcXHxbLXwgOl0qKScgLy8gQWxpZ25cbiAgICArICcoPzpcXFxcbigoPzooPyFcXFxcbnxocnxoZWFkaW5nfGJsb2NrcXVvdGV8Y29kZXxmZW5jZXN8bGlzdHxodG1sKS4qKD86XFxcXG58JCkpKilcXFxcbip8JCknLFxuICAgIC8vIENlbGxzXG4gICAgdGFibGU6ICdeICpcXFxcfCguKylcXFxcbicgLy8gSGVhZGVyXG4gICAgKyAnICpcXFxcfD8oICpbLTpdK1stfCA6XSopJyAvLyBBbGlnblxuICAgICsgJyg/OlxcXFxuICooKD86KD8hXFxcXG58aHJ8aGVhZGluZ3xibG9ja3F1b3RlfGNvZGV8ZmVuY2VzfGxpc3R8aHRtbCkuKig/OlxcXFxufCQpKSopXFxcXG4qfCQpJyAvLyBDZWxsc1xuXG4gIH0pO1xuICBibG9jay5nZm0ubnB0YWJsZSA9IGVkaXQkMShibG9jay5nZm0ubnB0YWJsZSkucmVwbGFjZSgnaHInLCBibG9jay5ocikucmVwbGFjZSgnaGVhZGluZycsICcgezAsM30jezEsNn0gJykucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JykucmVwbGFjZSgnY29kZScsICcgezR9W15cXFxcbl0nKS5yZXBsYWNlKCdmZW5jZXMnLCAnIHswLDN9KD86YHszLH0oPz1bXmBcXFxcbl0qXFxcXG4pfH57Myx9KVteXFxcXG5dKlxcXFxuJykucmVwbGFjZSgnbGlzdCcsICcgezAsM30oPzpbKistXXwxWy4pXSkgJykgLy8gb25seSBsaXN0cyBzdGFydGluZyBmcm9tIDEgY2FuIGludGVycnVwdFxuICAucmVwbGFjZSgnaHRtbCcsICc8Lz8oPzp0YWcpKD86ICt8XFxcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXwhLS0pJykucmVwbGFjZSgndGFnJywgYmxvY2suX3RhZykgLy8gdGFibGVzIGNhbiBiZSBpbnRlcnJ1cHRlZCBieSB0eXBlICg2KSBodG1sIGJsb2Nrc1xuICAuZ2V0UmVnZXgoKTtcbiAgYmxvY2suZ2ZtLnRhYmxlID0gZWRpdCQxKGJsb2NrLmdmbS50YWJsZSkucmVwbGFjZSgnaHInLCBibG9jay5ocikucmVwbGFjZSgnaGVhZGluZycsICcgezAsM30jezEsNn0gJykucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JykucmVwbGFjZSgnY29kZScsICcgezR9W15cXFxcbl0nKS5yZXBsYWNlKCdmZW5jZXMnLCAnIHswLDN9KD86YHszLH0oPz1bXmBcXFxcbl0qXFxcXG4pfH57Myx9KVteXFxcXG5dKlxcXFxuJykucmVwbGFjZSgnbGlzdCcsICcgezAsM30oPzpbKistXXwxWy4pXSkgJykgLy8gb25seSBsaXN0cyBzdGFydGluZyBmcm9tIDEgY2FuIGludGVycnVwdFxuICAucmVwbGFjZSgnaHRtbCcsICc8Lz8oPzp0YWcpKD86ICt8XFxcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXwhLS0pJykucmVwbGFjZSgndGFnJywgYmxvY2suX3RhZykgLy8gdGFibGVzIGNhbiBiZSBpbnRlcnJ1cHRlZCBieSB0eXBlICg2KSBodG1sIGJsb2Nrc1xuICAuZ2V0UmVnZXgoKTtcbiAgLyoqXG4gICAqIFBlZGFudGljIGdyYW1tYXIgKG9yaWdpbmFsIEpvaG4gR3J1YmVyJ3MgbG9vc2UgbWFya2Rvd24gc3BlY2lmaWNhdGlvbilcbiAgICovXG5cbiAgYmxvY2sucGVkYW50aWMgPSBtZXJnZSQxKHt9LCBibG9jay5ub3JtYWwsIHtcbiAgICBodG1sOiBlZGl0JDEoJ14gKig/OmNvbW1lbnQgKig/OlxcXFxufFxcXFxzKiQpJyArICd8PCh0YWcpW1xcXFxzXFxcXFNdKz88L1xcXFwxPiAqKD86XFxcXG57Mix9fFxcXFxzKiQpJyAvLyBjbG9zZWQgdGFnXG4gICAgKyAnfDx0YWcoPzpcIlteXCJdKlwifFxcJ1teXFwnXSpcXCd8XFxcXHNbXlxcJ1wiLz5cXFxcc10qKSo/Lz8+ICooPzpcXFxcbnsyLH18XFxcXHMqJCkpJykucmVwbGFjZSgnY29tbWVudCcsIGJsb2NrLl9jb21tZW50KS5yZXBsYWNlKC90YWcvZywgJyg/ISg/OicgKyAnYXxlbXxzdHJvbmd8c21hbGx8c3xjaXRlfHF8ZGZufGFiYnJ8ZGF0YXx0aW1lfGNvZGV8dmFyfHNhbXB8a2JkfHN1YicgKyAnfHN1cHxpfGJ8dXxtYXJrfHJ1Ynl8cnR8cnB8YmRpfGJkb3xzcGFufGJyfHdicnxpbnN8ZGVsfGltZyknICsgJ1xcXFxiKVxcXFx3Kyg/ITp8W15cXFxcd1xcXFxzQF0qQClcXFxcYicpLmdldFJlZ2V4KCksXG4gICAgZGVmOiAvXiAqXFxbKFteXFxdXSspXFxdOiAqPD8oW15cXHM+XSspPj8oPzogKyhbXCIoXVteXFxuXStbXCIpXSkpPyAqKD86XFxuK3wkKS8sXG4gICAgaGVhZGluZzogL14gKigjezEsNn0pICooW15cXG5dKz8pICooPzojKyAqKT8oPzpcXG4rfCQpLyxcbiAgICBmZW5jZXM6IG5vb3BUZXN0JDEsXG4gICAgLy8gZmVuY2VzIG5vdCBzdXBwb3J0ZWRcbiAgICBwYXJhZ3JhcGg6IGVkaXQkMShibG9jay5ub3JtYWwuX3BhcmFncmFwaCkucmVwbGFjZSgnaHInLCBibG9jay5ocikucmVwbGFjZSgnaGVhZGluZycsICcgKiN7MSw2fSAqW15cXG5dJykucmVwbGFjZSgnbGhlYWRpbmcnLCBibG9jay5saGVhZGluZykucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JykucmVwbGFjZSgnfGZlbmNlcycsICcnKS5yZXBsYWNlKCd8bGlzdCcsICcnKS5yZXBsYWNlKCd8aHRtbCcsICcnKS5nZXRSZWdleCgpXG4gIH0pO1xuICAvKipcbiAgICogSW5saW5lLUxldmVsIEdyYW1tYXJcbiAgICovXG5cbiAgdmFyIGlubGluZSA9IHtcbiAgICBlc2NhcGU6IC9eXFxcXChbIVwiIyQlJicoKSorLFxcLS4vOjs8PT4/QFxcW1xcXVxcXFxeX2B7fH1+XSkvLFxuICAgIGF1dG9saW5rOiAvXjwoc2NoZW1lOlteXFxzXFx4MDAtXFx4MWY8Pl0qfGVtYWlsKT4vLFxuICAgIHVybDogbm9vcFRlc3QkMSxcbiAgICB0YWc6ICdeY29tbWVudCcgKyAnfF48L1thLXpBLVpdW1xcXFx3Oi1dKlxcXFxzKj4nIC8vIHNlbGYtY2xvc2luZyB0YWdcbiAgICArICd8XjxbYS16QS1aXVtcXFxcdy1dKig/OmF0dHJpYnV0ZSkqP1xcXFxzKi8/PicgLy8gb3BlbiB0YWdcbiAgICArICd8XjxcXFxcP1tcXFxcc1xcXFxTXSo/XFxcXD8+JyAvLyBwcm9jZXNzaW5nIGluc3RydWN0aW9uLCBlLmcuIDw/cGhwID8+XG4gICAgKyAnfF48IVthLXpBLVpdK1xcXFxzW1xcXFxzXFxcXFNdKj8+JyAvLyBkZWNsYXJhdGlvbiwgZS5nLiA8IURPQ1RZUEUgaHRtbD5cbiAgICArICd8XjwhXFxcXFtDREFUQVxcXFxbW1xcXFxzXFxcXFNdKj9cXFxcXVxcXFxdPicsXG4gICAgLy8gQ0RBVEEgc2VjdGlvblxuICAgIGxpbms6IC9eIT9cXFsobGFiZWwpXFxdXFwoXFxzKihocmVmKSg/OlxccysodGl0bGUpKT9cXHMqXFwpLyxcbiAgICByZWZsaW5rOiAvXiE/XFxbKGxhYmVsKVxcXVxcWyg/IVxccypcXF0pKCg/OlxcXFxbXFxbXFxdXT98W15cXFtcXF1cXFxcXSkrKVxcXS8sXG4gICAgbm9saW5rOiAvXiE/XFxbKD8hXFxzKlxcXSkoKD86XFxbW15cXFtcXF1dKlxcXXxcXFxcW1xcW1xcXV18W15cXFtcXF1dKSopXFxdKD86XFxbXFxdKT8vLFxuICAgIHN0cm9uZzogL15fXyhbXlxcc19dKV9fKD8hXyl8XlxcKlxcKihbXlxccypdKVxcKlxcKig/IVxcKil8Xl9fKFteXFxzXVtcXHNcXFNdKj9bXlxcc10pX18oPyFfKXxeXFwqXFwqKFteXFxzXVtcXHNcXFNdKj9bXlxcc10pXFwqXFwqKD8hXFwqKS8sXG4gICAgZW06IC9eXyhbXlxcc19dKV8oPyFfKXxeXyhbXlxcc188XVtcXHNcXFNdKj9bXlxcc19dKV8oPyFffFteXFxzLHB1bmN0dWF0aW9uXSl8Xl8oW15cXHNfPF1bXFxzXFxTXSo/W15cXHNdKV8oPyFffFteXFxzLHB1bmN0dWF0aW9uXSl8XlxcKihbXlxccyo8XFxbXSlcXCooPyFcXCopfF5cXCooW15cXHM8XCJdW1xcc1xcU10qP1teXFxzXFxbXFwqXSlcXCooPyFbXFxdYHB1bmN0dWF0aW9uXSl8XlxcKihbXlxccypcIjxcXFtdW1xcc1xcU10qW15cXHNdKVxcKig/IVxcKikvLFxuICAgIGNvZGU6IC9eKGArKShbXmBdfFteYF1bXFxzXFxTXSo/W15gXSlcXDEoPyFgKS8sXG4gICAgYnI6IC9eKCB7Mix9fFxcXFwpXFxuKD8hXFxzKiQpLyxcbiAgICBkZWw6IG5vb3BUZXN0JDEsXG4gICAgdGV4dDogL14oYCt8W15gXSkoPzpbXFxzXFxTXSo/KD86KD89W1xcXFw8IVxcW2AqXXxcXGJffCQpfFteIF0oPz0gezIsfVxcbikpfCg/PSB7Mix9XFxuKSkvXG4gIH07IC8vIGxpc3Qgb2YgcHVuY3R1YXRpb24gbWFya3MgZnJvbSBjb21tb24gbWFyayBzcGVjXG4gIC8vIHdpdGhvdXQgYCBhbmQgXSB0byB3b3JrYXJvdW5kIFJ1bGUgMTcgKGlubGluZSBjb2RlIGJsb2Nrcy9saW5rcylcbiAgLy8gd2l0aG91dCAsIHRvIHdvcmsgYXJvdW5kIGV4YW1wbGUgMzkzXG5cbiAgaW5saW5lLl9wdW5jdHVhdGlvbiA9ICchXCIjJCUmXFwnKCkqK1xcXFwtLi86Ozw9Pj9AXFxcXFteX3t8fX4nO1xuICBpbmxpbmUuZW0gPSBlZGl0JDEoaW5saW5lLmVtKS5yZXBsYWNlKC9wdW5jdHVhdGlvbi9nLCBpbmxpbmUuX3B1bmN0dWF0aW9uKS5nZXRSZWdleCgpO1xuICBpbmxpbmUuX2VzY2FwZXMgPSAvXFxcXChbIVwiIyQlJicoKSorLFxcLS4vOjs8PT4/QFxcW1xcXVxcXFxeX2B7fH1+XSkvZztcbiAgaW5saW5lLl9zY2hlbWUgPSAvW2EtekEtWl1bYS16QS1aMC05Ky4tXXsxLDMxfS87XG4gIGlubGluZS5fZW1haWwgPSAvW2EtekEtWjAtOS4hIyQlJicqKy89P15fYHt8fX4tXSsoQClbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKyg/IVstX10pLztcbiAgaW5saW5lLmF1dG9saW5rID0gZWRpdCQxKGlubGluZS5hdXRvbGluaykucmVwbGFjZSgnc2NoZW1lJywgaW5saW5lLl9zY2hlbWUpLnJlcGxhY2UoJ2VtYWlsJywgaW5saW5lLl9lbWFpbCkuZ2V0UmVnZXgoKTtcbiAgaW5saW5lLl9hdHRyaWJ1dGUgPSAvXFxzK1thLXpBLVo6X11bXFx3LjotXSooPzpcXHMqPVxccypcIlteXCJdKlwifFxccyo9XFxzKidbXiddKid8XFxzKj1cXHMqW15cXHNcIic9PD5gXSspPy87XG4gIGlubGluZS50YWcgPSBlZGl0JDEoaW5saW5lLnRhZykucmVwbGFjZSgnY29tbWVudCcsIGJsb2NrLl9jb21tZW50KS5yZXBsYWNlKCdhdHRyaWJ1dGUnLCBpbmxpbmUuX2F0dHJpYnV0ZSkuZ2V0UmVnZXgoKTtcbiAgaW5saW5lLl9sYWJlbCA9IC8oPzpcXFtbXlxcW1xcXV0qXFxdfFxcXFwufGBbXmBdKmB8W15cXFtcXF1cXFxcYF0pKj8vO1xuICBpbmxpbmUuX2hyZWYgPSAvPCg/OlxcXFxbPD5dP3xbXlxcczw+XFxcXF0pKj58W15cXHNcXHgwMC1cXHgxZl0qLztcbiAgaW5saW5lLl90aXRsZSA9IC9cIig/OlxcXFxcIj98W15cIlxcXFxdKSpcInwnKD86XFxcXCc/fFteJ1xcXFxdKSonfFxcKCg/OlxcXFxcXCk/fFteKVxcXFxdKSpcXCkvO1xuICBpbmxpbmUubGluayA9IGVkaXQkMShpbmxpbmUubGluaykucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKS5yZXBsYWNlKCdocmVmJywgaW5saW5lLl9ocmVmKS5yZXBsYWNlKCd0aXRsZScsIGlubGluZS5fdGl0bGUpLmdldFJlZ2V4KCk7XG4gIGlubGluZS5yZWZsaW5rID0gZWRpdCQxKGlubGluZS5yZWZsaW5rKS5yZXBsYWNlKCdsYWJlbCcsIGlubGluZS5fbGFiZWwpLmdldFJlZ2V4KCk7XG4gIC8qKlxuICAgKiBOb3JtYWwgSW5saW5lIEdyYW1tYXJcbiAgICovXG5cbiAgaW5saW5lLm5vcm1hbCA9IG1lcmdlJDEoe30sIGlubGluZSk7XG4gIC8qKlxuICAgKiBQZWRhbnRpYyBJbmxpbmUgR3JhbW1hclxuICAgKi9cblxuICBpbmxpbmUucGVkYW50aWMgPSBtZXJnZSQxKHt9LCBpbmxpbmUubm9ybWFsLCB7XG4gICAgc3Ryb25nOiAvXl9fKD89XFxTKShbXFxzXFxTXSo/XFxTKV9fKD8hXyl8XlxcKlxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCpcXCooPyFcXCopLyxcbiAgICBlbTogL15fKD89XFxTKShbXFxzXFxTXSo/XFxTKV8oPyFfKXxeXFwqKD89XFxTKShbXFxzXFxTXSo/XFxTKVxcKig/IVxcKikvLFxuICAgIGxpbms6IGVkaXQkMSgvXiE/XFxbKGxhYmVsKVxcXVxcKCguKj8pXFwpLykucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKS5nZXRSZWdleCgpLFxuICAgIHJlZmxpbms6IGVkaXQkMSgvXiE/XFxbKGxhYmVsKVxcXVxccypcXFsoW15cXF1dKilcXF0vKS5yZXBsYWNlKCdsYWJlbCcsIGlubGluZS5fbGFiZWwpLmdldFJlZ2V4KClcbiAgfSk7XG4gIC8qKlxuICAgKiBHRk0gSW5saW5lIEdyYW1tYXJcbiAgICovXG5cbiAgaW5saW5lLmdmbSA9IG1lcmdlJDEoe30sIGlubGluZS5ub3JtYWwsIHtcbiAgICBlc2NhcGU6IGVkaXQkMShpbmxpbmUuZXNjYXBlKS5yZXBsYWNlKCddKScsICd+fF0pJykuZ2V0UmVnZXgoKSxcbiAgICBfZXh0ZW5kZWRfZW1haWw6IC9bQS1aYS16MC05Ll8rLV0rKEApW2EtekEtWjAtOS1fXSsoPzpcXC5bYS16QS1aMC05LV9dKlthLXpBLVowLTldKSsoPyFbLV9dKS8sXG4gICAgdXJsOiAvXigoPzpmdHB8aHR0cHM/KTpcXC9cXC98d3d3XFwuKSg/OlthLXpBLVowLTlcXC1dK1xcLj8pK1teXFxzPF0qfF5lbWFpbC8sXG4gICAgX2JhY2twZWRhbDogLyg/OltePyEuLDo7Kl9+KCkmXSt8XFwoW14pXSpcXCl8Jig/IVthLXpBLVowLTldKzskKXxbPyEuLDo7Kl9+KV0rKD8hJCkpKy8sXG4gICAgZGVsOiAvXn4rKD89XFxTKShbXFxzXFxTXSo/XFxTKX4rLyxcbiAgICB0ZXh0OiAvXihgK3xbXmBdKSg/OltcXHNcXFNdKj8oPzooPz1bXFxcXDwhXFxbYCp+XXxcXGJffGh0dHBzPzpcXC9cXC98ZnRwOlxcL1xcL3x3d3dcXC58JCl8W14gXSg/PSB7Mix9XFxuKXxbXmEtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXSg/PVthLXpBLVowLTkuISMkJSYnKitcXC89P19ge1xcfH1+LV0rQCkpfCg/PSB7Mix9XFxufFthLXpBLVowLTkuISMkJSYnKitcXC89P19ge1xcfH1+LV0rQCkpL1xuICB9KTtcbiAgaW5saW5lLmdmbS51cmwgPSBlZGl0JDEoaW5saW5lLmdmbS51cmwsICdpJykucmVwbGFjZSgnZW1haWwnLCBpbmxpbmUuZ2ZtLl9leHRlbmRlZF9lbWFpbCkuZ2V0UmVnZXgoKTtcbiAgLyoqXG4gICAqIEdGTSArIExpbmUgQnJlYWtzIElubGluZSBHcmFtbWFyXG4gICAqL1xuXG4gIGlubGluZS5icmVha3MgPSBtZXJnZSQxKHt9LCBpbmxpbmUuZ2ZtLCB7XG4gICAgYnI6IGVkaXQkMShpbmxpbmUuYnIpLnJlcGxhY2UoJ3syLH0nLCAnKicpLmdldFJlZ2V4KCksXG4gICAgdGV4dDogZWRpdCQxKGlubGluZS5nZm0udGV4dCkucmVwbGFjZSgnXFxcXGJfJywgJ1xcXFxiX3wgezIsfVxcXFxuJykucmVwbGFjZSgvXFx7MixcXH0vZywgJyonKS5nZXRSZWdleCgpXG4gIH0pO1xuICB2YXIgcnVsZXMgPSB7XG4gICAgYmxvY2s6IGJsb2NrLFxuICAgIGlubGluZTogaW5saW5lXG4gIH07XG5cbiAgdmFyIGRlZmF1bHRzJDIgPSBkZWZhdWx0cy5kZWZhdWx0cztcbiAgdmFyIGJsb2NrJDEgPSBydWxlcy5ibG9jayxcbiAgICAgIGlubGluZSQxID0gcnVsZXMuaW5saW5lO1xuICAvKipcbiAgICogc21hcnR5cGFudHMgdGV4dCByZXBsYWNlbWVudFxuICAgKi9cblxuICBmdW5jdGlvbiBzbWFydHlwYW50cyh0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQgLy8gZW0tZGFzaGVzXG4gICAgLnJlcGxhY2UoLy0tLS9nLCBcIlxcdTIwMTRcIikgLy8gZW4tZGFzaGVzXG4gICAgLnJlcGxhY2UoLy0tL2csIFwiXFx1MjAxM1wiKSAvLyBvcGVuaW5nIHNpbmdsZXNcbiAgICAucmVwbGFjZSgvKF58Wy1cXHUyMDE0LyhcXFt7XCJcXHNdKScvZywgXCIkMVxcdTIwMThcIikgLy8gY2xvc2luZyBzaW5nbGVzICYgYXBvc3Ryb3BoZXNcbiAgICAucmVwbGFjZSgvJy9nLCBcIlxcdTIwMTlcIikgLy8gb3BlbmluZyBkb3VibGVzXG4gICAgLnJlcGxhY2UoLyhefFstXFx1MjAxNC8oXFxbe1xcdTIwMThcXHNdKVwiL2csIFwiJDFcXHUyMDFDXCIpIC8vIGNsb3NpbmcgZG91Ymxlc1xuICAgIC5yZXBsYWNlKC9cIi9nLCBcIlxcdTIwMURcIikgLy8gZWxsaXBzZXNcbiAgICAucmVwbGFjZSgvXFwuezN9L2csIFwiXFx1MjAyNlwiKTtcbiAgfVxuICAvKipcbiAgICogbWFuZ2xlIGVtYWlsIGFkZHJlc3Nlc1xuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG1hbmdsZSh0ZXh0KSB7XG4gICAgdmFyIG91dCA9ICcnLFxuICAgICAgICBpLFxuICAgICAgICBjaDtcbiAgICB2YXIgbCA9IHRleHQubGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgY2ggPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC41KSB7XG4gICAgICAgIGNoID0gJ3gnICsgY2gudG9TdHJpbmcoMTYpO1xuICAgICAgfVxuXG4gICAgICBvdXQgKz0gJyYjJyArIGNoICsgJzsnO1xuICAgIH1cblxuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgLyoqXG4gICAqIEJsb2NrIExleGVyXG4gICAqL1xuXG5cbiAgdmFyIExleGVyXzEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExleGVyKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMudG9rZW5zID0gW107XG4gICAgICB0aGlzLnRva2Vucy5saW5rcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IGRlZmF1bHRzJDI7XG4gICAgICB0aGlzLm9wdGlvbnMudG9rZW5pemVyID0gdGhpcy5vcHRpb25zLnRva2VuaXplciB8fCBuZXcgVG9rZW5pemVyXzEoKTtcbiAgICAgIHRoaXMudG9rZW5pemVyID0gdGhpcy5vcHRpb25zLnRva2VuaXplcjtcbiAgICAgIHRoaXMudG9rZW5pemVyLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICB2YXIgcnVsZXMgPSB7XG4gICAgICAgIGJsb2NrOiBibG9jayQxLm5vcm1hbCxcbiAgICAgICAgaW5saW5lOiBpbmxpbmUkMS5ub3JtYWxcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgcnVsZXMuYmxvY2sgPSBibG9jayQxLnBlZGFudGljO1xuICAgICAgICBydWxlcy5pbmxpbmUgPSBpbmxpbmUkMS5wZWRhbnRpYztcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmdmbSkge1xuICAgICAgICBydWxlcy5ibG9jayA9IGJsb2NrJDEuZ2ZtO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYnJlYWtzKSB7XG4gICAgICAgICAgcnVsZXMuaW5saW5lID0gaW5saW5lJDEuYnJlYWtzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJ1bGVzLmlubGluZSA9IGlubGluZSQxLmdmbTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnRva2VuaXplci5ydWxlcyA9IHJ1bGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHBvc2UgUnVsZXNcbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogU3RhdGljIExleCBNZXRob2RcbiAgICAgKi9cbiAgICBMZXhlci5sZXggPSBmdW5jdGlvbiBsZXgoc3JjLCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGV4ZXIgPSBuZXcgTGV4ZXIob3B0aW9ucyk7XG4gICAgICByZXR1cm4gbGV4ZXIubGV4KHNyYyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZXByb2Nlc3NpbmdcbiAgICAgKi9cbiAgICA7XG5cbiAgICB2YXIgX3Byb3RvID0gTGV4ZXIucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmxleCA9IGZ1bmN0aW9uIGxleChzcmMpIHtcbiAgICAgIHNyYyA9IHNyYy5yZXBsYWNlKC9cXHJcXG58XFxyL2csICdcXG4nKS5yZXBsYWNlKC9cXHQvZywgJyAgICAnKTtcbiAgICAgIHRoaXMuYmxvY2tUb2tlbnMoc3JjLCB0aGlzLnRva2VucywgdHJ1ZSk7XG4gICAgICB0aGlzLmlubGluZSh0aGlzLnRva2Vucyk7XG4gICAgICByZXR1cm4gdGhpcy50b2tlbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExleGluZ1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5ibG9ja1Rva2VucyA9IGZ1bmN0aW9uIGJsb2NrVG9rZW5zKHNyYywgdG9rZW5zLCB0b3ApIHtcbiAgICAgIGlmICh0b2tlbnMgPT09IHZvaWQgMCkge1xuICAgICAgICB0b2tlbnMgPSBbXTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRvcCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRvcCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHNyYyA9IHNyYy5yZXBsYWNlKC9eICskL2dtLCAnJyk7XG4gICAgICB2YXIgdG9rZW4sIGksIGwsIGxhc3RUb2tlbjtcblxuICAgICAgd2hpbGUgKHNyYykge1xuICAgICAgICAvLyBuZXdsaW5lXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnNwYWNlKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuXG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBjb2RlXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5jb2RlKHNyYywgdG9rZW5zKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG5cbiAgICAgICAgICBpZiAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsYXN0VG9rZW4gPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgbGFzdFRva2VuLnJhdyArPSAnXFxuJyArIHRva2VuLnJhdztcbiAgICAgICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9ICdcXG4nICsgdG9rZW4udGV4dDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBmZW5jZXNcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmZlbmNlcyhzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gaGVhZGluZ1xuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuaGVhZGluZyhzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gdGFibGUgbm8gbGVhZGluZyBwaXBlIChnZm0pXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5ucHRhYmxlKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBoclxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuaHIoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGJsb2NrcXVvdGVcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmJsb2NrcXVvdGUoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW4udG9rZW5zID0gdGhpcy5ibG9ja1Rva2Vucyh0b2tlbi50ZXh0LCBbXSwgdG9wKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gbGlzdFxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIubGlzdChzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICBsID0gdG9rZW4uaXRlbXMubGVuZ3RoO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdG9rZW4uaXRlbXNbaV0udG9rZW5zID0gdGhpcy5ibG9ja1Rva2Vucyh0b2tlbi5pdGVtc1tpXS50ZXh0LCBbXSwgZmFsc2UpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBodG1sXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5odG1sKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBkZWZcblxuXG4gICAgICAgIGlmICh0b3AgJiYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuZGVmKHNyYykpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcblxuICAgICAgICAgIGlmICghdGhpcy50b2tlbnMubGlua3NbdG9rZW4udGFnXSkge1xuICAgICAgICAgICAgdGhpcy50b2tlbnMubGlua3NbdG9rZW4udGFnXSA9IHtcbiAgICAgICAgICAgICAgaHJlZjogdG9rZW4uaHJlZixcbiAgICAgICAgICAgICAgdGl0bGU6IHRva2VuLnRpdGxlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIHRhYmxlIChnZm0pXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci50YWJsZShzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gbGhlYWRpbmdcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmxoZWFkaW5nKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyB0b3AtbGV2ZWwgcGFyYWdyYXBoXG5cblxuICAgICAgICBpZiAodG9wICYmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnBhcmFncmFwaChzcmMpKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIHRleHRcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnRleHQoc3JjLCB0b2tlbnMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcblxuICAgICAgICAgIGlmICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxhc3RUb2tlbiA9IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBsYXN0VG9rZW4ucmF3ICs9ICdcXG4nICsgdG9rZW4ucmF3O1xuICAgICAgICAgICAgbGFzdFRva2VuLnRleHQgKz0gJ1xcbicgKyB0b2tlbi50ZXh0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgIHZhciBlcnJNc2cgPSAnSW5maW5pdGUgbG9vcCBvbiBieXRlOiAnICsgc3JjLmNoYXJDb2RlQXQoMCk7XG5cbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH07XG5cbiAgICBfcHJvdG8uaW5saW5lID0gZnVuY3Rpb24gaW5saW5lKHRva2Vucykge1xuICAgICAgdmFyIGksIGosIGssIGwyLCByb3csIHRva2VuO1xuICAgICAgdmFyIGwgPSB0b2tlbnMubGVuZ3RoO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuXG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgIGNhc2UgJ3BhcmFncmFwaCc6XG4gICAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAgY2FzZSAnaGVhZGluZyc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRva2VuLnRva2VucyA9IFtdO1xuICAgICAgICAgICAgICB0aGlzLmlubGluZVRva2Vucyh0b2tlbi50ZXh0LCB0b2tlbi50b2tlbnMpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ3RhYmxlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG9rZW4udG9rZW5zID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcjogW10sXG4gICAgICAgICAgICAgICAgY2VsbHM6IFtdXG4gICAgICAgICAgICAgIH07IC8vIGhlYWRlclxuXG4gICAgICAgICAgICAgIGwyID0gdG9rZW4uaGVhZGVyLmxlbmd0aDtcblxuICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbDI7IGorKykge1xuICAgICAgICAgICAgICAgIHRva2VuLnRva2Vucy5oZWFkZXJbal0gPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLmlubGluZVRva2Vucyh0b2tlbi5oZWFkZXJbal0sIHRva2VuLnRva2Vucy5oZWFkZXJbal0pO1xuICAgICAgICAgICAgICB9IC8vIGNlbGxzXG5cblxuICAgICAgICAgICAgICBsMiA9IHRva2VuLmNlbGxzLmxlbmd0aDtcblxuICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbDI7IGorKykge1xuICAgICAgICAgICAgICAgIHJvdyA9IHRva2VuLmNlbGxzW2pdO1xuICAgICAgICAgICAgICAgIHRva2VuLnRva2Vucy5jZWxsc1tqXSA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IHJvdy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgdG9rZW4udG9rZW5zLmNlbGxzW2pdW2tdID0gW107XG4gICAgICAgICAgICAgICAgICB0aGlzLmlubGluZVRva2Vucyhyb3dba10sIHRva2VuLnRva2Vucy5jZWxsc1tqXVtrXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdibG9ja3F1b3RlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGhpcy5pbmxpbmUodG9rZW4udG9rZW5zKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdsaXN0JzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbDIgPSB0b2tlbi5pdGVtcy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGwyOyBqKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlubGluZSh0b2tlbi5pdGVtc1tqXS50b2tlbnMpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGV4aW5nL0NvbXBpbGluZ1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5pbmxpbmVUb2tlbnMgPSBmdW5jdGlvbiBpbmxpbmVUb2tlbnMoc3JjLCB0b2tlbnMsIGluTGluaywgaW5SYXdCbG9jaykge1xuICAgICAgaWYgKHRva2VucyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRva2VucyA9IFtdO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5MaW5rID09PSB2b2lkIDApIHtcbiAgICAgICAgaW5MaW5rID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChpblJhd0Jsb2NrID09PSB2b2lkIDApIHtcbiAgICAgICAgaW5SYXdCbG9jayA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgdG9rZW47XG5cbiAgICAgIHdoaWxlIChzcmMpIHtcbiAgICAgICAgLy8gZXNjYXBlXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmVzY2FwZShzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gdGFnXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci50YWcoc3JjLCBpbkxpbmssIGluUmF3QmxvY2spKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICBpbkxpbmsgPSB0b2tlbi5pbkxpbms7XG4gICAgICAgICAgaW5SYXdCbG9jayA9IHRva2VuLmluUmF3QmxvY2s7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGxpbmtcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmxpbmsoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG5cbiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gJ2xpbmsnKSB7XG4gICAgICAgICAgICB0b2tlbi50b2tlbnMgPSB0aGlzLmlubGluZVRva2Vucyh0b2tlbi50ZXh0LCBbXSwgdHJ1ZSwgaW5SYXdCbG9jayk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIHJlZmxpbmssIG5vbGlua1xuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIucmVmbGluayhzcmMsIHRoaXMudG9rZW5zLmxpbmtzKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG5cbiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gJ2xpbmsnKSB7XG4gICAgICAgICAgICB0b2tlbi50b2tlbnMgPSB0aGlzLmlubGluZVRva2Vucyh0b2tlbi50ZXh0LCBbXSwgdHJ1ZSwgaW5SYXdCbG9jayk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIHN0cm9uZ1xuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuc3Ryb25nKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2VuLnRva2VucyA9IHRoaXMuaW5saW5lVG9rZW5zKHRva2VuLnRleHQsIFtdLCBpbkxpbmssIGluUmF3QmxvY2spO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBlbVxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuZW0oc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW4udG9rZW5zID0gdGhpcy5pbmxpbmVUb2tlbnModG9rZW4udGV4dCwgW10sIGluTGluaywgaW5SYXdCbG9jayk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGNvZGVcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmNvZGVzcGFuKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBiclxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuYnIoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGRlbCAoZ2ZtKVxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuZGVsKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2VuLnRva2VucyA9IHRoaXMuaW5saW5lVG9rZW5zKHRva2VuLnRleHQsIFtdLCBpbkxpbmssIGluUmF3QmxvY2spO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBhdXRvbGlua1xuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuYXV0b2xpbmsoc3JjLCBtYW5nbGUpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gdXJsIChnZm0pXG5cblxuICAgICAgICBpZiAoIWluTGluayAmJiAodG9rZW4gPSB0aGlzLnRva2VuaXplci51cmwoc3JjLCBtYW5nbGUpKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIHRleHRcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmlubGluZVRleHQoc3JjLCBpblJhd0Jsb2NrLCBzbWFydHlwYW50cykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICB2YXIgZXJyTXNnID0gJ0luZmluaXRlIGxvb3Agb24gYnl0ZTogJyArIHNyYy5jaGFyQ29kZUF0KDApO1xuXG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKExleGVyLCBudWxsLCBbe1xuICAgICAga2V5OiBcInJ1bGVzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBibG9jazogYmxvY2skMSxcbiAgICAgICAgICBpbmxpbmU6IGlubGluZSQxXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIExleGVyO1xuICB9KCk7XG5cbiAgdmFyIGRlZmF1bHRzJDMgPSBkZWZhdWx0cy5kZWZhdWx0cztcbiAgdmFyIGNsZWFuVXJsJDEgPSBoZWxwZXJzLmNsZWFuVXJsLFxuICAgICAgZXNjYXBlJDEgPSBoZWxwZXJzLmVzY2FwZTtcbiAgLyoqXG4gICAqIFJlbmRlcmVyXG4gICAqL1xuXG4gIHZhciBSZW5kZXJlcl8xID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZW5kZXJlcihvcHRpb25zKSB7XG4gICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IGRlZmF1bHRzJDM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFJlbmRlcmVyLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5jb2RlID0gZnVuY3Rpb24gY29kZShfY29kZSwgaW5mb3N0cmluZywgZXNjYXBlZCkge1xuICAgICAgdmFyIGxhbmcgPSAoaW5mb3N0cmluZyB8fCAnJykubWF0Y2goL1xcUyovKVswXTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5oaWdobGlnaHQpIHtcbiAgICAgICAgdmFyIG91dCA9IHRoaXMub3B0aW9ucy5oaWdobGlnaHQoX2NvZGUsIGxhbmcpO1xuXG4gICAgICAgIGlmIChvdXQgIT0gbnVsbCAmJiBvdXQgIT09IF9jb2RlKSB7XG4gICAgICAgICAgZXNjYXBlZCA9IHRydWU7XG4gICAgICAgICAgX2NvZGUgPSBvdXQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFsYW5nKSB7XG4gICAgICAgIHJldHVybiAnPHByZT48Y29kZT4nICsgKGVzY2FwZWQgPyBfY29kZSA6IGVzY2FwZSQxKF9jb2RlLCB0cnVlKSkgKyAnPC9jb2RlPjwvcHJlPlxcbic7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAnPHByZT48Y29kZSBjbGFzcz1cIicgKyB0aGlzLm9wdGlvbnMubGFuZ1ByZWZpeCArIGVzY2FwZSQxKGxhbmcsIHRydWUpICsgJ1wiPicgKyAoZXNjYXBlZCA/IF9jb2RlIDogZXNjYXBlJDEoX2NvZGUsIHRydWUpKSArICc8L2NvZGU+PC9wcmU+XFxuJztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmJsb2NrcXVvdGUgPSBmdW5jdGlvbiBibG9ja3F1b3RlKHF1b3RlKSB7XG4gICAgICByZXR1cm4gJzxibG9ja3F1b3RlPlxcbicgKyBxdW90ZSArICc8L2Jsb2NrcXVvdGU+XFxuJztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmh0bWwgPSBmdW5jdGlvbiBodG1sKF9odG1sKSB7XG4gICAgICByZXR1cm4gX2h0bWw7XG4gICAgfTtcblxuICAgIF9wcm90by5oZWFkaW5nID0gZnVuY3Rpb24gaGVhZGluZyh0ZXh0LCBsZXZlbCwgcmF3LCBzbHVnZ2VyKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmhlYWRlcklkcykge1xuICAgICAgICByZXR1cm4gJzxoJyArIGxldmVsICsgJyBpZD1cIicgKyB0aGlzLm9wdGlvbnMuaGVhZGVyUHJlZml4ICsgc2x1Z2dlci5zbHVnKHJhdykgKyAnXCI+JyArIHRleHQgKyAnPC9oJyArIGxldmVsICsgJz5cXG4nO1xuICAgICAgfSAvLyBpZ25vcmUgSURzXG5cblxuICAgICAgcmV0dXJuICc8aCcgKyBsZXZlbCArICc+JyArIHRleHQgKyAnPC9oJyArIGxldmVsICsgJz5cXG4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8uaHIgPSBmdW5jdGlvbiBocigpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMueGh0bWwgPyAnPGhyLz5cXG4nIDogJzxocj5cXG4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8ubGlzdCA9IGZ1bmN0aW9uIGxpc3QoYm9keSwgb3JkZXJlZCwgc3RhcnQpIHtcbiAgICAgIHZhciB0eXBlID0gb3JkZXJlZCA/ICdvbCcgOiAndWwnLFxuICAgICAgICAgIHN0YXJ0YXR0ID0gb3JkZXJlZCAmJiBzdGFydCAhPT0gMSA/ICcgc3RhcnQ9XCInICsgc3RhcnQgKyAnXCInIDogJyc7XG4gICAgICByZXR1cm4gJzwnICsgdHlwZSArIHN0YXJ0YXR0ICsgJz5cXG4nICsgYm9keSArICc8LycgKyB0eXBlICsgJz5cXG4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8ubGlzdGl0ZW0gPSBmdW5jdGlvbiBsaXN0aXRlbSh0ZXh0KSB7XG4gICAgICByZXR1cm4gJzxsaT4nICsgdGV4dCArICc8L2xpPlxcbic7XG4gICAgfTtcblxuICAgIF9wcm90by5jaGVja2JveCA9IGZ1bmN0aW9uIGNoZWNrYm94KGNoZWNrZWQpIHtcbiAgICAgIHJldHVybiAnPGlucHV0ICcgKyAoY2hlY2tlZCA/ICdjaGVja2VkPVwiXCIgJyA6ICcnKSArICdkaXNhYmxlZD1cIlwiIHR5cGU9XCJjaGVja2JveFwiJyArICh0aGlzLm9wdGlvbnMueGh0bWwgPyAnIC8nIDogJycpICsgJz4gJztcbiAgICB9O1xuXG4gICAgX3Byb3RvLnBhcmFncmFwaCA9IGZ1bmN0aW9uIHBhcmFncmFwaCh0ZXh0KSB7XG4gICAgICByZXR1cm4gJzxwPicgKyB0ZXh0ICsgJzwvcD5cXG4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8udGFibGUgPSBmdW5jdGlvbiB0YWJsZShoZWFkZXIsIGJvZHkpIHtcbiAgICAgIGlmIChib2R5KSBib2R5ID0gJzx0Ym9keT4nICsgYm9keSArICc8L3Rib2R5Pic7XG4gICAgICByZXR1cm4gJzx0YWJsZT5cXG4nICsgJzx0aGVhZD5cXG4nICsgaGVhZGVyICsgJzwvdGhlYWQ+XFxuJyArIGJvZHkgKyAnPC90YWJsZT5cXG4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8udGFibGVyb3cgPSBmdW5jdGlvbiB0YWJsZXJvdyhjb250ZW50KSB7XG4gICAgICByZXR1cm4gJzx0cj5cXG4nICsgY29udGVudCArICc8L3RyPlxcbic7XG4gICAgfTtcblxuICAgIF9wcm90by50YWJsZWNlbGwgPSBmdW5jdGlvbiB0YWJsZWNlbGwoY29udGVudCwgZmxhZ3MpIHtcbiAgICAgIHZhciB0eXBlID0gZmxhZ3MuaGVhZGVyID8gJ3RoJyA6ICd0ZCc7XG4gICAgICB2YXIgdGFnID0gZmxhZ3MuYWxpZ24gPyAnPCcgKyB0eXBlICsgJyBhbGlnbj1cIicgKyBmbGFncy5hbGlnbiArICdcIj4nIDogJzwnICsgdHlwZSArICc+JztcbiAgICAgIHJldHVybiB0YWcgKyBjb250ZW50ICsgJzwvJyArIHR5cGUgKyAnPlxcbic7XG4gICAgfSAvLyBzcGFuIGxldmVsIHJlbmRlcmVyXG4gICAgO1xuXG4gICAgX3Byb3RvLnN0cm9uZyA9IGZ1bmN0aW9uIHN0cm9uZyh0ZXh0KSB7XG4gICAgICByZXR1cm4gJzxzdHJvbmc+JyArIHRleHQgKyAnPC9zdHJvbmc+JztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmVtID0gZnVuY3Rpb24gZW0odGV4dCkge1xuICAgICAgcmV0dXJuICc8ZW0+JyArIHRleHQgKyAnPC9lbT4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8uY29kZXNwYW4gPSBmdW5jdGlvbiBjb2Rlc3Bhbih0ZXh0KSB7XG4gICAgICByZXR1cm4gJzxjb2RlPicgKyB0ZXh0ICsgJzwvY29kZT4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8uYnIgPSBmdW5jdGlvbiBicigpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMueGh0bWwgPyAnPGJyLz4nIDogJzxicj4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZGVsID0gZnVuY3Rpb24gZGVsKHRleHQpIHtcbiAgICAgIHJldHVybiAnPGRlbD4nICsgdGV4dCArICc8L2RlbD4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8ubGluayA9IGZ1bmN0aW9uIGxpbmsoaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICAgIGhyZWYgPSBjbGVhblVybCQxKHRoaXMub3B0aW9ucy5zYW5pdGl6ZSwgdGhpcy5vcHRpb25zLmJhc2VVcmwsIGhyZWYpO1xuXG4gICAgICBpZiAoaHJlZiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgIH1cblxuICAgICAgdmFyIG91dCA9ICc8YSBocmVmPVwiJyArIGVzY2FwZSQxKGhyZWYpICsgJ1wiJztcblxuICAgICAgaWYgKHRpdGxlKSB7XG4gICAgICAgIG91dCArPSAnIHRpdGxlPVwiJyArIHRpdGxlICsgJ1wiJztcbiAgICAgIH1cblxuICAgICAgb3V0ICs9ICc+JyArIHRleHQgKyAnPC9hPic7XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH07XG5cbiAgICBfcHJvdG8uaW1hZ2UgPSBmdW5jdGlvbiBpbWFnZShocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgaHJlZiA9IGNsZWFuVXJsJDEodGhpcy5vcHRpb25zLnNhbml0aXplLCB0aGlzLm9wdGlvbnMuYmFzZVVybCwgaHJlZik7XG5cbiAgICAgIGlmIChocmVmID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgfVxuXG4gICAgICB2YXIgb3V0ID0gJzxpbWcgc3JjPVwiJyArIGhyZWYgKyAnXCIgYWx0PVwiJyArIHRleHQgKyAnXCInO1xuXG4gICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgb3V0ICs9ICcgdGl0bGU9XCInICsgdGl0bGUgKyAnXCInO1xuICAgICAgfVxuXG4gICAgICBvdXQgKz0gdGhpcy5vcHRpb25zLnhodG1sID8gJy8+JyA6ICc+JztcbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcblxuICAgIF9wcm90by50ZXh0ID0gZnVuY3Rpb24gdGV4dChfdGV4dCkge1xuICAgICAgcmV0dXJuIF90ZXh0O1xuICAgIH07XG5cbiAgICByZXR1cm4gUmVuZGVyZXI7XG4gIH0oKTtcblxuICAvKipcbiAgICogVGV4dFJlbmRlcmVyXG4gICAqIHJldHVybnMgb25seSB0aGUgdGV4dHVhbCBwYXJ0IG9mIHRoZSB0b2tlblxuICAgKi9cbiAgdmFyIFRleHRSZW5kZXJlcl8xID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZXh0UmVuZGVyZXIoKSB7fVxuXG4gICAgdmFyIF9wcm90byA9IFRleHRSZW5kZXJlci5wcm90b3R5cGU7XG5cbiAgICAvLyBubyBuZWVkIGZvciBibG9jayBsZXZlbCByZW5kZXJlcnNcbiAgICBfcHJvdG8uc3Ryb25nID0gZnVuY3Rpb24gc3Ryb25nKHRleHQpIHtcbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG5cbiAgICBfcHJvdG8uZW0gPSBmdW5jdGlvbiBlbSh0ZXh0KSB7XG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmNvZGVzcGFuID0gZnVuY3Rpb24gY29kZXNwYW4odGV4dCkge1xuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcblxuICAgIF9wcm90by5kZWwgPSBmdW5jdGlvbiBkZWwodGV4dCkge1xuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcblxuICAgIF9wcm90by5odG1sID0gZnVuY3Rpb24gaHRtbCh0ZXh0KSB7XG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLnRleHQgPSBmdW5jdGlvbiB0ZXh0KF90ZXh0KSB7XG4gICAgICByZXR1cm4gX3RleHQ7XG4gICAgfTtcblxuICAgIF9wcm90by5saW5rID0gZnVuY3Rpb24gbGluayhocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgcmV0dXJuICcnICsgdGV4dDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmltYWdlID0gZnVuY3Rpb24gaW1hZ2UoaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICAgIHJldHVybiAnJyArIHRleHQ7XG4gICAgfTtcblxuICAgIF9wcm90by5iciA9IGZ1bmN0aW9uIGJyKCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dFJlbmRlcmVyO1xuICB9KCk7XG5cbiAgLyoqXG4gICAqIFNsdWdnZXIgZ2VuZXJhdGVzIGhlYWRlciBpZFxuICAgKi9cbiAgdmFyIFNsdWdnZXJfMSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2x1Z2dlcigpIHtcbiAgICAgIHRoaXMuc2VlbiA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHN0cmluZyB0byB1bmlxdWUgaWRcbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IFNsdWdnZXIucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLnNsdWcgPSBmdW5jdGlvbiBzbHVnKHZhbHVlKSB7XG4gICAgICB2YXIgc2x1ZyA9IHZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpIC8vIHJlbW92ZSBodG1sIHRhZ3NcbiAgICAgIC5yZXBsYWNlKC88WyFcXC9hLXpdLio/Pi9pZywgJycpIC8vIHJlbW92ZSB1bndhbnRlZCBjaGFyc1xuICAgICAgLnJlcGxhY2UoL1tcXHUyMDAwLVxcdTIwNkZcXHUyRTAwLVxcdTJFN0ZcXFxcJyFcIiMkJSYoKSorLC4vOjs8PT4/QFtcXF1eYHt8fX5dL2csICcnKS5yZXBsYWNlKC9cXHMvZywgJy0nKTtcblxuICAgICAgaWYgKHRoaXMuc2Vlbi5oYXNPd25Qcm9wZXJ0eShzbHVnKSkge1xuICAgICAgICB2YXIgb3JpZ2luYWxTbHVnID0gc2x1ZztcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgdGhpcy5zZWVuW29yaWdpbmFsU2x1Z10rKztcbiAgICAgICAgICBzbHVnID0gb3JpZ2luYWxTbHVnICsgJy0nICsgdGhpcy5zZWVuW29yaWdpbmFsU2x1Z107XG4gICAgICAgIH0gd2hpbGUgKHRoaXMuc2Vlbi5oYXNPd25Qcm9wZXJ0eShzbHVnKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2VlbltzbHVnXSA9IDA7XG4gICAgICByZXR1cm4gc2x1ZztcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNsdWdnZXI7XG4gIH0oKTtcblxuICB2YXIgZGVmYXVsdHMkNCA9IGRlZmF1bHRzLmRlZmF1bHRzO1xuICB2YXIgdW5lc2NhcGUkMSA9IGhlbHBlcnMudW5lc2NhcGU7XG4gIC8qKlxuICAgKiBQYXJzaW5nICYgQ29tcGlsaW5nXG4gICAqL1xuXG4gIHZhciBQYXJzZXJfMSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFyc2VyKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgZGVmYXVsdHMkNDtcbiAgICAgIHRoaXMub3B0aW9ucy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlciB8fCBuZXcgUmVuZGVyZXJfMSgpO1xuICAgICAgdGhpcy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlcjtcbiAgICAgIHRoaXMucmVuZGVyZXIub3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgIHRoaXMudGV4dFJlbmRlcmVyID0gbmV3IFRleHRSZW5kZXJlcl8xKCk7XG4gICAgICB0aGlzLnNsdWdnZXIgPSBuZXcgU2x1Z2dlcl8xKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXRpYyBQYXJzZSBNZXRob2RcbiAgICAgKi9cblxuXG4gICAgUGFyc2VyLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UodG9rZW5zLCBvcHRpb25zKSB7XG4gICAgICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcihvcHRpb25zKTtcbiAgICAgIHJldHVybiBwYXJzZXIucGFyc2UodG9rZW5zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2UgTG9vcFxuICAgICAqL1xuICAgIDtcblxuICAgIHZhciBfcHJvdG8gPSBQYXJzZXIucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UodG9rZW5zLCB0b3ApIHtcbiAgICAgIGlmICh0b3AgPT09IHZvaWQgMCkge1xuICAgICAgICB0b3AgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3V0ID0gJycsXG4gICAgICAgICAgaSxcbiAgICAgICAgICBqLFxuICAgICAgICAgIGssXG4gICAgICAgICAgbDIsXG4gICAgICAgICAgbDMsXG4gICAgICAgICAgcm93LFxuICAgICAgICAgIGNlbGwsXG4gICAgICAgICAgaGVhZGVyLFxuICAgICAgICAgIGJvZHksXG4gICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgb3JkZXJlZCxcbiAgICAgICAgICBzdGFydCxcbiAgICAgICAgICBsb29zZSxcbiAgICAgICAgICBpdGVtQm9keSxcbiAgICAgICAgICBpdGVtLFxuICAgICAgICAgIGNoZWNrZWQsXG4gICAgICAgICAgdGFzayxcbiAgICAgICAgICBjaGVja2JveDtcbiAgICAgIHZhciBsID0gdG9rZW5zLmxlbmd0aDtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcblxuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdzcGFjZSc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnaHInOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5ocigpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2hlYWRpbmcnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5oZWFkaW5nKHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zKSwgdG9rZW4uZGVwdGgsIHVuZXNjYXBlJDEodGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMsIHRoaXMudGV4dFJlbmRlcmVyKSksIHRoaXMuc2x1Z2dlcik7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnY29kZSc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmNvZGUodG9rZW4udGV4dCwgdG9rZW4ubGFuZywgdG9rZW4uZXNjYXBlZCk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAndGFibGUnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBoZWFkZXIgPSAnJzsgLy8gaGVhZGVyXG5cbiAgICAgICAgICAgICAgY2VsbCA9ICcnO1xuICAgICAgICAgICAgICBsMiA9IHRva2VuLmhlYWRlci5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGwyOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjZWxsICs9IHRoaXMucmVuZGVyZXIudGFibGVjZWxsKHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zLmhlYWRlcltqXSksIHtcbiAgICAgICAgICAgICAgICAgIGhlYWRlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIGFsaWduOiB0b2tlbi5hbGlnbltqXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaGVhZGVyICs9IHRoaXMucmVuZGVyZXIudGFibGVyb3coY2VsbCk7XG4gICAgICAgICAgICAgIGJvZHkgPSAnJztcbiAgICAgICAgICAgICAgbDIgPSB0b2tlbi5jZWxscy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGwyOyBqKyspIHtcbiAgICAgICAgICAgICAgICByb3cgPSB0b2tlbi50b2tlbnMuY2VsbHNbal07XG4gICAgICAgICAgICAgICAgY2VsbCA9ICcnO1xuICAgICAgICAgICAgICAgIGwzID0gcm93Lmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBsMzsgaysrKSB7XG4gICAgICAgICAgICAgICAgICBjZWxsICs9IHRoaXMucmVuZGVyZXIudGFibGVjZWxsKHRoaXMucGFyc2VJbmxpbmUocm93W2tdKSwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbjogdG9rZW4uYWxpZ25ba11cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJvZHkgKz0gdGhpcy5yZW5kZXJlci50YWJsZXJvdyhjZWxsKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnRhYmxlKGhlYWRlciwgYm9keSk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnYmxvY2txdW90ZSc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGJvZHkgPSB0aGlzLnBhcnNlKHRva2VuLnRva2Vucyk7XG4gICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmJsb2NrcXVvdGUoYm9keSk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnbGlzdCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG9yZGVyZWQgPSB0b2tlbi5vcmRlcmVkO1xuICAgICAgICAgICAgICBzdGFydCA9IHRva2VuLnN0YXJ0O1xuICAgICAgICAgICAgICBsb29zZSA9IHRva2VuLmxvb3NlO1xuICAgICAgICAgICAgICBsMiA9IHRva2VuLml0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgICAgYm9keSA9ICcnO1xuXG4gICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBsMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IHRva2VuLml0ZW1zW2pdO1xuICAgICAgICAgICAgICAgIGNoZWNrZWQgPSBpdGVtLmNoZWNrZWQ7XG4gICAgICAgICAgICAgICAgdGFzayA9IGl0ZW0udGFzaztcbiAgICAgICAgICAgICAgICBpdGVtQm9keSA9ICcnO1xuXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udGFzaykge1xuICAgICAgICAgICAgICAgICAgY2hlY2tib3ggPSB0aGlzLnJlbmRlcmVyLmNoZWNrYm94KGNoZWNrZWQpO1xuXG4gICAgICAgICAgICAgICAgICBpZiAobG9vc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udG9rZW5zLmxlbmd0aCA+IDAgJiYgaXRlbS50b2tlbnNbMF0udHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaXRlbS50b2tlbnNbMF0udGV4dCA9IGNoZWNrYm94ICsgJyAnICsgaXRlbS50b2tlbnNbMF0udGV4dDtcblxuICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnRva2Vuc1swXS50b2tlbnMgJiYgaXRlbS50b2tlbnNbMF0udG9rZW5zLmxlbmd0aCA+IDAgJiYgaXRlbS50b2tlbnNbMF0udG9rZW5zWzBdLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50b2tlbnNbMF0udG9rZW5zWzBdLnRleHQgPSBjaGVja2JveCArICcgJyArIGl0ZW0udG9rZW5zWzBdLnRva2Vuc1swXS50ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBpdGVtLnRva2Vucy51bnNoaWZ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGNoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1Cb2R5ICs9IGNoZWNrYm94O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGl0ZW1Cb2R5ICs9IHRoaXMucGFyc2UoaXRlbS50b2tlbnMsIGxvb3NlKTtcbiAgICAgICAgICAgICAgICBib2R5ICs9IHRoaXMucmVuZGVyZXIubGlzdGl0ZW0oaXRlbUJvZHksIHRhc2ssIGNoZWNrZWQpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIubGlzdChib2R5LCBvcmRlcmVkLCBzdGFydCk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnaHRtbCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vIFRPRE8gcGFyc2UgaW5saW5lIGNvbnRlbnQgaWYgcGFyYW1ldGVyIG1hcmtkb3duPTFcbiAgICAgICAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuaHRtbCh0b2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdwYXJhZ3JhcGgnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgodGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMpKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYm9keSA9IHRva2VuLnRva2VucyA/IHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zKSA6IHRva2VuLnRleHQ7XG5cbiAgICAgICAgICAgICAgd2hpbGUgKGkgKyAxIDwgbCAmJiB0b2tlbnNbaSArIDFdLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5zWysraV07XG4gICAgICAgICAgICAgICAgYm9keSArPSAnXFxuJyArICh0b2tlbi50b2tlbnMgPyB0aGlzLnBhcnNlSW5saW5lKHRva2VuLnRva2VucykgOiB0b2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG91dCArPSB0b3AgPyB0aGlzLnJlbmRlcmVyLnBhcmFncmFwaChib2R5KSA6IGJvZHk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFyIGVyck1zZyA9ICdUb2tlbiB3aXRoIFwiJyArIHRva2VuLnR5cGUgKyAnXCIgdHlwZSB3YXMgbm90IGZvdW5kLic7XG5cbiAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2UgSW5saW5lIFRva2Vuc1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5wYXJzZUlubGluZSA9IGZ1bmN0aW9uIHBhcnNlSW5saW5lKHRva2VucywgcmVuZGVyZXIpIHtcbiAgICAgIHJlbmRlcmVyID0gcmVuZGVyZXIgfHwgdGhpcy5yZW5kZXJlcjtcbiAgICAgIHZhciBvdXQgPSAnJyxcbiAgICAgICAgICBpLFxuICAgICAgICAgIHRva2VuO1xuICAgICAgdmFyIGwgPSB0b2tlbnMubGVuZ3RoO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuXG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2VzY2FwZSc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci50ZXh0KHRva2VuLnRleHQpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2h0bWwnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIuaHRtbCh0b2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdsaW5rJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmxpbmsodG9rZW4uaHJlZiwgdG9rZW4udGl0bGUsIHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zLCByZW5kZXJlcikpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2ltYWdlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmltYWdlKHRva2VuLmhyZWYsIHRva2VuLnRpdGxlLCB0b2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdzdHJvbmcnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIuc3Ryb25nKHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zLCByZW5kZXJlcikpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2VtJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmVtKHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zLCByZW5kZXJlcikpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2NvZGVzcGFuJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmNvZGVzcGFuKHRva2VuLnRleHQpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2JyJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmJyKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnZGVsJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmRlbCh0aGlzLnBhcnNlSW5saW5lKHRva2VuLnRva2VucywgcmVuZGVyZXIpKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLnRleHQodG9rZW4udGV4dCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFyIGVyck1zZyA9ICdUb2tlbiB3aXRoIFwiJyArIHRva2VuLnR5cGUgKyAnXCIgdHlwZSB3YXMgbm90IGZvdW5kLic7XG5cbiAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBhcnNlcjtcbiAgfSgpO1xuXG4gIHZhciBtZXJnZSQyID0gaGVscGVycy5tZXJnZSxcbiAgICAgIGNoZWNrU2FuaXRpemVEZXByZWNhdGlvbiQxID0gaGVscGVycy5jaGVja1Nhbml0aXplRGVwcmVjYXRpb24sXG4gICAgICBlc2NhcGUkMiA9IGhlbHBlcnMuZXNjYXBlO1xuICB2YXIgZ2V0RGVmYXVsdHMgPSBkZWZhdWx0cy5nZXREZWZhdWx0cyxcbiAgICAgIGNoYW5nZURlZmF1bHRzID0gZGVmYXVsdHMuY2hhbmdlRGVmYXVsdHMsXG4gICAgICBkZWZhdWx0cyQ1ID0gZGVmYXVsdHMuZGVmYXVsdHM7XG4gIC8qKlxuICAgKiBNYXJrZWRcbiAgICovXG5cbiAgZnVuY3Rpb24gbWFya2VkKHNyYywgb3B0LCBjYWxsYmFjaykge1xuICAgIC8vIHRocm93IGVycm9yIGluIGNhc2Ugb2Ygbm9uIHN0cmluZyBpbnB1dFxuICAgIGlmICh0eXBlb2Ygc3JjID09PSAndW5kZWZpbmVkJyB8fCBzcmMgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbWFya2VkKCk6IGlucHV0IHBhcmFtZXRlciBpcyB1bmRlZmluZWQgb3IgbnVsbCcpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc3JjICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXJrZWQoKTogaW5wdXQgcGFyYW1ldGVyIGlzIG9mIHR5cGUgJyArIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzcmMpICsgJywgc3RyaW5nIGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0O1xuICAgICAgb3B0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBvcHQgPSBtZXJnZSQyKHt9LCBtYXJrZWQuZGVmYXVsdHMsIG9wdCB8fCB7fSk7XG4gICAgY2hlY2tTYW5pdGl6ZURlcHJlY2F0aW9uJDEob3B0KTtcblxuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgdmFyIGhpZ2hsaWdodCA9IG9wdC5oaWdobGlnaHQ7XG4gICAgICB2YXIgdG9rZW5zO1xuXG4gICAgICB0cnkge1xuICAgICAgICB0b2tlbnMgPSBMZXhlcl8xLmxleChzcmMsIG9wdCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRvbmUgPSBmdW5jdGlvbiBkb25lKGVycikge1xuICAgICAgICB2YXIgb3V0O1xuXG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG91dCA9IFBhcnNlcl8xLnBhcnNlKHRva2Vucywgb3B0KTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBlcnIgPSBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG9wdC5oaWdobGlnaHQgPSBoaWdobGlnaHQ7XG4gICAgICAgIHJldHVybiBlcnIgPyBjYWxsYmFjayhlcnIpIDogY2FsbGJhY2sobnVsbCwgb3V0KTtcbiAgICAgIH07XG5cbiAgICAgIGlmICghaGlnaGxpZ2h0IHx8IGhpZ2hsaWdodC5sZW5ndGggPCAzKSB7XG4gICAgICAgIHJldHVybiBkb25lKCk7XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBvcHQuaGlnaGxpZ2h0O1xuICAgICAgaWYgKCF0b2tlbnMubGVuZ3RoKSByZXR1cm4gZG9uZSgpO1xuICAgICAgdmFyIHBlbmRpbmcgPSAwO1xuICAgICAgbWFya2VkLndhbGtUb2tlbnModG9rZW5zLCBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09ICdjb2RlJykge1xuICAgICAgICAgIHBlbmRpbmcrKztcbiAgICAgICAgICBoaWdobGlnaHQodG9rZW4udGV4dCwgdG9rZW4ubGFuZywgZnVuY3Rpb24gKGVyciwgY29kZSkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICByZXR1cm4gZG9uZShlcnIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29kZSAhPSBudWxsICYmIGNvZGUgIT09IHRva2VuLnRleHQpIHtcbiAgICAgICAgICAgICAgdG9rZW4udGV4dCA9IGNvZGU7XG4gICAgICAgICAgICAgIHRva2VuLmVzY2FwZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwZW5kaW5nLS07XG5cbiAgICAgICAgICAgIGlmIChwZW5kaW5nID09PSAwKSB7XG4gICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChwZW5kaW5nID09PSAwKSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICB2YXIgX3Rva2VucyA9IExleGVyXzEubGV4KHNyYywgb3B0KTtcblxuICAgICAgaWYgKG9wdC53YWxrVG9rZW5zKSB7XG4gICAgICAgIG1hcmtlZC53YWxrVG9rZW5zKF90b2tlbnMsIG9wdC53YWxrVG9rZW5zKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFBhcnNlcl8xLnBhcnNlKF90b2tlbnMsIG9wdCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZS5tZXNzYWdlICs9ICdcXG5QbGVhc2UgcmVwb3J0IHRoaXMgdG8gaHR0cHM6Ly9naXRodWIuY29tL21hcmtlZGpzL21hcmtlZC4nO1xuXG4gICAgICBpZiAob3B0LnNpbGVudCkge1xuICAgICAgICByZXR1cm4gJzxwPkFuIGVycm9yIG9jY3VycmVkOjwvcD48cHJlPicgKyBlc2NhcGUkMihlLm1lc3NhZ2UgKyAnJywgdHJ1ZSkgKyAnPC9wcmU+JztcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIE9wdGlvbnNcbiAgICovXG5cblxuICBtYXJrZWQub3B0aW9ucyA9IG1hcmtlZC5zZXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdCkge1xuICAgIG1lcmdlJDIobWFya2VkLmRlZmF1bHRzLCBvcHQpO1xuICAgIGNoYW5nZURlZmF1bHRzKG1hcmtlZC5kZWZhdWx0cyk7XG4gICAgcmV0dXJuIG1hcmtlZDtcbiAgfTtcblxuICBtYXJrZWQuZ2V0RGVmYXVsdHMgPSBnZXREZWZhdWx0cztcbiAgbWFya2VkLmRlZmF1bHRzID0gZGVmYXVsdHMkNTtcbiAgLyoqXG4gICAqIFVzZSBFeHRlbnNpb25cbiAgICovXG5cbiAgbWFya2VkLnVzZSA9IGZ1bmN0aW9uIChleHRlbnNpb24pIHtcbiAgICB2YXIgb3B0cyA9IG1lcmdlJDIoe30sIGV4dGVuc2lvbik7XG5cbiAgICBpZiAoZXh0ZW5zaW9uLnJlbmRlcmVyKSB7XG4gICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSBtYXJrZWQuZGVmYXVsdHMucmVuZGVyZXIgfHwgbmV3IFJlbmRlcmVyXzEoKTtcblxuICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChwcm9wKSB7XG4gICAgICAgICAgdmFyIHByZXZSZW5kZXJlciA9IHJlbmRlcmVyW3Byb3BdO1xuXG4gICAgICAgICAgcmVuZGVyZXJbcHJvcF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJldCA9IGV4dGVuc2lvbi5yZW5kZXJlcltwcm9wXS5hcHBseShyZW5kZXJlciwgYXJncyk7XG5cbiAgICAgICAgICAgIGlmIChyZXQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHJldCA9IHByZXZSZW5kZXJlci5hcHBseShyZW5kZXJlciwgYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIGV4dGVuc2lvbi5yZW5kZXJlcikge1xuICAgICAgICAgIF9sb29wKHByb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0cy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgfSkoKTtcbiAgICB9XG5cbiAgICBpZiAoZXh0ZW5zaW9uLnRva2VuaXplcikge1xuICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRva2VuaXplciA9IG1hcmtlZC5kZWZhdWx0cy50b2tlbml6ZXIgfHwgbmV3IFRva2VuaXplcl8xKCk7XG5cbiAgICAgICAgdmFyIF9sb29wMiA9IGZ1bmN0aW9uIF9sb29wMihwcm9wKSB7XG4gICAgICAgICAgdmFyIHByZXZUb2tlbml6ZXIgPSB0b2tlbml6ZXJbcHJvcF07XG5cbiAgICAgICAgICB0b2tlbml6ZXJbcHJvcF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmV0ID0gZXh0ZW5zaW9uLnRva2VuaXplcltwcm9wXS5hcHBseSh0b2tlbml6ZXIsIGFyZ3MpO1xuXG4gICAgICAgICAgICBpZiAocmV0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICByZXQgPSBwcmV2VG9rZW5pemVyLmFwcGx5KHRva2VuaXplciwgYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIGV4dGVuc2lvbi50b2tlbml6ZXIpIHtcbiAgICAgICAgICBfbG9vcDIocHJvcCk7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRzLnRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICAgIH0pKCk7XG4gICAgfVxuXG4gICAgaWYgKGV4dGVuc2lvbi53YWxrVG9rZW5zKSB7XG4gICAgICB2YXIgd2Fsa1Rva2VucyA9IG1hcmtlZC5kZWZhdWx0cy53YWxrVG9rZW5zO1xuXG4gICAgICBvcHRzLndhbGtUb2tlbnMgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgZXh0ZW5zaW9uLndhbGtUb2tlbnModG9rZW4pO1xuXG4gICAgICAgIGlmICh3YWxrVG9rZW5zKSB7XG4gICAgICAgICAgd2Fsa1Rva2Vucyh0b2tlbik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgbWFya2VkLnNldE9wdGlvbnMob3B0cyk7XG4gIH07XG4gIC8qKlxuICAgKiBSdW4gY2FsbGJhY2sgZm9yIGV2ZXJ5IHRva2VuXG4gICAqL1xuXG5cbiAgbWFya2VkLndhbGtUb2tlbnMgPSBmdW5jdGlvbiAodG9rZW5zLCBjYWxsYmFjaykge1xuICAgIGZvciAodmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UodG9rZW5zKSwgX3N0ZXA7ICEoX3N0ZXAgPSBfaXRlcmF0b3IoKSkuZG9uZTspIHtcbiAgICAgIHZhciB0b2tlbiA9IF9zdGVwLnZhbHVlO1xuICAgICAgY2FsbGJhY2sodG9rZW4pO1xuXG4gICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgY2FzZSAndGFibGUnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKHRva2VuLnRva2Vucy5oZWFkZXIpLCBfc3RlcDI7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMigpKS5kb25lOykge1xuICAgICAgICAgICAgICB2YXIgY2VsbCA9IF9zdGVwMi52YWx1ZTtcbiAgICAgICAgICAgICAgbWFya2VkLndhbGtUb2tlbnMoY2VsbCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZSh0b2tlbi50b2tlbnMuY2VsbHMpLCBfc3RlcDM7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMygpKS5kb25lOykge1xuICAgICAgICAgICAgICB2YXIgcm93ID0gX3N0ZXAzLnZhbHVlO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKHJvdyksIF9zdGVwNDsgIShfc3RlcDQgPSBfaXRlcmF0b3I0KCkpLmRvbmU7KSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jZWxsID0gX3N0ZXA0LnZhbHVlO1xuICAgICAgICAgICAgICAgIG1hcmtlZC53YWxrVG9rZW5zKF9jZWxsLCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ2xpc3QnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1hcmtlZC53YWxrVG9rZW5zKHRva2VuLml0ZW1zLCBjYWxsYmFjayk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAodG9rZW4udG9rZW5zKSB7XG4gICAgICAgICAgICAgIG1hcmtlZC53YWxrVG9rZW5zKHRva2VuLnRva2VucywgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeHBvc2VcbiAgICovXG5cblxuICBtYXJrZWQuUGFyc2VyID0gUGFyc2VyXzE7XG4gIG1hcmtlZC5wYXJzZXIgPSBQYXJzZXJfMS5wYXJzZTtcbiAgbWFya2VkLlJlbmRlcmVyID0gUmVuZGVyZXJfMTtcbiAgbWFya2VkLlRleHRSZW5kZXJlciA9IFRleHRSZW5kZXJlcl8xO1xuICBtYXJrZWQuTGV4ZXIgPSBMZXhlcl8xO1xuICBtYXJrZWQubGV4ZXIgPSBMZXhlcl8xLmxleDtcbiAgbWFya2VkLlRva2VuaXplciA9IFRva2VuaXplcl8xO1xuICBtYXJrZWQuU2x1Z2dlciA9IFNsdWdnZXJfMTtcbiAgbWFya2VkLnBhcnNlID0gbWFya2VkO1xuICB2YXIgbWFya2VkXzEgPSBtYXJrZWQ7XG5cbiAgcmV0dXJuIG1hcmtlZF8xO1xuXG59KSkpO1xuIiwiLyogQGxpY2Vuc2VcblBhcGEgUGFyc2VcbnY1LjIuMFxuaHR0cHM6Ly9naXRodWIuY29tL21ob2x0L1BhcGFQYXJzZVxuTGljZW5zZTogTUlUXG4qL1xuIWZ1bmN0aW9uKGUsdCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz10KCk6ZS5QYXBhPXQoKX0odGhpcyxmdW5jdGlvbiBzKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGY9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp2b2lkIDAhPT1mP2Y6e307dmFyIG49IWYuZG9jdW1lbnQmJiEhZi5wb3N0TWVzc2FnZSxvPW4mJi9ibG9iOi9pLnRlc3QoKGYubG9jYXRpb258fHt9KS5wcm90b2NvbCksYT17fSxoPTAsYj17cGFyc2U6ZnVuY3Rpb24oZSx0KXt2YXIgaT0odD10fHx7fSkuZHluYW1pY1R5cGluZ3x8ITE7VShpKSYmKHQuZHluYW1pY1R5cGluZ0Z1bmN0aW9uPWksaT17fSk7aWYodC5keW5hbWljVHlwaW5nPWksdC50cmFuc2Zvcm09ISFVKHQudHJhbnNmb3JtKSYmdC50cmFuc2Zvcm0sdC53b3JrZXImJmIuV09SS0VSU19TVVBQT1JURUQpe3ZhciByPWZ1bmN0aW9uKCl7aWYoIWIuV09SS0VSU19TVVBQT1JURUQpcmV0dXJuITE7dmFyIGU9KGk9Zi5VUkx8fGYud2Via2l0VVJMfHxudWxsLHI9cy50b1N0cmluZygpLGIuQkxPQl9VUkx8fChiLkJMT0JfVVJMPWkuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtcIihcIixyLFwiKSgpO1wiXSx7dHlwZTpcInRleHQvamF2YXNjcmlwdFwifSkpKSksdD1uZXcgZi5Xb3JrZXIoZSk7dmFyIGkscjtyZXR1cm4gdC5vbm1lc3NhZ2U9Xyx0LmlkPWgrKyxhW3QuaWRdPXR9KCk7cmV0dXJuIHIudXNlclN0ZXA9dC5zdGVwLHIudXNlckNodW5rPXQuY2h1bmssci51c2VyQ29tcGxldGU9dC5jb21wbGV0ZSxyLnVzZXJFcnJvcj10LmVycm9yLHQuc3RlcD1VKHQuc3RlcCksdC5jaHVuaz1VKHQuY2h1bmspLHQuY29tcGxldGU9VSh0LmNvbXBsZXRlKSx0LmVycm9yPVUodC5lcnJvciksZGVsZXRlIHQud29ya2VyLHZvaWQgci5wb3N0TWVzc2FnZSh7aW5wdXQ6ZSxjb25maWc6dCx3b3JrZXJJZDpyLmlkfSl9dmFyIG49bnVsbDtiLk5PREVfU1RSRUFNX0lOUFVULFwic3RyaW5nXCI9PXR5cGVvZiBlP249dC5kb3dubG9hZD9uZXcgbCh0KTpuZXcgcCh0KTohMD09PWUucmVhZGFibGUmJlUoZS5yZWFkKSYmVShlLm9uKT9uPW5ldyBnKHQpOihmLkZpbGUmJmUgaW5zdGFuY2VvZiBGaWxlfHxlIGluc3RhbmNlb2YgT2JqZWN0KSYmKG49bmV3IGModCkpO3JldHVybiBuLnN0cmVhbShlKX0sdW5wYXJzZTpmdW5jdGlvbihlLHQpe3ZhciBuPSExLF89ITAsbT1cIixcIix2PVwiXFxyXFxuXCIscz0nXCInLGE9cytzLGk9ITEscj1udWxsOyFmdW5jdGlvbigpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0KXJldHVybjtcInN0cmluZ1wiIT10eXBlb2YgdC5kZWxpbWl0ZXJ8fGIuQkFEX0RFTElNSVRFUlMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09dC5kZWxpbWl0ZXIuaW5kZXhPZihlKX0pLmxlbmd0aHx8KG09dC5kZWxpbWl0ZXIpOyhcImJvb2xlYW5cIj09dHlwZW9mIHQucXVvdGVzfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnF1b3Rlc3x8QXJyYXkuaXNBcnJheSh0LnF1b3RlcykpJiYobj10LnF1b3Rlcyk7XCJib29sZWFuXCIhPXR5cGVvZiB0LnNraXBFbXB0eUxpbmVzJiZcInN0cmluZ1wiIT10eXBlb2YgdC5za2lwRW1wdHlMaW5lc3x8KGk9dC5za2lwRW1wdHlMaW5lcyk7XCJzdHJpbmdcIj09dHlwZW9mIHQubmV3bGluZSYmKHY9dC5uZXdsaW5lKTtcInN0cmluZ1wiPT10eXBlb2YgdC5xdW90ZUNoYXImJihzPXQucXVvdGVDaGFyKTtcImJvb2xlYW5cIj09dHlwZW9mIHQuaGVhZGVyJiYoXz10LmhlYWRlcik7aWYoQXJyYXkuaXNBcnJheSh0LmNvbHVtbnMpKXtpZigwPT09dC5jb2x1bW5zLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJPcHRpb24gY29sdW1ucyBpcyBlbXB0eVwiKTtyPXQuY29sdW1uc312b2lkIDAhPT10LmVzY2FwZUNoYXImJihhPXQuZXNjYXBlQ2hhcitzKX0oKTt2YXIgbz1uZXcgUmVnRXhwKHEocyksXCJnXCIpO1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1KU09OLnBhcnNlKGUpKTtpZihBcnJheS5pc0FycmF5KGUpKXtpZighZS5sZW5ndGh8fEFycmF5LmlzQXJyYXkoZVswXSkpcmV0dXJuIHUobnVsbCxlLGkpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlWzBdKXJldHVybiB1KHJ8fGgoZVswXSksZSxpKX1lbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXJldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlLmRhdGEmJihlLmRhdGE9SlNPTi5wYXJzZShlLmRhdGEpKSxBcnJheS5pc0FycmF5KGUuZGF0YSkmJihlLmZpZWxkc3x8KGUuZmllbGRzPWUubWV0YSYmZS5tZXRhLmZpZWxkcyksZS5maWVsZHN8fChlLmZpZWxkcz1BcnJheS5pc0FycmF5KGUuZGF0YVswXSk/ZS5maWVsZHM6aChlLmRhdGFbMF0pKSxBcnJheS5pc0FycmF5KGUuZGF0YVswXSl8fFwib2JqZWN0XCI9PXR5cGVvZiBlLmRhdGFbMF18fChlLmRhdGE9W2UuZGF0YV0pKSx1KGUuZmllbGRzfHxbXSxlLmRhdGF8fFtdLGkpO3Rocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBzZXJpYWxpemUgdW5yZWNvZ25pemVkIGlucHV0XCIpO2Z1bmN0aW9uIGgoZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUpcmV0dXJuW107dmFyIHQ9W107Zm9yKHZhciBpIGluIGUpdC5wdXNoKGkpO3JldHVybiB0fWZ1bmN0aW9uIHUoZSx0LGkpe3ZhciByPVwiXCI7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPUpTT04ucGFyc2UoZSkpLFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1KU09OLnBhcnNlKHQpKTt2YXIgbj1BcnJheS5pc0FycmF5KGUpJiYwPGUubGVuZ3RoLHM9IUFycmF5LmlzQXJyYXkodFswXSk7aWYobiYmXyl7Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspMDxhJiYocis9bSkscis9eShlW2FdLGEpOzA8dC5sZW5ndGgmJihyKz12KX1mb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIGg9bj9lLmxlbmd0aDp0W29dLmxlbmd0aCx1PSExLGY9bj8wPT09T2JqZWN0LmtleXModFtvXSkubGVuZ3RoOjA9PT10W29dLmxlbmd0aDtpZihpJiYhbiYmKHU9XCJncmVlZHlcIj09PWk/XCJcIj09PXRbb10uam9pbihcIlwiKS50cmltKCk6MT09PXRbb10ubGVuZ3RoJiYwPT09dFtvXVswXS5sZW5ndGgpLFwiZ3JlZWR5XCI9PT1pJiZuKXtmb3IodmFyIGQ9W10sbD0wO2w8aDtsKyspe3ZhciBjPXM/ZVtsXTpsO2QucHVzaCh0W29dW2NdKX11PVwiXCI9PT1kLmpvaW4oXCJcIikudHJpbSgpfWlmKCF1KXtmb3IodmFyIHA9MDtwPGg7cCsrKXswPHAmJiFmJiYocis9bSk7dmFyIGc9biYmcz9lW3BdOnA7cis9eSh0W29dW2ddLHApfW88dC5sZW5ndGgtMSYmKCFpfHwwPGgmJiFmKSYmKHIrPXYpfX1yZXR1cm4gcn1mdW5jdGlvbiB5KGUsdCl7aWYobnVsbD09ZSlyZXR1cm5cIlwiO2lmKGUuY29uc3RydWN0b3I9PT1EYXRlKXJldHVybiBKU09OLnN0cmluZ2lmeShlKS5zbGljZSgxLDI1KTt2YXIgaT1lLnRvU3RyaW5nKCkucmVwbGFjZShvLGEpLHI9XCJib29sZWFuXCI9PXR5cGVvZiBuJiZufHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuKGUsdCl8fEFycmF5LmlzQXJyYXkobikmJm5bdF18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspaWYoLTE8ZS5pbmRleE9mKHRbaV0pKXJldHVybiEwO3JldHVybiExfShpLGIuQkFEX0RFTElNSVRFUlMpfHwtMTxpLmluZGV4T2YobSl8fFwiIFwiPT09aS5jaGFyQXQoMCl8fFwiIFwiPT09aS5jaGFyQXQoaS5sZW5ndGgtMSk7cmV0dXJuIHI/cytpK3M6aX19fTtpZihiLlJFQ09SRF9TRVA9U3RyaW5nLmZyb21DaGFyQ29kZSgzMCksYi5VTklUX1NFUD1TdHJpbmcuZnJvbUNoYXJDb2RlKDMxKSxiLkJZVEVfT1JERVJfTUFSSz1cIlxcdWZlZmZcIixiLkJBRF9ERUxJTUlURVJTPVtcIlxcclwiLFwiXFxuXCIsJ1wiJyxiLkJZVEVfT1JERVJfTUFSS10sYi5XT1JLRVJTX1NVUFBPUlRFRD0hbiYmISFmLldvcmtlcixiLk5PREVfU1RSRUFNX0lOUFVUPTEsYi5Mb2NhbENodW5rU2l6ZT0xMDQ4NTc2MCxiLlJlbW90ZUNodW5rU2l6ZT01MjQyODgwLGIuRGVmYXVsdERlbGltaXRlcj1cIixcIixiLlBhcnNlcj13LGIuUGFyc2VySGFuZGxlPWksYi5OZXR3b3JrU3RyZWFtZXI9bCxiLkZpbGVTdHJlYW1lcj1jLGIuU3RyaW5nU3RyZWFtZXI9cCxiLlJlYWRhYmxlU3RyZWFtU3RyZWFtZXI9ZyxmLmpRdWVyeSl7dmFyIGQ9Zi5qUXVlcnk7ZC5mbi5wYXJzZT1mdW5jdGlvbihvKXt2YXIgaT1vLmNvbmZpZ3x8e30saD1bXTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe2lmKCEoXCJJTlBVVFwiPT09ZCh0aGlzKS5wcm9wKFwidGFnTmFtZVwiKS50b1VwcGVyQ2FzZSgpJiZcImZpbGVcIj09PWQodGhpcykuYXR0cihcInR5cGVcIikudG9Mb3dlckNhc2UoKSYmZi5GaWxlUmVhZGVyKXx8IXRoaXMuZmlsZXN8fDA9PT10aGlzLmZpbGVzLmxlbmd0aClyZXR1cm4hMDtmb3IodmFyIHQ9MDt0PHRoaXMuZmlsZXMubGVuZ3RoO3QrKyloLnB1c2goe2ZpbGU6dGhpcy5maWxlc1t0XSxpbnB1dEVsZW06dGhpcyxpbnN0YW5jZUNvbmZpZzpkLmV4dGVuZCh7fSxpKX0pfSksZSgpLHRoaXM7ZnVuY3Rpb24gZSgpe2lmKDAhPT1oLmxlbmd0aCl7dmFyIGUsdCxpLHIsbj1oWzBdO2lmKFUoby5iZWZvcmUpKXt2YXIgcz1vLmJlZm9yZShuLmZpbGUsbi5pbnB1dEVsZW0pO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBzKXtpZihcImFib3J0XCI9PT1zLmFjdGlvbilyZXR1cm4gZT1cIkFib3J0RXJyb3JcIix0PW4uZmlsZSxpPW4uaW5wdXRFbGVtLHI9cy5yZWFzb24sdm9pZChVKG8uZXJyb3IpJiZvLmVycm9yKHtuYW1lOmV9LHQsaSxyKSk7aWYoXCJza2lwXCI9PT1zLmFjdGlvbilyZXR1cm4gdm9pZCB1KCk7XCJvYmplY3RcIj09dHlwZW9mIHMuY29uZmlnJiYobi5pbnN0YW5jZUNvbmZpZz1kLmV4dGVuZChuLmluc3RhbmNlQ29uZmlnLHMuY29uZmlnKSl9ZWxzZSBpZihcInNraXBcIj09PXMpcmV0dXJuIHZvaWQgdSgpfXZhciBhPW4uaW5zdGFuY2VDb25maWcuY29tcGxldGU7bi5pbnN0YW5jZUNvbmZpZy5jb21wbGV0ZT1mdW5jdGlvbihlKXtVKGEpJiZhKGUsbi5maWxlLG4uaW5wdXRFbGVtKSx1KCl9LGIucGFyc2Uobi5maWxlLG4uaW5zdGFuY2VDb25maWcpfWVsc2UgVShvLmNvbXBsZXRlKSYmby5jb21wbGV0ZSgpfWZ1bmN0aW9uIHUoKXtoLnNwbGljZSgwLDEpLGUoKX19fWZ1bmN0aW9uIHUoZSl7dGhpcy5faGFuZGxlPW51bGwsdGhpcy5fZmluaXNoZWQ9ITEsdGhpcy5fY29tcGxldGVkPSExLHRoaXMuX2hhbHRlZD0hMSx0aGlzLl9pbnB1dD1udWxsLHRoaXMuX2Jhc2VJbmRleD0wLHRoaXMuX3BhcnRpYWxMaW5lPVwiXCIsdGhpcy5fcm93Q291bnQ9MCx0aGlzLl9zdGFydD0wLHRoaXMuX25leHRDaHVuaz1udWxsLHRoaXMuaXNGaXJzdENodW5rPSEwLHRoaXMuX2NvbXBsZXRlUmVzdWx0cz17ZGF0YTpbXSxlcnJvcnM6W10sbWV0YTp7fX0sZnVuY3Rpb24oZSl7dmFyIHQ9RShlKTt0LmNodW5rU2l6ZT1wYXJzZUludCh0LmNodW5rU2l6ZSksZS5zdGVwfHxlLmNodW5rfHwodC5jaHVua1NpemU9bnVsbCk7dGhpcy5faGFuZGxlPW5ldyBpKHQpLCh0aGlzLl9oYW5kbGUuc3RyZWFtZXI9dGhpcykuX2NvbmZpZz10fS5jYWxsKHRoaXMsZSksdGhpcy5wYXJzZUNodW5rPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5pc0ZpcnN0Q2h1bmsmJlUodGhpcy5fY29uZmlnLmJlZm9yZUZpcnN0Q2h1bmspKXt2YXIgaT10aGlzLl9jb25maWcuYmVmb3JlRmlyc3RDaHVuayhlKTt2b2lkIDAhPT1pJiYoZT1pKX10aGlzLmlzRmlyc3RDaHVuaz0hMSx0aGlzLl9oYWx0ZWQ9ITE7dmFyIHI9dGhpcy5fcGFydGlhbExpbmUrZTt0aGlzLl9wYXJ0aWFsTGluZT1cIlwiO3ZhciBuPXRoaXMuX2hhbmRsZS5wYXJzZShyLHRoaXMuX2Jhc2VJbmRleCwhdGhpcy5fZmluaXNoZWQpO2lmKCF0aGlzLl9oYW5kbGUucGF1c2VkKCkmJiF0aGlzLl9oYW5kbGUuYWJvcnRlZCgpKXt2YXIgcz1uLm1ldGEuY3Vyc29yO3RoaXMuX2ZpbmlzaGVkfHwodGhpcy5fcGFydGlhbExpbmU9ci5zdWJzdHJpbmcocy10aGlzLl9iYXNlSW5kZXgpLHRoaXMuX2Jhc2VJbmRleD1zKSxuJiZuLmRhdGEmJih0aGlzLl9yb3dDb3VudCs9bi5kYXRhLmxlbmd0aCk7dmFyIGE9dGhpcy5fZmluaXNoZWR8fHRoaXMuX2NvbmZpZy5wcmV2aWV3JiZ0aGlzLl9yb3dDb3VudD49dGhpcy5fY29uZmlnLnByZXZpZXc7aWYobylmLnBvc3RNZXNzYWdlKHtyZXN1bHRzOm4sd29ya2VySWQ6Yi5XT1JLRVJfSUQsZmluaXNoZWQ6YX0pO2Vsc2UgaWYoVSh0aGlzLl9jb25maWcuY2h1bmspJiYhdCl7aWYodGhpcy5fY29uZmlnLmNodW5rKG4sdGhpcy5faGFuZGxlKSx0aGlzLl9oYW5kbGUucGF1c2VkKCl8fHRoaXMuX2hhbmRsZS5hYm9ydGVkKCkpcmV0dXJuIHZvaWQodGhpcy5faGFsdGVkPSEwKTtuPXZvaWQgMCx0aGlzLl9jb21wbGV0ZVJlc3VsdHM9dm9pZCAwfXJldHVybiB0aGlzLl9jb25maWcuc3RlcHx8dGhpcy5fY29uZmlnLmNodW5rfHwodGhpcy5fY29tcGxldGVSZXN1bHRzLmRhdGE9dGhpcy5fY29tcGxldGVSZXN1bHRzLmRhdGEuY29uY2F0KG4uZGF0YSksdGhpcy5fY29tcGxldGVSZXN1bHRzLmVycm9ycz10aGlzLl9jb21wbGV0ZVJlc3VsdHMuZXJyb3JzLmNvbmNhdChuLmVycm9ycyksdGhpcy5fY29tcGxldGVSZXN1bHRzLm1ldGE9bi5tZXRhKSx0aGlzLl9jb21wbGV0ZWR8fCFhfHwhVSh0aGlzLl9jb25maWcuY29tcGxldGUpfHxuJiZuLm1ldGEuYWJvcnRlZHx8KHRoaXMuX2NvbmZpZy5jb21wbGV0ZSh0aGlzLl9jb21wbGV0ZVJlc3VsdHMsdGhpcy5faW5wdXQpLHRoaXMuX2NvbXBsZXRlZD0hMCksYXx8biYmbi5tZXRhLnBhdXNlZHx8dGhpcy5fbmV4dENodW5rKCksbn10aGlzLl9oYWx0ZWQ9ITB9LHRoaXMuX3NlbmRFcnJvcj1mdW5jdGlvbihlKXtVKHRoaXMuX2NvbmZpZy5lcnJvcik/dGhpcy5fY29uZmlnLmVycm9yKGUpOm8mJnRoaXMuX2NvbmZpZy5lcnJvciYmZi5wb3N0TWVzc2FnZSh7d29ya2VySWQ6Yi5XT1JLRVJfSUQsZXJyb3I6ZSxmaW5pc2hlZDohMX0pfX1mdW5jdGlvbiBsKGUpe3ZhciByOyhlPWV8fHt9KS5jaHVua1NpemV8fChlLmNodW5rU2l6ZT1iLlJlbW90ZUNodW5rU2l6ZSksdS5jYWxsKHRoaXMsZSksdGhpcy5fbmV4dENodW5rPW4/ZnVuY3Rpb24oKXt0aGlzLl9yZWFkQ2h1bmsoKSx0aGlzLl9jaHVua0xvYWRlZCgpfTpmdW5jdGlvbigpe3RoaXMuX3JlYWRDaHVuaygpfSx0aGlzLnN0cmVhbT1mdW5jdGlvbihlKXt0aGlzLl9pbnB1dD1lLHRoaXMuX25leHRDaHVuaygpfSx0aGlzLl9yZWFkQ2h1bms9ZnVuY3Rpb24oKXtpZih0aGlzLl9maW5pc2hlZCl0aGlzLl9jaHVua0xvYWRlZCgpO2Vsc2V7aWYocj1uZXcgWE1MSHR0cFJlcXVlc3QsdGhpcy5fY29uZmlnLndpdGhDcmVkZW50aWFscyYmKHIud2l0aENyZWRlbnRpYWxzPXRoaXMuX2NvbmZpZy53aXRoQ3JlZGVudGlhbHMpLG58fChyLm9ubG9hZD15KHRoaXMuX2NodW5rTG9hZGVkLHRoaXMpLHIub25lcnJvcj15KHRoaXMuX2NodW5rRXJyb3IsdGhpcykpLHIub3Blbih0aGlzLl9jb25maWcuZG93bmxvYWRSZXF1ZXN0Qm9keT9cIlBPU1RcIjpcIkdFVFwiLHRoaXMuX2lucHV0LCFuKSx0aGlzLl9jb25maWcuZG93bmxvYWRSZXF1ZXN0SGVhZGVycyl7dmFyIGU9dGhpcy5fY29uZmlnLmRvd25sb2FkUmVxdWVzdEhlYWRlcnM7Zm9yKHZhciB0IGluIGUpci5zZXRSZXF1ZXN0SGVhZGVyKHQsZVt0XSl9aWYodGhpcy5fY29uZmlnLmNodW5rU2l6ZSl7dmFyIGk9dGhpcy5fc3RhcnQrdGhpcy5fY29uZmlnLmNodW5rU2l6ZS0xO3Iuc2V0UmVxdWVzdEhlYWRlcihcIlJhbmdlXCIsXCJieXRlcz1cIit0aGlzLl9zdGFydCtcIi1cIitpKX10cnl7ci5zZW5kKHRoaXMuX2NvbmZpZy5kb3dubG9hZFJlcXVlc3RCb2R5KX1jYXRjaChlKXt0aGlzLl9jaHVua0Vycm9yKGUubWVzc2FnZSl9biYmMD09PXIuc3RhdHVzJiZ0aGlzLl9jaHVua0Vycm9yKCl9fSx0aGlzLl9jaHVua0xvYWRlZD1mdW5jdGlvbigpezQ9PT1yLnJlYWR5U3RhdGUmJihyLnN0YXR1czwyMDB8fDQwMDw9ci5zdGF0dXM/dGhpcy5fY2h1bmtFcnJvcigpOih0aGlzLl9zdGFydCs9dGhpcy5fY29uZmlnLmNodW5rU2l6ZT90aGlzLl9jb25maWcuY2h1bmtTaXplOnIucmVzcG9uc2VUZXh0Lmxlbmd0aCx0aGlzLl9maW5pc2hlZD0hdGhpcy5fY29uZmlnLmNodW5rU2l6ZXx8dGhpcy5fc3RhcnQ+PWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVJhbmdlXCIpO2lmKG51bGw9PT10KXJldHVybi0xO3JldHVybiBwYXJzZUludCh0LnN1YnN0cmluZyh0Lmxhc3RJbmRleE9mKFwiL1wiKSsxKSl9KHIpLHRoaXMucGFyc2VDaHVuayhyLnJlc3BvbnNlVGV4dCkpKX0sdGhpcy5fY2h1bmtFcnJvcj1mdW5jdGlvbihlKXt2YXIgdD1yLnN0YXR1c1RleHR8fGU7dGhpcy5fc2VuZEVycm9yKG5ldyBFcnJvcih0KSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHIsbjsoZT1lfHx7fSkuY2h1bmtTaXplfHwoZS5jaHVua1NpemU9Yi5Mb2NhbENodW5rU2l6ZSksdS5jYWxsKHRoaXMsZSk7dmFyIHM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZpbGVSZWFkZXI7dGhpcy5zdHJlYW09ZnVuY3Rpb24oZSl7dGhpcy5faW5wdXQ9ZSxuPWUuc2xpY2V8fGUud2Via2l0U2xpY2V8fGUubW96U2xpY2Uscz8oKHI9bmV3IEZpbGVSZWFkZXIpLm9ubG9hZD15KHRoaXMuX2NodW5rTG9hZGVkLHRoaXMpLHIub25lcnJvcj15KHRoaXMuX2NodW5rRXJyb3IsdGhpcykpOnI9bmV3IEZpbGVSZWFkZXJTeW5jLHRoaXMuX25leHRDaHVuaygpfSx0aGlzLl9uZXh0Q2h1bms9ZnVuY3Rpb24oKXt0aGlzLl9maW5pc2hlZHx8dGhpcy5fY29uZmlnLnByZXZpZXcmJiEodGhpcy5fcm93Q291bnQ8dGhpcy5fY29uZmlnLnByZXZpZXcpfHx0aGlzLl9yZWFkQ2h1bmsoKX0sdGhpcy5fcmVhZENodW5rPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5faW5wdXQ7aWYodGhpcy5fY29uZmlnLmNodW5rU2l6ZSl7dmFyIHQ9TWF0aC5taW4odGhpcy5fc3RhcnQrdGhpcy5fY29uZmlnLmNodW5rU2l6ZSx0aGlzLl9pbnB1dC5zaXplKTtlPW4uY2FsbChlLHRoaXMuX3N0YXJ0LHQpfXZhciBpPXIucmVhZEFzVGV4dChlLHRoaXMuX2NvbmZpZy5lbmNvZGluZyk7c3x8dGhpcy5fY2h1bmtMb2FkZWQoe3RhcmdldDp7cmVzdWx0Oml9fSl9LHRoaXMuX2NodW5rTG9hZGVkPWZ1bmN0aW9uKGUpe3RoaXMuX3N0YXJ0Kz10aGlzLl9jb25maWcuY2h1bmtTaXplLHRoaXMuX2ZpbmlzaGVkPSF0aGlzLl9jb25maWcuY2h1bmtTaXplfHx0aGlzLl9zdGFydD49dGhpcy5faW5wdXQuc2l6ZSx0aGlzLnBhcnNlQ2h1bmsoZS50YXJnZXQucmVzdWx0KX0sdGhpcy5fY2h1bmtFcnJvcj1mdW5jdGlvbigpe3RoaXMuX3NlbmRFcnJvcihyLmVycm9yKX19ZnVuY3Rpb24gcChlKXt2YXIgaTt1LmNhbGwodGhpcyxlPWV8fHt9KSx0aGlzLnN0cmVhbT1mdW5jdGlvbihlKXtyZXR1cm4gaT1lLHRoaXMuX25leHRDaHVuaygpfSx0aGlzLl9uZXh0Q2h1bms9ZnVuY3Rpb24oKXtpZighdGhpcy5fZmluaXNoZWQpe3ZhciBlLHQ9dGhpcy5fY29uZmlnLmNodW5rU2l6ZTtyZXR1cm4gdD8oZT1pLnN1YnN0cmluZygwLHQpLGk9aS5zdWJzdHJpbmcodCkpOihlPWksaT1cIlwiKSx0aGlzLl9maW5pc2hlZD0haSx0aGlzLnBhcnNlQ2h1bmsoZSl9fX1mdW5jdGlvbiBnKGUpe3UuY2FsbCh0aGlzLGU9ZXx8e30pO3ZhciB0PVtdLGk9ITAscj0hMTt0aGlzLnBhdXNlPWZ1bmN0aW9uKCl7dS5wcm90b3R5cGUucGF1c2UuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2lucHV0LnBhdXNlKCl9LHRoaXMucmVzdW1lPWZ1bmN0aW9uKCl7dS5wcm90b3R5cGUucmVzdW1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9pbnB1dC5yZXN1bWUoKX0sdGhpcy5zdHJlYW09ZnVuY3Rpb24oZSl7dGhpcy5faW5wdXQ9ZSx0aGlzLl9pbnB1dC5vbihcImRhdGFcIix0aGlzLl9zdHJlYW1EYXRhKSx0aGlzLl9pbnB1dC5vbihcImVuZFwiLHRoaXMuX3N0cmVhbUVuZCksdGhpcy5faW5wdXQub24oXCJlcnJvclwiLHRoaXMuX3N0cmVhbUVycm9yKX0sdGhpcy5fY2hlY2tJc0ZpbmlzaGVkPWZ1bmN0aW9uKCl7ciYmMT09PXQubGVuZ3RoJiYodGhpcy5fZmluaXNoZWQ9ITApfSx0aGlzLl9uZXh0Q2h1bms9ZnVuY3Rpb24oKXt0aGlzLl9jaGVja0lzRmluaXNoZWQoKSx0Lmxlbmd0aD90aGlzLnBhcnNlQ2h1bmsodC5zaGlmdCgpKTppPSEwfSx0aGlzLl9zdHJlYW1EYXRhPXkoZnVuY3Rpb24oZSl7dHJ5e3QucHVzaChcInN0cmluZ1wiPT10eXBlb2YgZT9lOmUudG9TdHJpbmcodGhpcy5fY29uZmlnLmVuY29kaW5nKSksaSYmKGk9ITEsdGhpcy5fY2hlY2tJc0ZpbmlzaGVkKCksdGhpcy5wYXJzZUNodW5rKHQuc2hpZnQoKSkpfWNhdGNoKGUpe3RoaXMuX3N0cmVhbUVycm9yKGUpfX0sdGhpcyksdGhpcy5fc3RyZWFtRXJyb3I9eShmdW5jdGlvbihlKXt0aGlzLl9zdHJlYW1DbGVhblVwKCksdGhpcy5fc2VuZEVycm9yKGUpfSx0aGlzKSx0aGlzLl9zdHJlYW1FbmQ9eShmdW5jdGlvbigpe3RoaXMuX3N0cmVhbUNsZWFuVXAoKSxyPSEwLHRoaXMuX3N0cmVhbURhdGEoXCJcIil9LHRoaXMpLHRoaXMuX3N0cmVhbUNsZWFuVXA9eShmdW5jdGlvbigpe3RoaXMuX2lucHV0LnJlbW92ZUxpc3RlbmVyKFwiZGF0YVwiLHRoaXMuX3N0cmVhbURhdGEpLHRoaXMuX2lucHV0LnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsdGhpcy5fc3RyZWFtRW5kKSx0aGlzLl9pbnB1dC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsdGhpcy5fc3RyZWFtRXJyb3IpfSx0aGlzKX1mdW5jdGlvbiBpKG0pe3ZhciBhLG8saCxyPU1hdGgucG93KDIsNTMpLG49LXIscz0vXlxccyotPyhcXGQrXFwuP3xcXC5cXGQrfFxcZCtcXC5cXGQrKShlWy0rXT9cXGQrKT9cXHMqJC8sdT0vKFxcZHs0fS1bMDFdXFxkLVswLTNdXFxkVFswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkXFwuXFxkKyhbKy1dWzAtMl1cXGQ6WzAtNV1cXGR8WikpfChcXGR7NH0tWzAxXVxcZC1bMC0zXVxcZFRbMC0yXVxcZDpbMC01XVxcZDpbMC01XVxcZChbKy1dWzAtMl1cXGQ6WzAtNV1cXGR8WikpfChcXGR7NH0tWzAxXVxcZC1bMC0zXVxcZFRbMC0yXVxcZDpbMC01XVxcZChbKy1dWzAtMl1cXGQ6WzAtNV1cXGR8WikpLyx0PXRoaXMsaT0wLGY9MCxkPSExLGU9ITEsbD1bXSxjPXtkYXRhOltdLGVycm9yczpbXSxtZXRhOnt9fTtpZihVKG0uc3RlcCkpe3ZhciBwPW0uc3RlcDttLnN0ZXA9ZnVuY3Rpb24oZSl7aWYoYz1lLF8oKSlnKCk7ZWxzZXtpZihnKCksMD09PWMuZGF0YS5sZW5ndGgpcmV0dXJuO2krPWUuZGF0YS5sZW5ndGgsbS5wcmV2aWV3JiZpPm0ucHJldmlldz9vLmFib3J0KCk6KGMuZGF0YT1jLmRhdGFbMF0scChjLHQpKX19fWZ1bmN0aW9uIHYoZSl7cmV0dXJuXCJncmVlZHlcIj09PW0uc2tpcEVtcHR5TGluZXM/XCJcIj09PWUuam9pbihcIlwiKS50cmltKCk6MT09PWUubGVuZ3RoJiYwPT09ZVswXS5sZW5ndGh9ZnVuY3Rpb24gZygpe2lmKGMmJmgmJihrKFwiRGVsaW1pdGVyXCIsXCJVbmRldGVjdGFibGVEZWxpbWl0ZXJcIixcIlVuYWJsZSB0byBhdXRvLWRldGVjdCBkZWxpbWl0aW5nIGNoYXJhY3RlcjsgZGVmYXVsdGVkIHRvICdcIitiLkRlZmF1bHREZWxpbWl0ZXIrXCInXCIpLGg9ITEpLG0uc2tpcEVtcHR5TGluZXMpZm9yKHZhciBlPTA7ZTxjLmRhdGEubGVuZ3RoO2UrKyl2KGMuZGF0YVtlXSkmJmMuZGF0YS5zcGxpY2UoZS0tLDEpO3JldHVybiBfKCkmJmZ1bmN0aW9uKCl7aWYoIWMpcmV0dXJuO2Z1bmN0aW9uIGUoZSl7VShtLnRyYW5zZm9ybUhlYWRlcikmJihlPW0udHJhbnNmb3JtSGVhZGVyKGUpKSxsLnB1c2goZSl9aWYoQXJyYXkuaXNBcnJheShjLmRhdGFbMF0pKXtmb3IodmFyIHQ9MDtfKCkmJnQ8Yy5kYXRhLmxlbmd0aDt0KyspYy5kYXRhW3RdLmZvckVhY2goZSk7Yy5kYXRhLnNwbGljZSgwLDEpfWVsc2UgYy5kYXRhLmZvckVhY2goZSl9KCksZnVuY3Rpb24oKXtpZighY3x8IW0uaGVhZGVyJiYhbS5keW5hbWljVHlwaW5nJiYhbS50cmFuc2Zvcm0pcmV0dXJuIGM7ZnVuY3Rpb24gZShlLHQpe3ZhciBpLHI9bS5oZWFkZXI/e306W107Zm9yKGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG49aSxzPWVbaV07bS5oZWFkZXImJihuPWk+PWwubGVuZ3RoP1wiX19wYXJzZWRfZXh0cmFcIjpsW2ldKSxtLnRyYW5zZm9ybSYmKHM9bS50cmFuc2Zvcm0ocyxuKSkscz15KG4scyksXCJfX3BhcnNlZF9leHRyYVwiPT09bj8ocltuXT1yW25dfHxbXSxyW25dLnB1c2gocykpOnJbbl09c31yZXR1cm4gbS5oZWFkZXImJihpPmwubGVuZ3RoP2soXCJGaWVsZE1pc21hdGNoXCIsXCJUb29NYW55RmllbGRzXCIsXCJUb28gbWFueSBmaWVsZHM6IGV4cGVjdGVkIFwiK2wubGVuZ3RoK1wiIGZpZWxkcyBidXQgcGFyc2VkIFwiK2ksZit0KTppPGwubGVuZ3RoJiZrKFwiRmllbGRNaXNtYXRjaFwiLFwiVG9vRmV3RmllbGRzXCIsXCJUb28gZmV3IGZpZWxkczogZXhwZWN0ZWQgXCIrbC5sZW5ndGgrXCIgZmllbGRzIGJ1dCBwYXJzZWQgXCIraSxmK3QpKSxyfXZhciB0PTE7IWMuZGF0YS5sZW5ndGh8fEFycmF5LmlzQXJyYXkoYy5kYXRhWzBdKT8oYy5kYXRhPWMuZGF0YS5tYXAoZSksdD1jLmRhdGEubGVuZ3RoKTpjLmRhdGE9ZShjLmRhdGEsMCk7bS5oZWFkZXImJmMubWV0YSYmKGMubWV0YS5maWVsZHM9bCk7cmV0dXJuIGYrPXQsY30oKX1mdW5jdGlvbiBfKCl7cmV0dXJuIG0uaGVhZGVyJiYwPT09bC5sZW5ndGh9ZnVuY3Rpb24geShlLHQpe3JldHVybiBpPWUsbS5keW5hbWljVHlwaW5nRnVuY3Rpb24mJnZvaWQgMD09PW0uZHluYW1pY1R5cGluZ1tpXSYmKG0uZHluYW1pY1R5cGluZ1tpXT1tLmR5bmFtaWNUeXBpbmdGdW5jdGlvbihpKSksITA9PT0obS5keW5hbWljVHlwaW5nW2ldfHxtLmR5bmFtaWNUeXBpbmcpP1widHJ1ZVwiPT09dHx8XCJUUlVFXCI9PT10fHxcImZhbHNlXCIhPT10JiZcIkZBTFNFXCIhPT10JiYoZnVuY3Rpb24oZSl7aWYocy50ZXN0KGUpKXt2YXIgdD1wYXJzZUZsb2F0KGUpO2lmKG48dCYmdDxyKXJldHVybiEwfXJldHVybiExfSh0KT9wYXJzZUZsb2F0KHQpOnUudGVzdCh0KT9uZXcgRGF0ZSh0KTpcIlwiPT09dD9udWxsOnQpOnQ7dmFyIGl9ZnVuY3Rpb24gayhlLHQsaSxyKXt2YXIgbj17dHlwZTplLGNvZGU6dCxtZXNzYWdlOml9O3ZvaWQgMCE9PXImJihuLnJvdz1yKSxjLmVycm9ycy5wdXNoKG4pfXRoaXMucGFyc2U9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPW0ucXVvdGVDaGFyfHwnXCInO2lmKG0ubmV3bGluZXx8KG0ubmV3bGluZT1mdW5jdGlvbihlLHQpe2U9ZS5zdWJzdHJpbmcoMCwxMDQ4NTc2KTt2YXIgaT1uZXcgUmVnRXhwKHEodCkrXCIoW15dKj8pXCIrcSh0KSxcImdtXCIpLHI9KGU9ZS5yZXBsYWNlKGksXCJcIikpLnNwbGl0KFwiXFxyXCIpLG49ZS5zcGxpdChcIlxcblwiKSxzPTE8bi5sZW5ndGgmJm5bMF0ubGVuZ3RoPHJbMF0ubGVuZ3RoO2lmKDE9PT1yLmxlbmd0aHx8cylyZXR1cm5cIlxcblwiO2Zvcih2YXIgYT0wLG89MDtvPHIubGVuZ3RoO28rKylcIlxcblwiPT09cltvXVswXSYmYSsrO3JldHVybiBhPj1yLmxlbmd0aC8yP1wiXFxyXFxuXCI6XCJcXHJcIn0oZSxyKSksaD0hMSxtLmRlbGltaXRlcilVKG0uZGVsaW1pdGVyKSYmKG0uZGVsaW1pdGVyPW0uZGVsaW1pdGVyKGUpLGMubWV0YS5kZWxpbWl0ZXI9bS5kZWxpbWl0ZXIpO2Vsc2V7dmFyIG49ZnVuY3Rpb24oZSx0LGkscixuKXt2YXIgcyxhLG8saDtuPW58fFtcIixcIixcIlxcdFwiLFwifFwiLFwiO1wiLGIuUkVDT1JEX1NFUCxiLlVOSVRfU0VQXTtmb3IodmFyIHU9MDt1PG4ubGVuZ3RoO3UrKyl7dmFyIGY9blt1XSxkPTAsbD0wLGM9MDtvPXZvaWQgMDtmb3IodmFyIHA9bmV3IHcoe2NvbW1lbnRzOnIsZGVsaW1pdGVyOmYsbmV3bGluZTp0LHByZXZpZXc6MTB9KS5wYXJzZShlKSxnPTA7ZzxwLmRhdGEubGVuZ3RoO2crKylpZihpJiZ2KHAuZGF0YVtnXSkpYysrO2Vsc2V7dmFyIF89cC5kYXRhW2ddLmxlbmd0aDtsKz1fLHZvaWQgMCE9PW8/MDxfJiYoZCs9TWF0aC5hYnMoXy1vKSxvPV8pOm89X30wPHAuZGF0YS5sZW5ndGgmJihsLz1wLmRhdGEubGVuZ3RoLWMpLCh2b2lkIDA9PT1hfHxkPD1hKSYmKHZvaWQgMD09PWh8fGg8bCkmJjEuOTk8bCYmKGE9ZCxzPWYsaD1sKX1yZXR1cm57c3VjY2Vzc2Z1bDohIShtLmRlbGltaXRlcj1zKSxiZXN0RGVsaW1pdGVyOnN9fShlLG0ubmV3bGluZSxtLnNraXBFbXB0eUxpbmVzLG0uY29tbWVudHMsbS5kZWxpbWl0ZXJzVG9HdWVzcyk7bi5zdWNjZXNzZnVsP20uZGVsaW1pdGVyPW4uYmVzdERlbGltaXRlcjooaD0hMCxtLmRlbGltaXRlcj1iLkRlZmF1bHREZWxpbWl0ZXIpLGMubWV0YS5kZWxpbWl0ZXI9bS5kZWxpbWl0ZXJ9dmFyIHM9RShtKTtyZXR1cm4gbS5wcmV2aWV3JiZtLmhlYWRlciYmcy5wcmV2aWV3KyssYT1lLG89bmV3IHcocyksYz1vLnBhcnNlKGEsdCxpKSxnKCksZD97bWV0YTp7cGF1c2VkOiEwfX06Y3x8e21ldGE6e3BhdXNlZDohMX19fSx0aGlzLnBhdXNlZD1mdW5jdGlvbigpe3JldHVybiBkfSx0aGlzLnBhdXNlPWZ1bmN0aW9uKCl7ZD0hMCxvLmFib3J0KCksYT1VKG0uY2h1bmspP1wiXCI6YS5zdWJzdHJpbmcoby5nZXRDaGFySW5kZXgoKSl9LHRoaXMucmVzdW1lPWZ1bmN0aW9uKCl7dC5zdHJlYW1lci5faGFsdGVkPyhkPSExLHQuc3RyZWFtZXIucGFyc2VDaHVuayhhLCEwKSk6c2V0VGltZW91dCh0LnJlc3VtZSwzKX0sdGhpcy5hYm9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHRoaXMuYWJvcnQ9ZnVuY3Rpb24oKXtlPSEwLG8uYWJvcnQoKSxjLm1ldGEuYWJvcnRlZD0hMCxVKG0uY29tcGxldGUpJiZtLmNvbXBsZXRlKGMpLGE9XCJcIn19ZnVuY3Rpb24gcShlKXtyZXR1cm4gZS5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZyxcIlxcXFwkJlwiKX1mdW5jdGlvbiB3KGUpe3ZhciBPLEQ9KGU9ZXx8e30pLmRlbGltaXRlcixJPWUubmV3bGluZSxUPWUuY29tbWVudHMsQT1lLnN0ZXAsTD1lLnByZXZpZXcsRj1lLmZhc3RNb2RlLHo9Tz12b2lkIDA9PT1lLnF1b3RlQ2hhcj8nXCInOmUucXVvdGVDaGFyO2lmKHZvaWQgMCE9PWUuZXNjYXBlQ2hhciYmKHo9ZS5lc2NhcGVDaGFyKSwoXCJzdHJpbmdcIiE9dHlwZW9mIER8fC0xPGIuQkFEX0RFTElNSVRFUlMuaW5kZXhPZihEKSkmJihEPVwiLFwiKSxUPT09RCl0aHJvdyBuZXcgRXJyb3IoXCJDb21tZW50IGNoYXJhY3RlciBzYW1lIGFzIGRlbGltaXRlclwiKTshMD09PVQ/VD1cIiNcIjooXCJzdHJpbmdcIiE9dHlwZW9mIFR8fC0xPGIuQkFEX0RFTElNSVRFUlMuaW5kZXhPZihUKSkmJihUPSExKSxcIlxcblwiIT09SSYmXCJcXHJcIiE9PUkmJlwiXFxyXFxuXCIhPT1JJiYoST1cIlxcblwiKTt2YXIgTT0wLGo9ITE7dGhpcy5wYXJzZT1mdW5jdGlvbihhLHQsaSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEpdGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgbXVzdCBiZSBhIHN0cmluZ1wiKTt2YXIgcj1hLmxlbmd0aCxlPUQubGVuZ3RoLG49SS5sZW5ndGgscz1ULmxlbmd0aCxvPVUoQSksaD1bXSx1PVtdLGY9W10sZD1NPTA7aWYoIWEpcmV0dXJuIFIoKTtpZihGfHwhMSE9PUYmJi0xPT09YS5pbmRleE9mKE8pKXtmb3IodmFyIGw9YS5zcGxpdChJKSxjPTA7YzxsLmxlbmd0aDtjKyspe2lmKGY9bFtjXSxNKz1mLmxlbmd0aCxjIT09bC5sZW5ndGgtMSlNKz1JLmxlbmd0aDtlbHNlIGlmKGkpcmV0dXJuIFIoKTtpZighVHx8Zi5zdWJzdHJpbmcoMCxzKSE9PVQpe2lmKG8pe2lmKGg9W10sYihmLnNwbGl0KEQpKSxTKCksailyZXR1cm4gUigpfWVsc2UgYihmLnNwbGl0KEQpKTtpZihMJiZMPD1jKXJldHVybiBoPWguc2xpY2UoMCxMKSxSKCEwKX19cmV0dXJuIFIoKX1mb3IodmFyIHA9YS5pbmRleE9mKEQsTSksZz1hLmluZGV4T2YoSSxNKSxfPW5ldyBSZWdFeHAocSh6KStxKE8pLFwiZ1wiKSxtPWEuaW5kZXhPZihPLE0pOzspaWYoYVtNXSE9PU8paWYoVCYmMD09PWYubGVuZ3RoJiZhLnN1YnN0cmluZyhNLE0rcyk9PT1UKXtpZigtMT09PWcpcmV0dXJuIFIoKTtNPWcrbixnPWEuaW5kZXhPZihJLE0pLHA9YS5pbmRleE9mKEQsTSl9ZWxzZXtpZigtMSE9PXAmJihwPGd8fC0xPT09Zykpe2lmKCEocDxtKSl7Zi5wdXNoKGEuc3Vic3RyaW5nKE0scCkpLE09cCtlLHA9YS5pbmRleE9mKEQsTSk7Y29udGludWV9dmFyIHY9eChwLG0sZyk7aWYodiYmdm9pZCAwIT09di5uZXh0RGVsaW0pe3A9di5uZXh0RGVsaW0sbT12LnF1b3RlU2VhcmNoLGYucHVzaChhLnN1YnN0cmluZyhNLHApKSxNPXArZSxwPWEuaW5kZXhPZihELE0pO2NvbnRpbnVlfX1pZigtMT09PWcpYnJlYWs7aWYoZi5wdXNoKGEuc3Vic3RyaW5nKE0sZykpLEMoZytuKSxvJiYoUygpLGopKXJldHVybiBSKCk7aWYoTCYmaC5sZW5ndGg+PUwpcmV0dXJuIFIoITApfWVsc2UgZm9yKG09TSxNKys7Oyl7aWYoLTE9PT0obT1hLmluZGV4T2YoTyxtKzEpKSlyZXR1cm4gaXx8dS5wdXNoKHt0eXBlOlwiUXVvdGVzXCIsY29kZTpcIk1pc3NpbmdRdW90ZXNcIixtZXNzYWdlOlwiUXVvdGVkIGZpZWxkIHVudGVybWluYXRlZFwiLHJvdzpoLmxlbmd0aCxpbmRleDpNfSksRSgpO2lmKG09PT1yLTEpcmV0dXJuIEUoYS5zdWJzdHJpbmcoTSxtKS5yZXBsYWNlKF8sTykpO2lmKE8hPT16fHxhW20rMV0hPT16KXtpZihPPT09enx8MD09PW18fGFbbS0xXSE9PXopey0xIT09cCYmcDxtKzEmJihwPWEuaW5kZXhPZihELG0rMSkpLC0xIT09ZyYmZzxtKzEmJihnPWEuaW5kZXhPZihJLG0rMSkpO3ZhciB5PXcoLTE9PT1nP3A6TWF0aC5taW4ocCxnKSk7aWYoYVttKzEreV09PT1EKXtmLnB1c2goYS5zdWJzdHJpbmcoTSxtKS5yZXBsYWNlKF8sTykpLGFbTT1tKzEreStlXSE9PU8mJihtPWEuaW5kZXhPZihPLE0pKSxwPWEuaW5kZXhPZihELE0pLGc9YS5pbmRleE9mKEksTSk7YnJlYWt9dmFyIGs9dyhnKTtpZihhLnN1YnN0cmluZyhtKzErayxtKzEraytuKT09PUkpe2lmKGYucHVzaChhLnN1YnN0cmluZyhNLG0pLnJlcGxhY2UoXyxPKSksQyhtKzEraytuKSxwPWEuaW5kZXhPZihELE0pLG09YS5pbmRleE9mKE8sTSksbyYmKFMoKSxqKSlyZXR1cm4gUigpO2lmKEwmJmgubGVuZ3RoPj1MKXJldHVybiBSKCEwKTticmVha311LnB1c2goe3R5cGU6XCJRdW90ZXNcIixjb2RlOlwiSW52YWxpZFF1b3Rlc1wiLG1lc3NhZ2U6XCJUcmFpbGluZyBxdW90ZSBvbiBxdW90ZWQgZmllbGQgaXMgbWFsZm9ybWVkXCIscm93OmgubGVuZ3RoLGluZGV4Ok19KSxtKyt9fWVsc2UgbSsrfXJldHVybiBFKCk7ZnVuY3Rpb24gYihlKXtoLnB1c2goZSksZD1NfWZ1bmN0aW9uIHcoZSl7dmFyIHQ9MDtpZigtMSE9PWUpe3ZhciBpPWEuc3Vic3RyaW5nKG0rMSxlKTtpJiZcIlwiPT09aS50cmltKCkmJih0PWkubGVuZ3RoKX1yZXR1cm4gdH1mdW5jdGlvbiBFKGUpe3JldHVybiBpfHwodm9pZCAwPT09ZSYmKGU9YS5zdWJzdHJpbmcoTSkpLGYucHVzaChlKSxNPXIsYihmKSxvJiZTKCkpLFIoKX1mdW5jdGlvbiBDKGUpe009ZSxiKGYpLGY9W10sZz1hLmluZGV4T2YoSSxNKX1mdW5jdGlvbiBSKGUpe3JldHVybntkYXRhOmgsZXJyb3JzOnUsbWV0YTp7ZGVsaW1pdGVyOkQsbGluZWJyZWFrOkksYWJvcnRlZDpqLHRydW5jYXRlZDohIWUsY3Vyc29yOmQrKHR8fDApfX19ZnVuY3Rpb24gUygpe0EoUigpKSxoPVtdLHU9W119ZnVuY3Rpb24geChlLHQsaSl7dmFyIHI9e25leHREZWxpbTp2b2lkIDAscXVvdGVTZWFyY2g6dm9pZCAwfSxuPWEuaW5kZXhPZihPLHQrMSk7aWYodDxlJiZlPG4mJihuPGl8fC0xPT09aSkpe3ZhciBzPWEuaW5kZXhPZihELG4pO2lmKC0xPT09cylyZXR1cm4gcjtuPHMmJihuPWEuaW5kZXhPZihPLG4rMSkpLHI9eChzLG4saSl9ZWxzZSByPXtuZXh0RGVsaW06ZSxxdW90ZVNlYXJjaDp0fTtyZXR1cm4gcn19LHRoaXMuYWJvcnQ9ZnVuY3Rpb24oKXtqPSEwfSx0aGlzLmdldENoYXJJbmRleD1mdW5jdGlvbigpe3JldHVybiBNfX1mdW5jdGlvbiBfKGUpe3ZhciB0PWUuZGF0YSxpPWFbdC53b3JrZXJJZF0scj0hMTtpZih0LmVycm9yKWkudXNlckVycm9yKHQuZXJyb3IsdC5maWxlKTtlbHNlIGlmKHQucmVzdWx0cyYmdC5yZXN1bHRzLmRhdGEpe3ZhciBuPXthYm9ydDpmdW5jdGlvbigpe3I9ITAsbSh0LndvcmtlcklkLHtkYXRhOltdLGVycm9yczpbXSxtZXRhOnthYm9ydGVkOiEwfX0pfSxwYXVzZTp2LHJlc3VtZTp2fTtpZihVKGkudXNlclN0ZXApKXtmb3IodmFyIHM9MDtzPHQucmVzdWx0cy5kYXRhLmxlbmd0aCYmKGkudXNlclN0ZXAoe2RhdGE6dC5yZXN1bHRzLmRhdGFbc10sZXJyb3JzOnQucmVzdWx0cy5lcnJvcnMsbWV0YTp0LnJlc3VsdHMubWV0YX0sbiksIXIpO3MrKyk7ZGVsZXRlIHQucmVzdWx0c31lbHNlIFUoaS51c2VyQ2h1bmspJiYoaS51c2VyQ2h1bmsodC5yZXN1bHRzLG4sdC5maWxlKSxkZWxldGUgdC5yZXN1bHRzKX10LmZpbmlzaGVkJiYhciYmbSh0LndvcmtlcklkLHQucmVzdWx0cyl9ZnVuY3Rpb24gbShlLHQpe3ZhciBpPWFbZV07VShpLnVzZXJDb21wbGV0ZSkmJmkudXNlckNvbXBsZXRlKHQpLGkudGVybWluYXRlKCksZGVsZXRlIGFbZV19ZnVuY3Rpb24gdigpe3Rocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZC5cIil9ZnVuY3Rpb24gRShlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuIGU7dmFyIHQ9QXJyYXkuaXNBcnJheShlKT9bXTp7fTtmb3IodmFyIGkgaW4gZSl0W2ldPUUoZVtpXSk7cmV0dXJuIHR9ZnVuY3Rpb24geShlLHQpe3JldHVybiBmdW5jdGlvbigpe2UuYXBwbHkodCxhcmd1bWVudHMpfX1mdW5jdGlvbiBVKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGV9cmV0dXJuIG8mJihmLm9ubWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGE7dm9pZCAwPT09Yi5XT1JLRVJfSUQmJnQmJihiLldPUktFUl9JRD10LndvcmtlcklkKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdC5pbnB1dClmLnBvc3RNZXNzYWdlKHt3b3JrZXJJZDpiLldPUktFUl9JRCxyZXN1bHRzOmIucGFyc2UodC5pbnB1dCx0LmNvbmZpZyksZmluaXNoZWQ6ITB9KTtlbHNlIGlmKGYuRmlsZSYmdC5pbnB1dCBpbnN0YW5jZW9mIEZpbGV8fHQuaW5wdXQgaW5zdGFuY2VvZiBPYmplY3Qpe3ZhciBpPWIucGFyc2UodC5pbnB1dCx0LmNvbmZpZyk7aSYmZi5wb3N0TWVzc2FnZSh7d29ya2VySWQ6Yi5XT1JLRVJfSUQscmVzdWx0czppLGZpbmlzaGVkOiEwfSl9fSksKGwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1sLChjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YywocC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShwLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXAsKGcucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1nLGJ9KTsiLCJpbXBvcnQgKiBhcyBKb2kgZnJvbSAnQGhhcGkvam9pJztcblxuZXhwb3J0IGludGVyZmFjZSBDb25maWcge1xuXHRjb2x1bW5zX3RvX3NraXA6IHN0cmluZ1tdLFxuXHRtYXJrZG93bl9wYXJzZTogYm9vbGVhbixcblx0Y29sb3JfYnlfd2VlazogYm9vbGVhbixcblx0d2Vla19saWdodDogc3RyaW5nLFxuXHR3ZWVrX2Rhcms6IHN0cmluZyxcblx0c3BlY2lhbF9yb3dfY29sb3JzOiBSb3dDb2xvcltdLFxuXHR0YWJsZV9jc3NfY2xhc3M6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJvd0NvbG9yIHtcblx0c2hlZXRfcm93OiBudW1iZXIsXG5cdHNoZWV0X3Jvd190eHQ6IHN0cmluZyxcblx0Y29sb3I6IHN0cmluZyxcblx0dHJfY3NzX2NsYXNzOiBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IFJvd0NvbG9yU2NoZW1hID0gSm9pLm9iamVjdCgpLmtleXMoe1xuXHRzaGVldF9yb3c6IEpvaS5udW1iZXIoKSxcblx0c2hlZXRfcm93X3R4dDogSm9pLnN0cmluZygpLFxuXHRjb2xvcjogSm9pLnN0cmluZygpLFxuXHR0cl9jc3NfY2xhc3M6IEpvaS5zdHJpbmcoKVxufSkvLy54b3IoJ3NoZWV0X3JvdycsICdzaGVldF9yb3dfdHh0JykueG9yKCdjb2xvcicsICd0cl9jc3NfY2xhc3MnKTtcblxuZXhwb3J0IGNvbnN0IENvbmZpZ1NjaGVtYSA9IEpvaS5vYmplY3QoKS5rZXlzKHtcblx0Y29sdW1uc190b19za2lwOiBKb2kuYXJyYXkoKS5pdGVtcyhKb2kuc3RyaW5nKCkpLmRlZmF1bHQoW10pLFxuXHRtYXJrZG93bl9wYXJzZTogSm9pLmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpLFxuXHRjb2xvcl9ieV93ZWVrOiBKb2kuYm9vbGVhbigpLmRlZmF1bHQodHJ1ZSksXG5cdHdlZWtfbGlnaHQ6IEpvaS5zdHJpbmcoKS5kZWZhdWx0KFwiI2ZmZmZmZlwiKSxcblx0d2Vla19kYXJrOiBKb2kuc3RyaW5nKCkuZGVmYXVsdChcIiNmN2Y4ZmFcIiksXG5cdHNwZWNpYWxfcm93X2NvbG9yczogSm9pLmFycmF5KCkuaXRlbXMoUm93Q29sb3JTY2hlbWEpLmRlZmF1bHQoW10pLFxuXHR0YWJsZV9jc3NfY2xhc3M6IEpvaS5zdHJpbmcoKS5kZWZhdWx0KFwidGFibGUtc2tlZGpcIilcbiAgfSk7IiwiaW1wb3J0IGdlbmVyYXRlVGFibGUgZnJvbSAnLi90YWJsZWdlbic7XG5pbXBvcnQge0NvbmZpZ30gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IFBhcGEgZnJvbSAncGFwYXBhcnNlJztcblxuLy8gd2lzaGxpc3Q6XG4vLyBbeF0gaW5kaWNhdGUgd2hpY2ggY29sdW1ucyB0byBza2lwXG4vLyBbeF0gbWFya2Rvd24gcGFyc2luZ1xuLy8gWyBdIHRvZ2dsZSBtYXJrZG93biBwYXJzaW5nXG4vLyBbIF0gZnJlZXplL2dlbmVyYXRlIGh0bWwgdG8gc2F2ZSBpbiBjYXNlIGdvb2dsZSBkb2NzIHVybCBzdG9wcyB3b3JraW5nXG4vLyBbIF0gbGV0IHVzZXIgcGFzcyBzdHlsZXNoZWV0XG4vLyBbeF0gY29sb3Igc3BlY2lmaWMgcm93cyAobnVtYmVycylcbi8vIFt4XSBjb2xvciBzcGVjaWZpYyByb3dzIChjb250YWluaW5nIHRleHQpXG4vLyBbeF0gd2VlayBhbHRlcm5hdGUgY29sb3Jcbi8vIFt4XSBsZXQgdXNlciBwYXNzIGNvbmZpZyBvYmplY3RcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2tlZGoodXJsOiBzdHJpbmcsIGRpdm5hbWU6IHN0cmluZywgY29uZjogQ29uZmlnKTogdm9pZCB7XG5cdFxuXHRQYXBhLnBhcnNlKHVybCwge1xuXHRcdGRvd25sb2FkOiB0cnVlLFxuXHRcdGhlYWRlcjogdHJ1ZSxcblx0XHRjb21wbGV0ZTogZnVuY3Rpb24ocmVzdWx0cykge1xuXHRcdCAgdmFyIGRhdGEgPSByZXN1bHRzLmRhdGFcblx0XHQgIGNvbnNvbGUubG9nKGRhdGEpXG5cdFx0ICBnZW5lcmF0ZVRhYmxlKGRpdm5hbWUsIGRhdGEsIGNvbmYpXG5cdFx0fVxuXHQgIH0pO1xuXG5cblx0Ly8gY29uc3QgbWlsbGlzZWNvbmRzVW50aWxMdW5jaFRpbWUgPSBtaWxsaXNlY29uZHNVbnRpbChsdW5jaHRpbWUoaG91cnMsIG1pbnV0ZXMpKTtcblx0Ly8gcmV0dXJuIG1zKG1pbGxpc2Vjb25kc1VudGlsTHVuY2hUaW1lLCB7IGxvbmc6IHRydWUgfSk7XG59IiwiaW1wb3J0IG1hcmtlZCBmcm9tICdtYXJrZWQnO1xuaW1wb3J0IHtDb25maWcsIENvbmZpZ1NjaGVtYSwgUm93Q29sb3IsIFJvd0NvbG9yU2NoZW1hfSBmcm9tICcuL2NvbmZpZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdlbmVyYXRlVGFibGUgKGRpdm5hbWU6IHN0cmluZywgc2hlZXREYXRhOiBvYmplY3RbXSwgY29uZjogQ29uZmlnKTogdm9pZCB7XG5cblx0Y29uc3QgdmFsaWRhdGlvbl9jb25maWcgPSBDb25maWdTY2hlbWEudmFsaWRhdGUoY29uZik7XG5cdGlmICh2YWxpZGF0aW9uX2NvbmZpZy5lcnJvcikge1xuXHQgIGNvbnNvbGUubG9nKHZhbGlkYXRpb25fY29uZmlnLmVycm9yLm1lc3NhZ2UpO1xuXHQgIGNvbnNvbGUubG9nKHZhbGlkYXRpb25fY29uZmlnLmVycm9yLmRldGFpbHMpO1xuXHQgIHRocm93IHZhbGlkYXRpb25fY29uZmlnLmVycm9yO1xuXHR9XG5cdGNvbnN0IGNvbmZpZyA9IHZhbGlkYXRpb25fY29uZmlnLnZhbHVlO1xuXG5cdGNvbnN0IHJvd2NvbG9yczogUm93Q29sb3JbXSA9IGNvbmZpZy5zcGVjaWFsX3Jvd19jb2xvcnM7XG5cblx0bGV0IGNvbHNraXBfaWR4OiBudW1iZXJbXSA9IFtdO1xuXG5cdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdm5hbWUpO1xuXG5cdGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xuXHR0YWJsZS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBkaXZuYW1lICsgXCItdGFibGVcIik7XG5cdHRhYmxlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGNvbmZpZy50YWJsZV9jc3NfY2xhc3MhKTtcblx0Y29udGFpbmVyPy5hcHBlbmRDaGlsZCh0YWJsZSk7XG5cblx0bGV0IGhlYWRlciA9IHNoZWV0RGF0YVswXTtcblx0bGV0IGJvZHkgPSBzaGVldERhdGEuc2xpY2UoMCk7XG5cblxuXHRmdW5jdGlvbiBnZW5lcmF0ZVRhYmxlSGVhZCh0YWJsZTogSFRNTFRhYmxlRWxlbWVudCwgZmlyc3Ryb3c6IG9iamVjdCkge1xuXHRcdGxldCB0aGVhZCA9IHRhYmxlLmNyZWF0ZVRIZWFkKCk7XG5cdFx0bGV0IHJvdyA9IHRoZWFkLmluc2VydFJvdygpO1xuXHRcdGxldCBrZXlzID0gT2JqZWN0LmtleXMoZmlyc3Ryb3cpO1xuXHRcdGtleXMuZm9yRWFjaCgoa2V5LCBpbmRleCkgPT4ge1xuXHRcdFx0aWYgKGNvbmZpZy5jb2x1bW5zX3RvX3NraXA/LmluY2x1ZGVzKGtleSkpIHtcblx0XHRcdFx0Y29sc2tpcF9pZHgucHVzaChpbmRleCk7XG5cdFx0XHR9IFxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGxldCB0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcblx0XHRcdFx0dGguaW5uZXJIVE1MID0gbWFya2Rvd24oa2V5KTtcblx0XHRcdFx0cm93LmFwcGVuZENoaWxkKHRoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGdlbmVyYXRlVGFibGVIZWFkKHRhYmxlLCBoZWFkZXIpICBcblxuXHRmdW5jdGlvbiBnZW5lcmF0ZVRhYmxlQm9keSh0YWJsZTogSFRNTFRhYmxlRWxlbWVudCwgZGF0YTogb2JqZWN0W10pIHtcblx0XHRsZXQgdGJvZHkgPSB0YWJsZS5jcmVhdGVUQm9keSgpO1xuXHRcdGRhdGEuZm9yRWFjaCgocm93LCByb3dfaWR4KSA9PiB7XG5cdFx0XHRsZXQgdHIgPSB0Ym9keS5pbnNlcnRSb3coKTtcblx0XHRcdGNvbG9yUm93KHJvd19pZHgsIHJvdywgdHIpO1xuXHRcdFx0bGV0IHZhbHVlcyA9IE9iamVjdC52YWx1ZXMocm93KTtcblx0XHRcdHZhbHVlcy5mb3JFYWNoKCh2YWx1ZSwgY29sX2lkeCkgPT4ge1xuXHRcdFx0XHRpZiAoY29sc2tpcF9pZHguaW5jbHVkZXMoY29sX2lkeCkpIHsgXG5cdFx0XHRcdFx0Ly8gZG8gbm90aGluZywgc2tpcCB0aGlzIGNvbHVtbiBiZWNhdXNlIGl0J3MgaW4gdGhlIHNraXAgbGlzdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxldCB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcblx0XHRcdFx0XHR0ZC5pbm5lckhUTUwgPSBtYXJrZG93bih2YWx1ZSk7XG5cdFx0XHRcdFx0dHIuYXBwZW5kQ2hpbGQodGQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNvbG9yUm93KHJvd19pZHg6IG51bWJlciwgcm93OiBvYmplY3QsIHRyOiBIVE1MVGFibGVSb3dFbGVtZW50KSB7XG5cblx0XHRpZiAoY29uZmlnLmNvbG9yX2J5X3dlZWspIHtcblx0XHRcdGxldCB3ZWVrbnVtID0gT2JqZWN0KHJvdylbXCJXZWVrXCJdO1xuXHRcdFx0aWYgKHdlZWtudW0gJiAxKSB7XG5cdFx0XHRcdHRyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbmZpZy53ZWVrX2xpZ2h0ITtcblx0XHRcdH0gZWxzZSB0ci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb25maWcud2Vla19kYXJrITtcblx0XHR9XG5cdFx0XG5cdFx0bGV0IGFkanVzdGVkX3Jvd19pZHggPSByb3dfaWR4ICsgMjtcblx0XHRpZiAodHlwZW9mIHJvd2NvbG9ycyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcblx0XHRyb3djb2xvcnMuZm9yRWFjaChyb3djb2xvciA9PiB7XG5cdFx0XHRpZiAoISFyb3djb2xvci5zaGVldF9yb3cgJiYgcm93Y29sb3Iuc2hlZXRfcm93ID09PSBhZGp1c3RlZF9yb3dfaWR4KSB7XG5cdFx0XHRcdGlmICghIXJvd2NvbG9yLmNvbG9yKSB0ci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSByb3djb2xvci5jb2xvcjtcblx0XHRcdFx0ZWxzZSBpZiAoISFyb3djb2xvci50cl9jc3NfY2xhc3MpIHRyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHJvd2NvbG9yLnRyX2Nzc19jbGFzcyk7XG5cdFx0XHR9IGVsc2UgaWYgKCEhcm93Y29sb3Iuc2hlZXRfcm93X3R4dCAmJiBvYmplY3RDb250YWlucyhyb3csIHJvd2NvbG9yLnNoZWV0X3Jvd190eHQpKSB7XG5cdFx0XHRcdGlmICghIXJvd2NvbG9yLmNvbG9yKSB0ci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSByb3djb2xvci5jb2xvcjtcblx0XHRcdFx0ZWxzZSBpZiAoISFyb3djb2xvci50cl9jc3NfY2xhc3MpIHRyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHJvd2NvbG9yLnRyX2Nzc19jbGFzcyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBtYXJrZG93bih2YWx1ZTogc3RyaW5nKSB7XG5cdFx0aWYgKGNvbmZpZy5tYXJrZG93bl9wYXJzZSkgcmV0dXJuIG1hcmtlZCh2YWx1ZSk7XG5cdFx0ZWxzZSByZXR1cm4gdmFsdWU7XG5cdH1cblxuXHRmdW5jdGlvbiBvYmplY3RDb250YWlucyhvYmo6IG9iamVjdCwgdGVybTogc3RyaW5nKTogYm9vbGVhbiB7XG5cdFx0bGV0IHZlcmRpY3QgPSBmYWxzZTtcblx0XHRPYmplY3QuZW50cmllcyhvYmopLmZvckVhY2goXG5cdFx0XHQoW2tleSwgdmFsdWVdKSA9PiB7XG5cdFx0XHRcdGlmICh2YWx1ZS5pbmRleE9mKHRlcm0pICE9IC0xKSB2ZXJkaWN0ID0gdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0cmV0dXJuIHZlcmRpY3Q7XG5cdH1cblxuXHRnZW5lcmF0ZVRhYmxlQm9keSh0YWJsZSwgYm9keSlcblxufVxuXG4iXSwic291cmNlUm9vdCI6IiJ9